(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{"/kAC":function(t,e,n){var i=n("3cYt")({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});t.exports=i},"1uat":function(t,e,n){var i;t.exports=(i=n("Ib8C"),n("MlIO"),function(){var t=i,e=t.lib.Hasher,n=t.x64,o=n.Word,r=n.WordArray,a=t.algo;function s(){return o.create.apply(o,arguments)}var c=[s(1116352408,3609767458),s(1899447441,602891725),s(3049323471,3964484399),s(3921009573,2173295548),s(961987163,4081628472),s(1508970993,3053834265),s(2453635748,2937671579),s(2870763221,3664609560),s(3624381080,2734883394),s(310598401,1164996542),s(607225278,1323610764),s(1426881987,3590304994),s(1925078388,4068182383),s(2162078206,991336113),s(2614888103,633803317),s(3248222580,3479774868),s(3835390401,2666613458),s(4022224774,944711139),s(264347078,2341262773),s(604807628,2007800933),s(770255983,1495990901),s(1249150122,1856431235),s(1555081692,3175218132),s(1996064986,2198950837),s(2554220882,3999719339),s(2821834349,766784016),s(2952996808,2566594879),s(3210313671,3203337956),s(3336571891,1034457026),s(3584528711,2466948901),s(113926993,3758326383),s(338241895,168717936),s(666307205,1188179964),s(773529912,1546045734),s(1294757372,1522805485),s(1396182291,2643833823),s(1695183700,2343527390),s(1986661051,1014477480),s(2177026350,1206759142),s(2456956037,344077627),s(2730485921,1290863460),s(2820302411,3158454273),s(3259730800,3505952657),s(3345764771,106217008),s(3516065817,3606008344),s(3600352804,1432725776),s(4094571909,1467031594),s(275423344,851169720),s(430227734,3100823752),s(506948616,1363258195),s(659060556,3750685593),s(883997877,3785050280),s(958139571,3318307427),s(1322822218,3812723403),s(1537002063,2003034995),s(1747873779,3602036899),s(1955562222,1575990012),s(2024104815,1125592928),s(2227730452,2716904306),s(2361852424,442776044),s(2428436474,593698344),s(2756734187,3733110249),s(3204031479,2999351573),s(3329325298,3815920427),s(3391569614,3928383900),s(3515267271,566280711),s(3940187606,3454069534),s(4118630271,4000239992),s(116418474,1914138554),s(174292421,2731055270),s(289380356,3203993006),s(460393269,320620315),s(685471733,587496836),s(852142971,1086792851),s(1017036298,365543100),s(1126000580,2618297676),s(1288033470,3409855158),s(1501505948,4234509866),s(1607167915,987167468),s(1816402316,1246189591)],l=[];!function(){for(var t=0;t<80;t++)l[t]=s()}();var p=a.SHA512=e.extend({_doReset:function(){this._hash=new r.init([new o.init(1779033703,4089235720),new o.init(3144134277,2227873595),new o.init(1013904242,4271175723),new o.init(2773480762,1595750129),new o.init(1359893119,2917565137),new o.init(2600822924,725511199),new o.init(528734635,4215389547),new o.init(1541459225,327033209)])},_doProcessBlock:function(t,e){for(var n=this._hash.words,i=n[0],o=n[1],r=n[2],a=n[3],s=n[4],p=n[5],u=n[6],d=n[7],b=i.high,g=i.low,f=o.high,h=o.low,m=r.high,v=r.low,y=a.high,C=a.low,w=s.high,x=s.low,P=p.high,S=p.low,O=u.high,M=u.low,A=d.high,k=d.low,_=b,R=g,I=f,T=h,E=m,F=v,D=y,N=C,L=w,H=x,U=P,B=S,j=O,z=M,V=A,G=k,$=0;$<80;$++){var Z=l[$];if($<16)var W=Z.high=0|t[e+2*$],q=Z.low=0|t[e+2*$+1];else{var Y=l[$-15],K=Y.high,Q=Y.low,J=(Q>>>1|K<<31)^(Q>>>8|K<<24)^(Q>>>7|K<<25),X=l[$-2],tt=X.high,et=X.low,nt=(et>>>19|tt<<13)^(et<<3|tt>>>29)^(et>>>6|tt<<26),it=l[$-7],ot=l[$-16],rt=ot.low;Z.high=W=(W=(W=((K>>>1|Q<<31)^(K>>>8|Q<<24)^K>>>7)+it.high+((q=J+it.low)>>>0<J>>>0?1:0))+((tt>>>19|et<<13)^(tt<<3|et>>>29)^tt>>>6)+((q+=nt)>>>0<nt>>>0?1:0))+ot.high+((q+=rt)>>>0<rt>>>0?1:0),Z.low=q}var at,st=L&U^~L&j,ct=H&B^~H&z,lt=_&I^_&E^I&E,pt=(R>>>28|_<<4)^(R<<30|_>>>2)^(R<<25|_>>>7),ut=c[$],dt=ut.low,bt=V+((L>>>14|H<<18)^(L>>>18|H<<14)^(L<<23|H>>>9))+((at=G+((H>>>14|L<<18)^(H>>>18|L<<14)^(H<<23|L>>>9)))>>>0<G>>>0?1:0),gt=pt+(R&T^R&F^T&F);V=j,G=z,j=U,z=B,U=L,B=H,L=D+(bt=(bt=(bt=bt+st+((at+=ct)>>>0<ct>>>0?1:0))+ut.high+((at+=dt)>>>0<dt>>>0?1:0))+W+((at+=q)>>>0<q>>>0?1:0))+((H=N+at|0)>>>0<N>>>0?1:0)|0,D=E,N=F,E=I,F=T,I=_,T=R,_=bt+(((_>>>28|R<<4)^(_<<30|R>>>2)^(_<<25|R>>>7))+lt+(gt>>>0<pt>>>0?1:0))+((R=at+gt|0)>>>0<at>>>0?1:0)|0}g=i.low=g+R,i.high=b+_+(g>>>0<R>>>0?1:0),h=o.low=h+T,o.high=f+I+(h>>>0<T>>>0?1:0),v=r.low=v+F,r.high=m+E+(v>>>0<F>>>0?1:0),C=a.low=C+N,a.high=y+D+(C>>>0<N>>>0?1:0),x=s.low=x+H,s.high=w+L+(x>>>0<H>>>0?1:0),S=p.low=S+B,p.high=P+U+(S>>>0<B>>>0?1:0),M=u.low=M+z,u.high=O+j+(M>>>0<z>>>0?1:0),k=d.low=k+G,d.high=A+V+(k>>>0<G>>>0?1:0)},_doFinalize:function(){var t=this._data,e=t.words,n=8*this._nDataBytes,i=8*t.sigBytes;return e[i>>>5]|=128<<24-i%32,e[30+(i+128>>>10<<5)]=Math.floor(n/4294967296),e[31+(i+128>>>10<<5)]=n,t.sigBytes=4*e.length,this._process(),this._hash.toX32()},clone:function(){var t=e.clone.call(this);return t._hash=this._hash.clone(),t},blockSize:32});t.SHA512=e._createHelper(p),t.HmacSHA512=e._createHmacHelper(p)}(),i.SHA512)},"3y9D":function(t,e,n){var i,o,r,a,s,c,l;t.exports=(l=n("Ib8C"),r=(o=(i=l).lib).WordArray,s=[],c=i.algo.SHA1=(a=o.Hasher).extend({_doReset:function(){this._hash=new r.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(t,e){for(var n=this._hash.words,i=n[0],o=n[1],r=n[2],a=n[3],c=n[4],l=0;l<80;l++){if(l<16)s[l]=0|t[e+l];else{var p=s[l-3]^s[l-8]^s[l-14]^s[l-16];s[l]=p<<1|p>>>31}var u=(i<<5|i>>>27)+c+s[l];u+=l<20?1518500249+(o&r|~o&a):l<40?1859775393+(o^r^a):l<60?(o&r|o&a|r&a)-1894007588:(o^r^a)-899497514,c=a,a=r,r=o<<30|o>>>2,o=i,i=u}n[0]=n[0]+i|0,n[1]=n[1]+o|0,n[2]=n[2]+r|0,n[3]=n[3]+a|0,n[4]=n[4]+c|0},_doFinalize:function(){var t=this._data,e=t.words,n=8*this._nDataBytes,i=8*t.sigBytes;return e[i>>>5]|=128<<24-i%32,e[14+(i+64>>>9<<4)]=Math.floor(n/4294967296),e[15+(i+64>>>9<<4)]=n,t.sigBytes=4*e.length,this._process(),this._hash},clone:function(){var t=a.clone.call(this);return t._hash=this._hash.clone(),t}}),i.SHA1=a._createHelper(c),i.HmacSHA1=a._createHmacHelper(c),l.SHA1)},"5hvy":function(t,e,n){var i;t.exports=(i=n("Ib8C"),n("MlIO"),function(t){var e=i,n=e.lib,o=n.WordArray,r=n.Hasher,a=e.x64.Word,s=e.algo,c=[],l=[],p=[];!function(){for(var t=1,e=0,n=0;n<24;n++){c[t+5*e]=(n+1)*(n+2)/2%64;var i=(2*t+3*e)%5;t=e%5,e=i}for(t=0;t<5;t++)for(e=0;e<5;e++)l[t+5*e]=e+(2*t+3*e)%5*5;for(var o=1,r=0;r<24;r++){for(var s=0,u=0,d=0;d<7;d++){if(1&o){var b=(1<<d)-1;b<32?u^=1<<b:s^=1<<b-32}128&o?o=o<<1^113:o<<=1}p[r]=a.create(s,u)}}();var u=[];!function(){for(var t=0;t<25;t++)u[t]=a.create()}();var d=s.SHA3=r.extend({cfg:r.cfg.extend({outputLength:512}),_doReset:function(){for(var t=this._state=[],e=0;e<25;e++)t[e]=new a.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(t,e){for(var n=this._state,i=this.blockSize/2,o=0;o<i;o++){var r=t[e+2*o],a=t[e+2*o+1];r=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8),(I=n[o]).high^=a=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),I.low^=r}for(var s=0;s<24;s++){for(var d=0;d<5;d++){for(var b=0,g=0,f=0;f<5;f++)b^=(I=n[d+5*f]).high,g^=I.low;var h=u[d];h.high=b,h.low=g}for(d=0;d<5;d++){var m=u[(d+4)%5],v=u[(d+1)%5],y=v.high,C=v.low;for(b=m.high^(y<<1|C>>>31),g=m.low^(C<<1|y>>>31),f=0;f<5;f++)(I=n[d+5*f]).high^=b,I.low^=g}for(var w=1;w<25;w++){var x=(I=n[w]).high,P=I.low,S=c[w];S<32?(b=x<<S|P>>>32-S,g=P<<S|x>>>32-S):(b=P<<S-32|x>>>64-S,g=x<<S-32|P>>>64-S);var O=u[l[w]];O.high=b,O.low=g}var M=u[0],A=n[0];for(M.high=A.high,M.low=A.low,d=0;d<5;d++)for(f=0;f<5;f++){var k=u[w=d+5*f],_=u[(d+1)%5+5*f],R=u[(d+2)%5+5*f];(I=n[w]).high=k.high^~_.high&R.high,I.low=k.low^~_.low&R.low}var I,T=p[s];(I=n[0]).high^=T.high,I.low^=T.low}},_doFinalize:function(){var e=this._data,n=e.words,i=8*e.sigBytes,r=32*this.blockSize;n[i>>>5]|=1<<24-i%32,n[(t.ceil((i+1)/r)*r>>>5)-1]|=128,e.sigBytes=4*n.length,this._process();for(var a=this._state,s=this.cfg.outputLength/8,c=s/8,l=[],p=0;p<c;p++){var u=a[p],d=u.high,b=u.low;d=16711935&(d<<8|d>>>24)|4278255360&(d<<24|d>>>8),l.push(b=16711935&(b<<8|b>>>24)|4278255360&(b<<24|b>>>8)),l.push(d)}return new o.init(l,s)},clone:function(){for(var t=r.clone.call(this),e=t._state=this._state.slice(0),n=0;n<25;n++)e[n]=e[n].clone();return t}});e.SHA3=r._createHelper(d),e.HmacSHA3=r._createHmacHelper(d)}(Math),i.SHA3)},"9OqN":function(t,e,n){var i,o,r;t.exports=(r=n("Ib8C"),n("OLod"),r.mode.CTR=(o=(i=r.lib.BlockCipherMode.extend()).Encryptor=i.extend({processBlock:function(t,e){var n=this._cipher,i=n.blockSize,o=this._iv,r=this._counter;o&&(r=this._counter=o.slice(0),this._iv=void 0);var a=r.slice(0);n.encryptBlock(a,0),r[i-1]=r[i-1]+1|0;for(var s=0;s<i;s++)t[e+s]^=a[s]}}),i.Decryptor=o,i),r.mode.CTR)},ALsQ:function(t,e,n){var i;t.exports=(i=n("Ib8C"),n("OLod"),i.mode.CFB=function(){var t=i.lib.BlockCipherMode.extend();function e(t,e,n,i){var o=this._iv;if(o){var r=o.slice(0);this._iv=void 0}else r=this._prevBlock;i.encryptBlock(r,0);for(var a=0;a<n;a++)t[e+a]^=r[a]}return t.Encryptor=t.extend({processBlock:function(t,n){var i=this._cipher,o=i.blockSize;e.call(this,t,n,o,i),this._prevBlock=t.slice(n,n+o)}}),t.Decryptor=t.extend({processBlock:function(t,n){var i=this._cipher,o=i.blockSize,r=t.slice(n,n+o);e.call(this,t,n,o,i),this._prevBlock=r}}),t}(),i.mode.CFB)},"B5V+":function(t,e,n){"use strict";var i=i||{};i.scope={},i.arrayIteratorImpl=function(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}},i.arrayIterator=function(t){return{next:i.arrayIteratorImpl(t)}},i.ASSUME_ES5=!1,i.ASSUME_NO_NATIVE_MAP=!1,i.ASSUME_NO_NATIVE_SET=!1,i.SIMPLE_FROUND_POLYFILL=!1,i.ISOLATE_POLYFILLS=!1,i.defineProperty=i.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){return t==Array.prototype||t==Object.prototype||(t[e]=n.value),t},i.getGlobal=function(t){t=["object"==typeof globalThis&&globalThis,t,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var e=0;e<t.length;++e){var n=t[e];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")},i.global=i.getGlobal(this),i.IS_SYMBOL_NATIVE="function"==typeof Symbol&&"symbol"==typeof Symbol("x"),i.TRUST_ES6_POLYFILLS=!i.ISOLATE_POLYFILLS||i.IS_SYMBOL_NATIVE,i.polyfills={},i.propertyToPolyfillSymbol={},i.POLYFILL_PREFIX="$jscp$",i.polyfill=function(t,e,n,o){e&&(i.ISOLATE_POLYFILLS?i.polyfillIsolated(t,e,n,o):i.polyfillUnisolated(t,e,n,o))},i.polyfillUnisolated=function(t,e){var n=i.global;t=t.split(".");for(var o=0;o<t.length-1;o++){var r=t[o];r in n||(n[r]={}),n=n[r]}(e=e(o=n[t=t[t.length-1]]))!=o&&null!=e&&i.defineProperty(n,t,{configurable:!0,writable:!0,value:e})},i.polyfillIsolated=function(t,e,n){var o=t.split("."),r=o[0];r=!(t=1===o.length)&&r in i.polyfills?i.polyfills:i.global;for(var a=0;a<o.length-1;a++){var s=o[a];s in r||(r[s]={}),r=r[s]}o=o[o.length-1],null!=(e=e(n=i.IS_SYMBOL_NATIVE&&"es6"===n?r[o]:null))&&(t?i.defineProperty(i.polyfills,o,{configurable:!0,writable:!0,value:e}):e!==n&&(i.propertyToPolyfillSymbol[o]=i.IS_SYMBOL_NATIVE?i.global.Symbol(o):i.POLYFILL_PREFIX+o,i.defineProperty(r,o=i.propertyToPolyfillSymbol[o],{configurable:!0,writable:!0,value:e})))},i.initSymbol=function(){},i.polyfill("Symbol",(function(t){function e(t,e){this.$jscomp$symbol$id_=t,i.defineProperty(this,"description",{configurable:!0,writable:!0,value:e})}if(t)return t;e.prototype.toString=function(){return this.$jscomp$symbol$id_};var n=0;return function t(i){if(this instanceof t)throw new TypeError("Symbol is not a constructor");return new e("jscomp_symbol_"+(i||"")+"_"+n++,i)}}),"es6","es3"),i.initSymbolIterator=function(){},i.polyfill("Symbol.iterator",(function(t){if(t)return t;t=Symbol("Symbol.iterator");for(var e="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),n=0;n<e.length;n++){var o=i.global[e[n]];"function"==typeof o&&"function"!=typeof o.prototype[t]&&i.defineProperty(o.prototype,t,{configurable:!0,writable:!0,value:function(){return i.iteratorPrototype(i.arrayIteratorImpl(this))}})}return t}),"es6","es3"),i.initSymbolAsyncIterator=function(){},i.iteratorPrototype=function(t){return(t={next:t})[Symbol.iterator]=function(){return this},t},i.iteratorFromArray=function(t,e){t instanceof String&&(t+="");var n=0,i={next:function(){if(n<t.length){var o=n++;return{value:e(o,t[o]),done:!1}}return i.next=function(){return{done:!0,value:void 0}},i.next()}};return i[Symbol.iterator]=function(){return i},i},i.polyfill("Array.prototype.keys",(function(t){return t||function(){return i.iteratorFromArray(this,(function(t){return t}))}}),"es6","es3"),i.polyfill("Array.prototype.values",(function(t){return t||function(){return i.iteratorFromArray(this,(function(t,e){return e}))}}),"es8","es3"),i.owns=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.assign=i.TRUST_ES6_POLYFILLS&&"function"==typeof Object.assign?Object.assign:function(t,e){for(var n=1;n<arguments.length;n++){var o=arguments[n];if(o)for(var r in o)i.owns(o,r)&&(t[r]=o[r])}return t},i.polyfill("Object.assign",(function(t){return t||i.assign}),"es6","es3"),i.checkEs6ConformanceViaProxy=function(){try{var t={},e=Object.create(new i.global.Proxy(t,{get:function(n,i,o){return n==t&&"q"==i&&o==e}}));return!0===e.q}catch(t){return!1}},i.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS=!1,i.ES6_CONFORMANCE=i.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS&&i.checkEs6ConformanceViaProxy(),i.makeIterator=function(t){var e="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return e?e.call(t):i.arrayIterator(t)},i.polyfill("WeakMap",(function(t){function e(t){if(this.id_=(c+=Math.random()+1).toString(),t){t=i.makeIterator(t);for(var e;!(e=t.next()).done;)this.set((e=e.value)[0],e[1])}}function n(){}function o(t){var e=typeof t;return"object"===e&&null!==t||"function"===e}function r(t){if(!i.owns(t,s)){var e=new n;i.defineProperty(t,s,{value:e})}}function a(t){var e=Object[t];e&&(Object[t]=function(t){return t instanceof n?t:(r(t),e(t))})}if(i.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(t&&i.ES6_CONFORMANCE)return t}else if(function(){if(!t||!Object.seal)return!1;try{var e=Object.seal({}),n=Object.seal({}),i=new t([[e,2],[n,3]]);return 2==i.get(e)&&3==i.get(n)&&(i.delete(e),i.set(n,4),!i.has(e)&&4==i.get(n))}catch(t){return!1}}())return t;var s="$jscomp_hidden_"+Math.random();a("freeze"),a("preventExtensions"),a("seal");var c=0;return e.prototype.set=function(t,e){if(!o(t))throw Error("Invalid WeakMap key");if(r(t),!i.owns(t,s))throw Error("WeakMap key fail: "+t);return t[s][this.id_]=e,this},e.prototype.get=function(t){return o(t)&&i.owns(t,s)?t[s][this.id_]:void 0},e.prototype.has=function(t){return o(t)&&i.owns(t,s)&&i.owns(t[s],this.id_)},e.prototype.delete=function(t){return!!(o(t)&&i.owns(t,s)&&i.owns(t[s],this.id_))&&delete t[s][this.id_]},e}),"es6","es3"),i.MapEntry=function(){},i.polyfill("Map",(function(t){function e(){var t={};return t.previous=t.next=t.head=t}function n(t,e){var n=t.head_;return i.iteratorPrototype((function(){if(n){for(;n.head!=t.head_;)n=n.previous;for(;n.next!=n.head;)return{done:!1,value:e(n=n.next)};n=null}return{done:!0,value:void 0}}))}function o(t,e){var n=e&&typeof e;"object"==n||"function"==n?a.has(e)?n=a.get(e):(n=""+ ++s,a.set(e,n)):n="p_"+e;var o=t.data_[n];if(o&&i.owns(t.data_,n))for(t=0;t<o.length;t++){var r=o[t];if(e!=e&&r.key!=r.key||e===r.key)return{id:n,list:o,index:t,entry:r}}return{id:n,list:o,index:-1,entry:void 0}}function r(t){if(this.data_={},this.head_=e(),this.size=0,t){t=i.makeIterator(t);for(var n;!(n=t.next()).done;)this.set((n=n.value)[0],n[1])}}if(i.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(t&&i.ES6_CONFORMANCE)return t}else if(function(){if(i.ASSUME_NO_NATIVE_MAP||!t||"function"!=typeof t||!t.prototype.entries||"function"!=typeof Object.seal)return!1;try{var e=Object.seal({x:4}),n=new t(i.makeIterator([[e,"s"]]));if("s"!=n.get(e)||1!=n.size||n.get({x:4})||n.set({x:4},"t")!=n||2!=n.size)return!1;var o=n.entries(),r=o.next();return!r.done&&r.value[0]==e&&"s"==r.value[1]&&!((r=o.next()).done||4!=r.value[0].x||"t"!=r.value[1]||!o.next().done)}catch(t){return!1}}())return t;var a=new WeakMap;r.prototype.set=function(t,e){var n=o(this,t=0===t?0:t);return n.list||(n.list=this.data_[n.id]=[]),n.entry?n.entry.value=e:(n.entry={next:this.head_,previous:this.head_.previous,head:this.head_,key:t,value:e},n.list.push(n.entry),this.head_.previous.next=n.entry,this.head_.previous=n.entry,this.size++),this},r.prototype.delete=function(t){return!(!(t=o(this,t)).entry||!t.list||(t.list.splice(t.index,1),t.list.length||delete this.data_[t.id],t.entry.previous.next=t.entry.next,t.entry.next.previous=t.entry.previous,t.entry.head=null,this.size--,0))},r.prototype.clear=function(){this.data_={},this.head_=this.head_.previous=e(),this.size=0},r.prototype.has=function(t){return!!o(this,t).entry},r.prototype.get=function(t){return(t=o(this,t).entry)&&t.value},r.prototype.entries=function(){return n(this,(function(t){return[t.key,t.value]}))},r.prototype.keys=function(){return n(this,(function(t){return t.key}))},r.prototype.values=function(){return n(this,(function(t){return t.value}))},r.prototype.forEach=function(t,e){for(var n,i=this.entries();!(n=i.next()).done;)t.call(e,(n=n.value)[1],n[0],this)},r.prototype[Symbol.iterator]=r.prototype.entries;var s=0;return r}),"es6","es3"),i.checkStringArgs=function(t,e,n){if(null==t)throw new TypeError("The 'this' value for String.prototype."+n+" must not be null or undefined");if(e instanceof RegExp)throw new TypeError("First argument to String.prototype."+n+" must not be a regular expression");return t+""},i.polyfill("String.prototype.endsWith",(function(t){return t||function(t,e){var n=i.checkStringArgs(this,t,"endsWith");t+="",void 0===e&&(e=n.length),e=Math.max(0,Math.min(0|e,n.length));for(var o=t.length;0<o&&0<e;)if(n[--e]!=t[--o])return!1;return 0>=o}}),"es6","es3"),i.polyfill("Number.isNaN",(function(t){return t||function(t){return"number"==typeof t&&isNaN(t)}}),"es6","es3"),i.polyfill("String.prototype.startsWith",(function(t){return t||function(t,e){var n=i.checkStringArgs(this,t,"startsWith"),o=n.length,r=(t+="").length;e=Math.max(0,Math.min(0|e,n.length));for(var a=0;a<r&&e<o;)if(n[e++]!=t[a++])return!1;return a>=r}}),"es6","es3"),t.exports=function(){function t(t){if(this.opts={},this.defaults={},this.messages=Object.assign({},I),this.rules={any:P,array:x,boolean:w,class:C,custom:y,currency:v,date:m,email:h,enum:f,equal:g,forbidden:b,function:d,multi:u,number:p,object:l,objectID:c,string:s,tuple:a,url:r,uuid:o,mac:i,luhn:n},this.aliases={},this.cache=new Map,t){if(S(this.opts,t),t.defaults&&S(this.defaults,t.defaults),t.messages)for(var e in t.messages)this.addMessage(e,t.messages[e]);if(t.aliases)for(var O in t.aliases)this.alias(O,t.aliases[O]);if(t.customRules)for(var M in t.customRules)this.add(M,t.customRules[M]);if(t.plugins){if(t=t.plugins,!Array.isArray(t))throw Error("Plugins type must be array");t.forEach(this.plugin.bind(this))}}}function e(t){return A||(A=M(),k={parser:"babel",useTabs:!1,printWidth:120,trailingComma:"none",tabWidth:4,singleQuote:!1,semi:!0,bracketSpacing:!0},_=M(),R={language:"js",theme:_.fromJson({keyword:["white","bold"],built_in:"magenta",literal:"cyan",number:"magenta",regexp:"red",string:["yellow","bold"],symbol:"plain",class:"blue",attr:"plain",function:["white","bold"],title:"plain",params:"green",comment:"grey"})}),t=A.format(t,k),_.highlight(t,R)}function n(t){return{source:'\n\t\t\tif (typeof value !== "string") {\n\t\t\t\t'+this.makeError({type:"string",actual:"value",messages:t=t.messages})+'\n\t\t\t\treturn value;\n\t\t\t}\n\n\t\t\tif (typeof value !== "string")\n\t\t\t\tvalue = String(value);\n\n\t\t\tval = value.replace(/\\D+/g, "");\n\n\t\t\tvar array = [0, 2, 4, 6, 8, 1, 3, 5, 7, 9];\n\t\t\tvar len = val ? val.length : 0,\n\t\t\t\tbit = 1,\n\t\t\t\tsum = 0;\n\t\t\twhile (len--) {\n\t\t\t\tsum += !(bit ^= 1) ? parseInt(val[len], 10) : array[val[len]];\n\t\t\t}\n\n\t\t\tif (!(sum % 10 === 0 && sum > 0)) {\n\t\t\t\t'+this.makeError({type:"luhn",actual:"value",messages:t})+"\n\t\t\t}\n\n\t\t\treturn value;\n\t\t"}}function i(t){return{source:'\n\t\t\tif (typeof value !== "string") {\n\t\t\t\t'+this.makeError({type:"string",actual:"value",messages:t=t.messages})+"\n\t\t\t\treturn value;\n\t\t\t}\n\n\t\t\tvar v = value.toLowerCase();\n\t\t\tif (!"+G.toString()+".test(v)) {\n\t\t\t\t"+this.makeError({type:"mac",actual:"value",messages:t})+"\n\t\t\t}\n\t\t\t\n\t\t\treturn value;\n\t\t"}}function o(t){var e=t.schema,n=[];return n.push('\n\t\tif (typeof value !== "string") {\n\t\t\t'+this.makeError({type:"string",actual:"value",messages:t=t.messages})+"\n\t\t\treturn value;\n\t\t}\n\n\t\tvar val = value.toLowerCase();\n\t\tif (!"+V.toString()+".test(val)) {\n\t\t\t"+this.makeError({type:"uuid",actual:"value",messages:t})+"\n\t\t\treturn value;\n\t\t}\n\n\t\tconst version = val.charAt(14) | 0;\n\t"),7>parseInt(e.version)&&n.push("\n\t\t\tif ("+e.version+" !== version) {\n\t\t\t\t"+this.makeError({type:"uuidVersion",expected:e.version,actual:"version",messages:t})+"\n\t\t\t\treturn value;\n\t\t\t}\n\t\t"),n.push('\n\t\tswitch (version) {\n\t\tcase 0:\n\t\tcase 1:\n\t\tcase 2:\n\t\tcase 6:\n\t\t\tbreak;\n\t\tcase 3:\n\t\tcase 4:\n\t\tcase 5:\n\t\t\tif (["8", "9", "a", "b"].indexOf(val.charAt(19)) === -1) {\n\t\t\t\t'+this.makeError({type:"uuid",actual:"value",messages:t})+"\n\t\t\t}\n\t\t}\n\n\t\treturn value;\n\t"),{source:n.join("\n")}}function r(t){var e=t.schema,n=[];return n.push('\n\t\tif (typeof value !== "string") {\n\t\t\t'+this.makeError({type:"string",actual:"value",messages:t=t.messages})+"\n\t\t\treturn value;\n\t\t}\n\t"),n.push(e.empty?"\n\t\t\tif (value.length === 0) return value;\n\t\t":"\n\t\t\tif (value.length === 0) {\n\t\t\t\t"+this.makeError({type:"urlEmpty",actual:"value",messages:t})+"\n\t\t\t\treturn value;\n\t\t\t}\n\t\t"),n.push("\n\t\tif (!"+z.toString()+".test(value)) {\n\t\t\t"+this.makeError({type:"url",actual:"value",messages:t})+"\n\t\t}\n\n\t\treturn value;\n\t"),{source:n.join("\n")}}function a(t,e,n){var i=t.schema,o=t.messages;if(t=[],null!=i.items){if(!Array.isArray(i.items))throw Error("Invalid '"+i.type+"' schema. The 'items' field must be an array.");if(0===i.items.length)throw Error("Invalid '"+i.type+"' schema. The 'items' field must not be an empty array.")}if(t.push("\n\t\tif (!Array.isArray(value)) {\n\t\t\t"+this.makeError({type:"tuple",actual:"value",messages:o})+"\n\t\t\treturn value;\n\t\t}\n\n\t\tvar len = value.length;\n\t"),!1===i.empty&&t.push("\n\t\t\tif (len === 0) {\n\t\t\t\t"+this.makeError({type:"tupleEmpty",actual:"value",messages:o})+"\n\t\t\t\treturn value;\n\t\t\t}\n\t\t"),null!=i.items)for(t.push("\n\t\t\tif ("+i.empty+" !== false && len === 0) {\n\t\t\t\treturn value;\n\t\t\t}\n\n\t\t\tif (len !== "+i.items.length+") {\n\t\t\t\t"+this.makeError({type:"tupleLength",expected:i.items.length,actual:"len",messages:o})+"\n\t\t\t\treturn value;\n\t\t\t}\n\t\t"),t.push("\n\t\t\tvar arr = value;\n\t\t\tvar parentField = field;\n\t\t"),o=0;o<i.items.length;o++){var r=e+"["+o+"]",a=this.getRuleFromSchema(i.items[o]);t.push(this.compileRule(a,n,r,"\n\t\t\tarr["+o+"] = context.fn[%%INDEX%%](arr["+o+'], (parentField ? parentField : "") + "[" + '+o+' + "]", parent, errors, context);\n\t\t',"arr["+o+"]"))}return t.push("\n\t\treturn value;\n\t"),{source:t.join("\n")}}function s(t){var e=t.schema;t=t.messages;var n=[],i=!1;if(!0===e.convert&&(i=!0,n.push('\n\t\t\tif (typeof value !== "string") {\n\t\t\t\tvalue = String(value);\n\t\t\t}\n\t\t')),n.push('\n\t\tif (typeof value !== "string") {\n\t\t\t'+this.makeError({type:"string",actual:"value",messages:t})+"\n\t\t\treturn value;\n\t\t}\n\n\t\tvar origValue = value;\n\t"),e.trim&&(i=!0,n.push("\n\t\t\tvalue = value.trim();\n\t\t")),e.trimLeft&&(i=!0,n.push("\n\t\t\tvalue = value.trimLeft();\n\t\t")),e.trimRight&&(i=!0,n.push("\n\t\t\tvalue = value.trimRight();\n\t\t")),e.padStart&&(i=!0,n.push("\n\t\t\tvalue = value.padStart("+e.padStart+", "+JSON.stringify(null!=e.padChar?e.padChar:" ")+");\n\t\t")),e.padEnd&&(i=!0,n.push("\n\t\t\tvalue = value.padEnd("+e.padEnd+", "+JSON.stringify(null!=e.padChar?e.padChar:" ")+");\n\t\t")),e.lowercase&&(i=!0,n.push("\n\t\t\tvalue = value.toLowerCase();\n\t\t")),e.uppercase&&(i=!0,n.push("\n\t\t\tvalue = value.toUpperCase();\n\t\t")),e.localeLowercase&&(i=!0,n.push("\n\t\t\tvalue = value.toLocaleLowerCase();\n\t\t")),e.localeUppercase&&(i=!0,n.push("\n\t\t\tvalue = value.toLocaleUpperCase();\n\t\t")),n.push("\n\t\t\tvar len = value.length;\n\t"),!1===e.empty&&n.push("\n\t\t\tif (len === 0) {\n\t\t\t\t"+this.makeError({type:"stringEmpty",actual:"value",messages:t})+"\n\t\t\t}\n\t\t"),null!=e.min&&n.push("\n\t\t\tif (len < "+e.min+") {\n\t\t\t\t"+this.makeError({type:"stringMin",expected:e.min,actual:"len",messages:t})+"\n\t\t\t}\n\t\t"),null!=e.max&&n.push("\n\t\t\tif (len > "+e.max+") {\n\t\t\t\t"+this.makeError({type:"stringMax",expected:e.max,actual:"len",messages:t})+"\n\t\t\t}\n\t\t"),null!=e.length&&n.push("\n\t\t\tif (len !== "+e.length+") {\n\t\t\t\t"+this.makeError({type:"stringLength",expected:e.length,actual:"len",messages:t})+"\n\t\t\t}\n\t\t"),null!=e.pattern){var o=e.pattern;"string"==typeof e.pattern&&(o=new RegExp(e.pattern,e.patternFlags)),o="\n\t\t\tif (!"+o.toString()+".test(value))\n\t\t\t\t"+this.makeError({type:"stringPattern",expected:'"'+o.toString().replace(/"/g,"\\$&")+'"',actual:"origValue",messages:t})+"\n\t\t",n.push("\n\t\t\tif ("+e.empty+" === true && len === 0) {\n\t\t\t\t// Do nothing\n\t\t\t} else {\n\t\t\t\t"+o+"\n\t\t\t}\n\t\t")}return null!=e.contains&&n.push('\n\t\t\tif (value.indexOf("'+e.contains+'") === -1) {\n\t\t\t\t'+this.makeError({type:"stringContains",expected:'"'+e.contains+'"',actual:"origValue",messages:t})+"\n\t\t\t}\n\t\t"),null!=e.enum&&(o=JSON.stringify(e.enum),n.push("\n\t\t\tif ("+o+".indexOf(value) === -1) {\n\t\t\t\t"+this.makeError({type:"stringEnum",expected:'"'+e.enum.join(", ")+'"',actual:"origValue",messages:t})+"\n\t\t\t}\n\t\t")),!0===e.numeric&&n.push("\n\t\t\tif (!"+N.toString()+".test(value) ) {\n\t\t\t\t"+this.makeError({type:"stringNumeric",actual:"origValue",messages:t})+"\n\t\t\t}\n\t\t"),!0===e.alpha&&n.push("\n\t\t\tif(!"+L.toString()+".test(value)) {\n\t\t\t\t"+this.makeError({type:"stringAlpha",actual:"origValue",messages:t})+"\n\t\t\t}\n\t\t"),!0===e.alphanum&&n.push("\n\t\t\tif(!"+H.toString()+".test(value)) {\n\t\t\t\t"+this.makeError({type:"stringAlphanum",actual:"origValue",messages:t})+"\n\t\t\t}\n\t\t"),!0===e.alphadash&&n.push("\n\t\t\tif(!"+U.toString()+".test(value)) {\n\t\t\t\t"+this.makeError({type:"stringAlphadash",actual:"origValue",messages:t})+"\n\t\t\t}\n\t\t"),!0===e.hex&&n.push("\n\t\t\tif(value.length % 2 !== 0 || !"+B.toString()+".test(value)) {\n\t\t\t\t"+this.makeError({type:"stringHex",actual:"origValue",messages:t})+"\n\t\t\t}\n\t\t"),!0===e.singleLine&&n.push('\n\t\t\tif(value.includes("\\n")) {\n\t\t\t\t'+this.makeError({type:"stringSingleLine",messages:t})+"\n\t\t\t}\n\t\t"),!0===e.base64&&n.push("\n\t\t\tif(!"+j.toString()+".test(value)) {\n\t\t\t\t"+this.makeError({type:"stringBase64",actual:"origValue",messages:t})+"\n\t\t\t}\n\t\t"),n.push("\n\t\treturn value;\n\t"),{sanitized:i,source:n.join("\n")}}function c(t,e,n){e=t.schema;var i=t.messages,o=[];return n.customs[t=t.index]?n.customs[t].schema=e:n.customs[t]={schema:e},o.push("\n\t\tconst ObjectID = context.customs["+t+"].schema.ObjectID;\n\t\tif (!ObjectID.isValid(value)) {\n\t\t\t"+this.makeError({type:"objectID",actual:"value",messages:i})+"\n\t\t\treturn;\n\t\t}\n\t"),o.push(!0===e.convert?"return new ObjectID(value)":"hexString"===e.convert?"return value.toString()":"return value"),{source:o.join("\n")}}function l(t,e,n){var i=t.schema,o=[];o.push('\n\t\tif (typeof value !== "object" || value === null || Array.isArray(value)) {\n\t\t\t'+this.makeError({type:"object",actual:"value",messages:t=t.messages})+"\n\t\t\treturn value;\n\t\t}\n\t");var r=i.properties||i.props;if(r){o.push("var parentObj = value;"),o.push("var parentField = field;");for(var a=Object.keys(r),s=0;s<a.length;s++){var c=a[s],l=O(c),p=F.test(l)?"."+l:"['"+l+"']",u="parentObj"+p,d=(e?e+".":"")+c;o.push("\n// Field: "+O(d)),o.push('field = parentField ? parentField + "'+p+'" : "'+l+'";'),o.push("value = "+u+";"),c=this.getRuleFromSchema(r[c]),o.push(this.compileRule(c,n,d,"\n\t\t\t\t"+u+" = context.fn[%%INDEX%%](value, field, parentObj, errors, context);\n\t\t\t",u))}i.strict&&(e=Object.keys(r),o.push("\n\t\t\t\tfield = parentField;\n\t\t\t\tvar invalidProps = [];\n\t\t\t\tvar props = Object.keys(parentObj);\n\n\t\t\t\tfor (let i = 0; i < props.length; i++) {\n\t\t\t\t\tif ("+JSON.stringify(e)+".indexOf(props[i]) === -1) {\n\t\t\t\t\t\tinvalidProps.push(props[i]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (invalidProps.length) {\n\t\t\t"),o.push("remove"==i.strict?"\n\t\t\t\t\tinvalidProps.forEach(function(field) {\n\t\t\t\t\t\tdelete parentObj[field];\n\t\t\t\t\t});\n\t\t\t\t":"\n\t\t\t\t\t"+this.makeError({type:"objectStrict",expected:'"'+e.join(", ")+'"',actual:"invalidProps.join(', ')",messages:t})+"\n\t\t\t\t"),o.push("\n\t\t\t\t}\n\t\t\t"))}return null==i.minProps&&null==i.maxProps||o.push(i.strict?"\n\t\t\t\tprops = Object.keys("+(r?"parentObj":"value")+");\n\t\t\t":"\n\t\t\t\tvar props = Object.keys("+(r?"parentObj":"value")+");\n\t\t\t\t"+(r?"field = parentField;":"")+"\n\t\t\t"),null!=i.minProps&&o.push("\n\t\t\tif (props.length < "+i.minProps+") {\n\t\t\t\t"+this.makeError({type:"objectMinProps",expected:i.minProps,actual:"props.length",messages:t})+"\n\t\t\t}\n\t\t"),null!=i.maxProps&&o.push("\n\t\t\tif (props.length > "+i.maxProps+") {\n\t\t\t\t"+this.makeError({type:"objectMaxProps",expected:i.maxProps,actual:"props.length",messages:t})+"\n\t\t\t}\n\t\t"),o.push(r?"\n\t\t\treturn parentObj;\n\t\t":"\n\t\t\treturn value;\n\t\t"),{source:o.join("\n")}}function p(t){var e=t.schema;t=t.messages;var n=[];n.push("\n\t\tvar origValue = value;\n\t");var i=!1;return!0===e.convert&&(i=!0,n.push('\n\t\t\tif (typeof value !== "number") {\n\t\t\t\tvalue = Number(value);\n\t\t\t}\n\t\t')),n.push('\n\t\tif (typeof value !== "number" || isNaN(value) || !isFinite(value)) {\n\t\t\t'+this.makeError({type:"number",actual:"origValue",messages:t})+"\n\t\t\treturn value;\n\t\t}\n\t"),null!=e.min&&n.push("\n\t\t\tif (value < "+e.min+") {\n\t\t\t\t"+this.makeError({type:"numberMin",expected:e.min,actual:"origValue",messages:t})+"\n\t\t\t}\n\t\t"),null!=e.max&&n.push("\n\t\t\tif (value > "+e.max+") {\n\t\t\t\t"+this.makeError({type:"numberMax",expected:e.max,actual:"origValue",messages:t})+"\n\t\t\t}\n\t\t"),null!=e.equal&&n.push("\n\t\t\tif (value !== "+e.equal+") {\n\t\t\t\t"+this.makeError({type:"numberEqual",expected:e.equal,actual:"origValue",messages:t})+"\n\t\t\t}\n\t\t"),null!=e.notEqual&&n.push("\n\t\t\tif (value === "+e.notEqual+") {\n\t\t\t\t"+this.makeError({type:"numberNotEqual",expected:e.notEqual,actual:"origValue",messages:t})+"\n\t\t\t}\n\t\t"),!0===e.integer&&n.push("\n\t\t\tif (value % 1 !== 0) {\n\t\t\t\t"+this.makeError({type:"numberInteger",actual:"origValue",messages:t})+"\n\t\t\t}\n\t\t"),!0===e.positive&&n.push("\n\t\t\tif (value <= 0) {\n\t\t\t\t"+this.makeError({type:"numberPositive",actual:"origValue",messages:t})+"\n\t\t\t}\n\t\t"),!0===e.negative&&n.push("\n\t\t\tif (value >= 0) {\n\t\t\t\t"+this.makeError({type:"numberNegative",actual:"origValue",messages:t})+"\n\t\t\t}\n\t\t"),n.push("\n\t\treturn value;\n\t"),{sanitized:i,source:n.join("\n")}}function u(t,e,n){t=t.schema;var i=[];i.push("\n\t\tvar prevErrLen = errors.length;\n\t\tvar errBefore;\n\t\tvar hasValid = false;\n\t\tvar newVal = value;\n\t");for(var o=0;o<t.rules.length;o++){i.push("\n\t\t\tif (!hasValid) {\n\t\t\t\terrBefore = errors.length;\n\t\t");var r=this.getRuleFromSchema(t.rules[o]);i.push(this.compileRule(r,n,e,"var tmpVal = context.fn[%%INDEX%%](value, field, parent, errors, context);","tmpVal")),i.push("\n\t\t\t\tif (errors.length == errBefore) {\n\t\t\t\t\thasValid = true;\n\t\t\t\t\tnewVal = tmpVal;\n\t\t\t\t}\n\t\t\t}\n\t\t")}return i.push("\n\t\tif (hasValid) {\n\t\t\terrors.length = prevErrLen;\n\t\t}\n\t\t\n\t\treturn newVal;\n\t"),{source:i.join("\n")}}function d(t){return{source:'\n\t\t\tif (typeof value !== "function")\n\t\t\t\t'+this.makeError({type:"function",actual:"value",messages:t.messages})+"\n\n\t\t\treturn value;\n\t\t"}}function b(t){var e=t.schema;t=t.messages;var n=[];return n.push("\n\t\tif (value !== null && value !== undefined) {\n\t"),n.push(e.remove?"\n\t\t\treturn undefined;\n\t\t":"\n\t\t\t"+this.makeError({type:"forbidden",actual:"value",messages:t})+"\n\t\t"),n.push("\n\t\t}\n\n\t\treturn value;\n\t"),{source:n.join("\n")}}function g(t){var e=t.schema;t=t.messages;var n=[];return e.field?(n.push(e.strict?'\n\t\t\t\tif (value !== parent["'+e.field+'"])\n\t\t\t':'\n\t\t\t\tif (value != parent["'+e.field+'"])\n\t\t\t'),n.push("\n\t\t\t\t"+this.makeError({type:"equalField",actual:"value",expected:JSON.stringify(e.field),messages:t})+"\n\t\t")):(n.push(e.strict?"\n\t\t\t\tif (value !== "+JSON.stringify(e.value)+")\n\t\t\t":"\n\t\t\t\tif (value != "+JSON.stringify(e.value)+")\n\t\t\t"),n.push("\n\t\t\t\t"+this.makeError({type:"equalValue",actual:"value",expected:JSON.stringify(e.value),messages:t})+"\n\t\t")),n.push("\n\t\treturn value;\n\t"),{source:n.join("\n")}}function f(t){var e=t.schema;return t=t.messages,{source:"\n\t\t\tif ("+JSON.stringify(e.values||[])+".indexOf(value) === -1)\n\t\t\t\t"+this.makeError({type:"enumValue",expected:'"'+e.values.join(", ")+'"',actual:"value",messages:t})+"\n\t\t\t\n\t\t\treturn value;\n\t\t"}}function h(t){var e=t.schema,n=[],i="precise"==e.mode?T:E,o=!1;return n.push('\n\t\tif (typeof value !== "string") {\n\t\t\t'+this.makeError({type:"string",actual:"value",messages:t=t.messages})+"\n\t\t\treturn value;\n\t\t}\n\t"),n.push(e.empty?"\n\t\t\tif (value.length === 0) return value;\n\t\t":"\n\t\t\tif (value.length === 0) {\n\t\t\t\t"+this.makeError({type:"emailEmpty",actual:"value",messages:t})+"\n\t\t\t\treturn value;\n\t\t\t}\n\t\t"),e.normalize&&(o=!0,n.push("\n\t\t\tvalue = value.trim().toLowerCase();\n\t\t")),null!=e.min&&n.push("\n\t\t\tif (value.length < "+e.min+") {\n\t\t\t\t"+this.makeError({type:"emailMin",expected:e.min,actual:"value.length",messages:t})+"\n\t\t\t}\n\t\t"),null!=e.max&&n.push("\n\t\t\tif (value.length > "+e.max+") {\n\t\t\t\t"+this.makeError({type:"emailMax",expected:e.max,actual:"value.length",messages:t})+"\n\t\t\t}\n\t\t"),n.push("\n\t\tif (!"+i.toString()+".test(value)) {\n\t\t\t"+this.makeError({type:"email",actual:"value",messages:t})+"\n\t\t}\n\n\t\treturn value;\n\t"),{sanitized:o,source:n.join("\n")}}function m(t){var e=t.schema;t=t.messages;var n=[],i=!1;return n.push("\n\t\tvar origValue = value;\n\t"),!0===e.convert&&(i=!0,n.push("\n\t\t\tif (!(value instanceof Date)) {\n\t\t\t\tvalue = new Date(value);\n\t\t\t}\n\t\t")),n.push("\n\t\tif (!(value instanceof Date) || isNaN(value.getTime()))\n\t\t\t"+this.makeError({type:"date",actual:"origValue",messages:t})+"\n\n\t\treturn value;\n\t"),{sanitized:i,source:n.join("\n")}}function v(t){var e=t.schema;t=t.messages;var n=e.currencySymbol||null,i=e.thousandSeparator||",",o=e.decimalSeparator||".",r=e.customRegex;return e=!e.symbolOptional,e="(?=.*\\d)^(-?~1|~1-?)(([0-9]\\d{0,2}(~2\\d{3})*)|0)?(\\~3\\d{1,2})?$".replace(/~1/g,n?"\\"+n+(e?"":"?"):"").replace("~2",i).replace("~3",o),(n=[]).push("\n\t\tif (!value.match("+(r||new RegExp(e))+")) {\n\t\t\t"+this.makeError({type:"currency",actual:"value",messages:t})+"\n\t\t\treturn value;\n\t\t}\n\n\t\treturn value;\n\t"),{source:n.join("\n")}}function y(t,e,n){var i=[];return i.push("\n\t\t"+this.makeCustomValidator({fnName:"check",path:e,schema:t.schema,messages:t.messages,context:n,ruleIndex:t.index})+"\n\t\treturn value;\n\t"),{source:i.join("\n")}}function C(t,e,n){var i=t.messages,o=[],r=(e=t.schema).instanceOf.name?e.instanceOf.name:"<UnknowClass>";return n.customs[t=t.index]?n.customs[t].schema=e:n.customs[t]={schema:e},o.push("\n\t\tif (!(value instanceof context.customs["+t+"].schema.instanceOf))\n\t\t\t"+this.makeError({type:"classInstanceOf",actual:"value",expected:"'"+r+"'",messages:i})+"\n\t"),o.push("\n\t\treturn value;\n\t"),{source:o.join("\n")}}function w(t){var e=t.schema;t=t.messages;var n=[],i=!1;return n.push("\n\t\tvar origValue = value;\n\t"),!0===e.convert&&(i=!0,n.push('\n\t\t\tif (typeof value !== "boolean") {\n\t\t\t\tif (\n\t\t\t\tvalue === 1\n\t\t\t\t|| value === "true"\n\t\t\t\t|| value === "1"\n\t\t\t\t|| value === "on"\n\t\t\t\t) {\n\t\t\t\t\tvalue = true;\n\t\t\t\t} else if (\n\t\t\t\tvalue === 0\n\t\t\t\t|| value === "false"\n\t\t\t\t|| value === "0"\n\t\t\t\t|| value === "off"\n\t\t\t\t) {\n\t\t\t\t\tvalue = false;\n\t\t\t\t}\n\t\t\t}\n\t\t')),n.push('\n\t\tif (typeof value !== "boolean") {\n\t\t\t'+this.makeError({type:"boolean",actual:"origValue",messages:t})+"\n\t\t}\n\t\t\n\t\treturn value;\n\t"),{sanitized:i,source:n.join("\n")}}function x(t,e,n){var i=t.schema,o=t.messages;if((t=[]).push("\n\t\tif (!Array.isArray(value)) {\n\t\t\t"+this.makeError({type:"array",actual:"value",messages:o})+"\n\t\t\treturn value;\n\t\t}\n\n\t\tvar len = value.length;\n\t"),!1===i.empty&&t.push("\n\t\t\tif (len === 0) {\n\t\t\t\t"+this.makeError({type:"arrayEmpty",actual:"value",messages:o})+"\n\t\t\t}\n\t\t"),null!=i.min&&t.push("\n\t\t\tif (len < "+i.min+") {\n\t\t\t\t"+this.makeError({type:"arrayMin",expected:i.min,actual:"len",messages:o})+"\n\t\t\t}\n\t\t"),null!=i.max&&t.push("\n\t\t\tif (len > "+i.max+") {\n\t\t\t\t"+this.makeError({type:"arrayMax",expected:i.max,actual:"len",messages:o})+"\n\t\t\t}\n\t\t"),null!=i.length&&t.push("\n\t\t\tif (len !== "+i.length+") {\n\t\t\t\t"+this.makeError({type:"arrayLength",expected:i.length,actual:"len",messages:o})+"\n\t\t\t}\n\t\t"),null!=i.contains&&t.push("\n\t\t\tif (value.indexOf("+JSON.stringify(i.contains)+") === -1) {\n\t\t\t\t"+this.makeError({type:"arrayContains",expected:JSON.stringify(i.contains),actual:"value",messages:o})+"\n\t\t\t}\n\t\t"),!0===i.unique&&t.push("\n\t\t\tif(len > (new Set(value)).size) {\n\t\t\t\t"+this.makeError({type:"arrayUnique",expected:"Array.from(new Set(value.filter((item, index) => value.indexOf(item) !== index)))",actual:"value",messages:o})+"\n\t\t\t}\n\t\t"),null!=i.enum){var r=JSON.stringify(i.enum);t.push("\n\t\t\tfor (var i = 0; i < value.length; i++) {\n\t\t\t\tif ("+r+".indexOf(value[i]) === -1) {\n\t\t\t\t\t"+this.makeError({type:"arrayEnum",expected:'"'+i.enum.join(", ")+'"',actual:"value[i]",messages:o})+"\n\t\t\t\t}\n\t\t\t}\n\t\t")}return null!=i.items&&(t.push("\n\t\t\tvar arr = value;\n\t\t\tvar parentField = field;\n\t\t\tfor (var i = 0; i < arr.length; i++) {\n\t\t"),e+="[]",i=this.getRuleFromSchema(i.items),t.push(this.compileRule(i,n,e,'arr[i] = context.fn[%%INDEX%%](arr[i], (parentField ? parentField : "") + "[" + i + "]", parent, errors, context)',"arr[i]")),t.push("\n\t\t\t}\n\t\t")),t.push("\n\t\treturn value;\n\t"),{source:t.join("\n")}}function P(){var t=[];return t.push("\n\t\treturn value;\n\t"),{source:t.join("\n")}}function S(t,e,n){for(var i in void 0===n&&(n={}),e){var o=e[i];(o="object"==typeof o&&!Array.isArray(o)&&null!=o&&0<Object.keys(o).length)?(t[i]=t[i]||{},S(t[i],e[i],n)):!0===n.skipIfExist&&void 0!==t[i]||(t[i]=e[i])}return t}function O(t){return t.replace(D,(function(t){switch(t){case'"':case"'":case"\\":return"\\"+t;case"\n":return"\\n";case"\r":return"\\r";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029"}}))}function M(){throw Error("Dynamic requires are not currently supported by rollup-plugin-commonjs")}var A,k,_,R,I={required:"The '{field}' field is required.",string:"The '{field}' field must be a string.",stringEmpty:"The '{field}' field must not be empty.",stringMin:"The '{field}' field length must be greater than or equal to {expected} characters long.",stringMax:"The '{field}' field length must be less than or equal to {expected} characters long.",stringLength:"The '{field}' field length must be {expected} characters long.",stringPattern:"The '{field}' field fails to match the required pattern.",stringContains:"The '{field}' field must contain the '{expected}' text.",stringEnum:"The '{field}' field does not match any of the allowed values.",stringNumeric:"The '{field}' field must be a numeric string.",stringAlpha:"The '{field}' field must be an alphabetic string.",stringAlphanum:"The '{field}' field must be an alphanumeric string.",stringAlphadash:"The '{field}' field must be an alphadash string.",stringHex:"The '{field}' field must be a hex string.",stringSingleLine:"The '{field}' field must be a single line string.",stringBase64:"The '{field}' field must be a base64 string.",number:"The '{field}' field must be a number.",numberMin:"The '{field}' field must be greater than or equal to {expected}.",numberMax:"The '{field}' field must be less than or equal to {expected}.",numberEqual:"The '{field}' field must be equal to {expected}.",numberNotEqual:"The '{field}' field can't be equal to {expected}.",numberInteger:"The '{field}' field must be an integer.",numberPositive:"The '{field}' field must be a positive number.",numberNegative:"The '{field}' field must be a negative number.",array:"The '{field}' field must be an array.",arrayEmpty:"The '{field}' field must not be an empty array.",arrayMin:"The '{field}' field must contain at least {expected} items.",arrayMax:"The '{field}' field must contain less than or equal to {expected} items.",arrayLength:"The '{field}' field must contain {expected} items.",arrayContains:"The '{field}' field must contain the '{expected}' item.",arrayUnique:"The '{actual}' value in '{field}' field does not unique the '{expected}' values.",arrayEnum:"The '{actual}' value in '{field}' field does not match any of the '{expected}' values.",tuple:"The '{field}' field must be an array.",tupleEmpty:"The '{field}' field must not be an empty array.",tupleLength:"The '{field}' field must contain {expected} items.",boolean:"The '{field}' field must be a boolean.",currency:"The '{field}' must be a valid currency format",date:"The '{field}' field must be a Date.",dateMin:"The '{field}' field must be greater than or equal to {expected}.",dateMax:"The '{field}' field must be less than or equal to {expected}.",enumValue:"The '{field}' field value '{expected}' does not match any of the allowed values.",equalValue:"The '{field}' field value must be equal to '{expected}'.",equalField:"The '{field}' field value must be equal to '{expected}' field value.",forbidden:"The '{field}' field is forbidden.",function:"The '{field}' field must be a function.",email:"The '{field}' field must be a valid e-mail.",emailEmpty:"The '{field}' field must not be empty.",emailMin:"The '{field}' field length must be greater than or equal to {expected} characters long.",emailMax:"The '{field}' field length must be less than or equal to {expected} characters long.",luhn:"The '{field}' field must be a valid checksum luhn.",mac:"The '{field}' field must be a valid MAC address.",object:"The '{field}' must be an Object.",objectStrict:"The object '{field}' contains forbidden keys: '{actual}'.",objectMinProps:"The object '{field}' must contain at least {expected} properties.",objectMaxProps:"The object '{field}' must contain {expected} properties at most.",url:"The '{field}' field must be a valid URL.",urlEmpty:"The '{field}' field must not be empty.",uuid:"The '{field}' field must be a valid UUID.",uuidVersion:"The '{field}' field must be a valid UUID version provided.",classInstanceOf:"The '{field}' field must be an instance of the '{expected}' class.",objectID:"The '{field}' field must be an valid ObjectID"},T=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,E=/^\S+@\S+\.\S+$/,F=/^[_$a-zA-Z][_$a-zA-Z0-9]*$/,D=/["'\\\n\r\u2028\u2029]/g,N=/^-?[0-9]\d*(\.\d+)?$/,L=/^[a-zA-Z]+$/,H=/^[a-zA-Z0-9]+$/,U=/^[a-zA-Z0-9_-]+$/,B=/^[0-9a-fA-F]+$/,j=/^(?:[A-Za-z0-9+\\/]{4})*(?:[A-Za-z0-9+\\/]{2}==|[A-Za-z0-9+/]{3}=)?$/,z=/^https?:\/\/\S+/,V=/^([0-9a-f]{8}-[0-9a-f]{4}-[1-6][0-9a-f]{3}-[0-9a-f]{4}-[0-9a-f]{12}|[0]{8}-[0]{4}-[0]{4}-[0]{4}-[0]{12})$/i,G=/^((([a-f0-9][a-f0-9]+[-]){5}|([a-f0-9][a-f0-9]+[:]){5})([a-f0-9][a-f0-9])$)|(^([a-f0-9][a-f0-9][a-f0-9][a-f0-9]+[.]){2}([a-f0-9][a-f0-9][a-f0-9][a-f0-9]))$/i;return t.prototype.validate=function(t,e){return this.compile(e)(t)},t.prototype.wrapRequiredCheckSourceCode=function(t,e,n,i){var o=[],r=!0===t.schema.optional||"forbidden"===t.schema.type,a=!0===t.schema.optional||!0===t.schema.nullable||"forbidden"===t.schema.type;return null!=t.schema.default?(r=!1,!0!==t.schema.nullable&&(a=!1),"function"==typeof t.schema.default?(n.customs[t.index]||(n.customs[t.index]={}),n.customs[t.index].defaultFn=t.schema.default,t="context.customs["+t.index+"].defaultFn()"):t=JSON.stringify(t.schema.default),i="\n\t\t\t\tvalue = "+t+";\n\t\t\t\t"+i+" = value;\n\t\t\t"):i=this.makeError({type:"required",actual:"value",messages:t.messages}),o.push("\n\t\t\tif (value === undefined) { "+(r?"\n// allow undefined\n":i)+" }\n\t\t\telse if (value === null) { "+(a?"\n// allow null\n":i)+" }\n\t\t\t"+(e?"else { "+e+" }":"")+"\n\t\t"),o.join("\n")},t.prototype.compile=function(t){if(null===t||"object"!=typeof t)throw Error("Invalid schema.");var n=this,i={index:0,rules:[],fn:[],customs:{}};if(this.cache.clear(),!0!==t.$$root)if(Array.isArray(t))t=this.getRuleFromSchema(t).schema;else{var o=Object.assign({},t);t={type:"object",strict:o.$$strict,properties:o},delete o.$$strict}o=["var errors = [];","var field;","var parent = null;"],t=this.getRuleFromSchema(t),o.push(this.compileRule(t,i,null,"context.fn[%%INDEX%%](value, field, null, errors, context);","value")),o.push("if (errors.length) {"),o.push('\n\t\t\treturn errors.map(err => {\n\t\t\t\tif (err.message)\n\t\t\t\t\terr.message = err.message\n\t\t\t\t\t\t.replace(/\\{field\\}/g, err.field || "")\n\t\t\t\t\t\t.replace(/\\{expected\\}/g, err.expected != null ? err.expected : "")\n\t\t\t\t\t\t.replace(/\\{actual\\}/g, err.actual != null ? err.actual : "");\n\n\t\t\t\treturn err;\n\t\t\t});\n\t\t'),o.push("}"),o.push("return true;"),t=o.join("\n");var r=new Function("value","context",t);if(this.opts.debug){var a=function(t){return t};"undefined"==typeof window&&(a=e),i.fn.forEach((function(t,e){return console.log(a("// Context.fn["+e+"]\n"+t.toString()))})),console.log(a("// Main check function\n"+r.toString()))}return this.cache.clear(),function(t){return i.data=t,r.call(n,t,i)}},t.prototype.compileRule=function(t,e,n,i,o){var r=[],a=this.cache.get(t.schema);return a?((t=a).cycle=!0,t.cycleStack=[],r.push(this.wrapRequiredCheckSourceCode(t,"\n\t\t\t\tvar rule = context.rules["+t.index+"];\n\t\t\t\tif (rule.cycleStack.indexOf(value) === -1) {\n\t\t\t\t\trule.cycleStack.push(value);\n\t\t\t\t\t"+i.replace(/%%INDEX%%/g,t.index)+"\n\t\t\t\t\trule.cycleStack.pop(value);\n\t\t\t\t}\n\t\t\t",e,o))):(this.cache.set(t.schema,t),t.index=e.index,e.rules[e.index]=t,a=null!=n?n:"$$root",e.index++,(n=t.ruleFunction.call(this,t,n,e)).source=n.source.replace(/%%INDEX%%/g,t.index),n=new Function("value","field","parent","errors","context",n.source),e.fn[t.index]=n,r.push(this.wrapRequiredCheckSourceCode(t,i.replace(/%%INDEX%%/g,t.index),e,o)),r.push(this.makeCustomValidator({vName:o,path:a,schema:t.schema,context:e,messages:t.messages,ruleIndex:t.index}))),r.join("\n")},t.prototype.getRuleFromSchema=function(t){var e=this;if("string"==typeof t)t=this.parseShortHand(t);else if(Array.isArray(t)){if(0==t.length)throw Error("Invalid schema.");(t={type:"multi",rules:t}).rules.map((function(t){return e.getRuleFromSchema(t)})).every((function(t){return 1==t.schema.optional}))&&(t.optional=!0)}if(t.$$type){var n=this.getRuleFromSchema(t.$$type).schema;delete t.$$type;var i,o=Object.assign({},t);for(i in t)delete t[i];S(t,n,{skipIfExist:!0}),t.props=o}if((n=this.aliases[t.type])&&(delete t.type,t=S(t,n,{skipIfExist:!0})),!(n=this.rules[t.type]))throw Error("Invalid '"+t.type+"' type in validator schema.");return{messages:Object.assign({},this.messages,t.messages),schema:S(t,this.defaults[t.type],{skipIfExist:!0}),ruleFunction:n}},t.prototype.parseShortHand=function(t){var e=(t=t.split("|").map((function(t){return t.trim()})))[0],n=e.endsWith("[]")?this.getRuleFromSchema({type:"array",items:e.slice(0,-2)}).schema:{type:t[0]};return t.slice(1).map((function(t){var e=t.indexOf(":");if(-1!==e){var i=t.substr(0,e).trim();"true"===(t=t.substr(e+1).trim())||"false"===t?t="true"===t:Number.isNaN(Number(t))||(t=Number(t)),n[i]=t}else t.startsWith("no-")?n[t.slice(3)]=!1:n[t]=!0})),n},t.prototype.makeError=function(t){var e=t.type,n=t.field,i=t.expected,o=t.actual,r={type:'"'+e+'"',message:'"'+t.messages[e]+'"'};return r.field=n?'"'+n+'"':"field",null!=i&&(r.expected=i),null!=o&&(r.actual=o),"errors.push({ "+Object.keys(r).map((function(t){return t+": "+r[t]})).join(", ")+" });"},t.prototype.makeCustomValidator=function(t){var e=t.vName;void 0===e&&(e="value");var n=t.fnName;void 0===n&&(n="custom");var i=t.ruleIndex,o=t.path,r=t.schema,a=t.context,s=t.messages;t="rule"+i;var c="fnCustomErrors"+i;return"function"==typeof r[n]?(a.customs[i]?(a.customs[i].messages=s,a.customs[i].schema=r):a.customs[i]={messages:s,schema:r},this.opts.useNewCustomCheckerFunction?"\n               const "+t+" = context.customs["+i+"];\n\t\t\t\t\tconst "+c+" = [];\n\t\t\t\t\t"+e+" = "+t+".schema."+n+".call(this, "+e+", "+c+" , "+t+'.schema, "'+o+'", parent, context);\n\t\t\t\t\tif (Array.isArray('+c+" )) {\n                  "+c+" .forEach(err => errors.push(Object.assign({ message: "+t+".messages[err.type], field }, err)));\n\t\t\t\t\t}\n\t\t\t\t":"\n\t\t\t\tconst "+t+" = context.customs["+i+"];\n\t\t\t\tconst "+(r="res_"+t)+" = "+t+".schema."+n+".call(this, "+e+", "+t+'.schema, "'+o+'", parent, context);\n\t\t\t\tif (Array.isArray('+r+")) {\n\t\t\t\t\t"+r+".forEach(err => errors.push(Object.assign({ message: "+t+".messages[err.type], field }, err)));\n\t\t\t\t}\n\t\t"):""},t.prototype.add=function(t,e){this.rules[t]=e},t.prototype.addMessage=function(t,e){this.messages[t]=e},t.prototype.alias=function(t,e){if(this.rules[t])throw Error("Alias name must not be a rule name");this.aliases[t]=e},t.prototype.plugin=function(t){if("function"!=typeof t)throw Error("Plugin fn type must be function");return t(this)},t}()},E4JC:function(t,e,n){var i;t.exports=(i=n("Ib8C"),n("ETIr"),n("cv67"),n("K3mO"),n("OLod"),function(){var t=i,e=t.lib.StreamCipher,n=[],o=[],r=[],a=t.algo.Rabbit=e.extend({_doReset:function(){for(var t=this._key.words,e=this.cfg.iv,n=0;n<4;n++)t[n]=16711935&(t[n]<<8|t[n]>>>24)|4278255360&(t[n]<<24|t[n]>>>8);var i=this._X=[t[0],t[3]<<16|t[2]>>>16,t[1],t[0]<<16|t[3]>>>16,t[2],t[1]<<16|t[0]>>>16,t[3],t[2]<<16|t[1]>>>16],o=this._C=[t[2]<<16|t[2]>>>16,4294901760&t[0]|65535&t[1],t[3]<<16|t[3]>>>16,4294901760&t[1]|65535&t[2],t[0]<<16|t[0]>>>16,4294901760&t[2]|65535&t[3],t[1]<<16|t[1]>>>16,4294901760&t[3]|65535&t[0]];for(this._b=0,n=0;n<4;n++)s.call(this);for(n=0;n<8;n++)o[n]^=i[n+4&7];if(e){var r=e.words,a=r[0],c=r[1],l=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),p=16711935&(c<<8|c>>>24)|4278255360&(c<<24|c>>>8),u=l>>>16|4294901760&p,d=p<<16|65535&l;for(o[0]^=l,o[1]^=u,o[2]^=p,o[3]^=d,o[4]^=l,o[5]^=u,o[6]^=p,o[7]^=d,n=0;n<4;n++)s.call(this)}},_doProcessBlock:function(t,e){var i=this._X;s.call(this),n[0]=i[0]^i[5]>>>16^i[3]<<16,n[1]=i[2]^i[7]>>>16^i[5]<<16,n[2]=i[4]^i[1]>>>16^i[7]<<16,n[3]=i[6]^i[3]>>>16^i[1]<<16;for(var o=0;o<4;o++)n[o]=16711935&(n[o]<<8|n[o]>>>24)|4278255360&(n[o]<<24|n[o]>>>8),t[e+o]^=n[o]},blockSize:4,ivSize:2});function s(){for(var t=this._X,e=this._C,n=0;n<8;n++)o[n]=e[n];for(e[0]=e[0]+1295307597+this._b|0,e[1]=e[1]+3545052371+(e[0]>>>0<o[0]>>>0?1:0)|0,e[2]=e[2]+886263092+(e[1]>>>0<o[1]>>>0?1:0)|0,e[3]=e[3]+1295307597+(e[2]>>>0<o[2]>>>0?1:0)|0,e[4]=e[4]+3545052371+(e[3]>>>0<o[3]>>>0?1:0)|0,e[5]=e[5]+886263092+(e[4]>>>0<o[4]>>>0?1:0)|0,e[6]=e[6]+1295307597+(e[5]>>>0<o[5]>>>0?1:0)|0,e[7]=e[7]+3545052371+(e[6]>>>0<o[6]>>>0?1:0)|0,this._b=e[7]>>>0<o[7]>>>0?1:0,n=0;n<8;n++){var i=t[n]+e[n],a=65535&i,s=i>>>16;r[n]=((a*a>>>17)+a*s>>>15)+s*s^((4294901760&i)*i|0)+((65535&i)*i|0)}t[0]=r[0]+(r[7]<<16|r[7]>>>16)+(r[6]<<16|r[6]>>>16)|0,t[1]=r[1]+(r[0]<<8|r[0]>>>24)+r[7]|0,t[2]=r[2]+(r[1]<<16|r[1]>>>16)+(r[0]<<16|r[0]>>>16)|0,t[3]=r[3]+(r[2]<<8|r[2]>>>24)+r[1]|0,t[4]=r[4]+(r[3]<<16|r[3]>>>16)+(r[2]<<16|r[2]>>>16)|0,t[5]=r[5]+(r[4]<<8|r[4]>>>24)+r[3]|0,t[6]=r[6]+(r[5]<<16|r[5]>>>16)+(r[4]<<16|r[4]>>>16)|0,t[7]=r[7]+(r[6]<<8|r[6]>>>24)+r[5]|0}t.Rabbit=e._createHelper(a)}(),i.Rabbit)},ELcG:function(t,e,n){var i;t.exports=(i=n("Ib8C"),function(t){var e=i,n=e.lib,o=n.WordArray,r=n.Hasher,a=e.algo,s=o.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),c=o.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),l=o.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),p=o.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),u=o.create([0,1518500249,1859775393,2400959708,2840853838]),d=o.create([1352829926,1548603684,1836072691,2053994217,0]),b=a.RIPEMD160=r.extend({_doReset:function(){this._hash=o.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(t,e){for(var n=0;n<16;n++){var i=e+n,o=t[i];t[i]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8)}var r,a,b,C,w,x,P,S,O,M,A,k=this._hash.words,_=u.words,R=d.words,I=s.words,T=c.words,E=l.words,F=p.words;for(x=r=k[0],P=a=k[1],S=b=k[2],O=C=k[3],M=w=k[4],n=0;n<80;n+=1)A=r+t[e+I[n]]|0,A+=n<16?g(a,b,C)+_[0]:n<32?f(a,b,C)+_[1]:n<48?h(a,b,C)+_[2]:n<64?m(a,b,C)+_[3]:v(a,b,C)+_[4],A=(A=y(A|=0,E[n]))+w|0,r=w,w=C,C=y(b,10),b=a,a=A,A=x+t[e+T[n]]|0,A+=n<16?v(P,S,O)+R[0]:n<32?m(P,S,O)+R[1]:n<48?h(P,S,O)+R[2]:n<64?f(P,S,O)+R[3]:g(P,S,O)+R[4],A=(A=y(A|=0,F[n]))+M|0,x=M,M=O,O=y(S,10),S=P,P=A;A=k[1]+b+O|0,k[1]=k[2]+C+M|0,k[2]=k[3]+w+x|0,k[3]=k[4]+r+P|0,k[4]=k[0]+a+S|0,k[0]=A},_doFinalize:function(){var t=this._data,e=t.words,n=8*this._nDataBytes,i=8*t.sigBytes;e[i>>>5]|=128<<24-i%32,e[14+(i+64>>>9<<4)]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8),t.sigBytes=4*(e.length+1),this._process();for(var o=this._hash,r=o.words,a=0;a<5;a++){var s=r[a];r[a]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8)}return o},clone:function(){var t=r.clone.call(this);return t._hash=this._hash.clone(),t}});function g(t,e,n){return t^e^n}function f(t,e,n){return t&e|~t&n}function h(t,e,n){return(t|~e)^n}function m(t,e,n){return t&n|e&~n}function v(t,e,n){return t^(e|~n)}function y(t,e){return t<<e|t>>>32-e}e.RIPEMD160=r._createHelper(b),e.HmacRIPEMD160=r._createHmacHelper(b)}(Math),i.RIPEMD160)},EPeh:function(t,e,n){"use strict";n.r(e),n.d(e,"SecureModule",(function(){return uf}));var i=n("ofXK"),o=n("tyNb"),r=n("mGf7"),a=n("IeL7"),s=n("PCNd"),c=n("fXoL"),l=n("7AKx"),p=n("L5wJ"),u=n("PqYM"),d=n("mvVQ"),b=n("/E8u"),g=n("MGFw"),f=n("WtWf"),h=n("7o/Q"),m=n("D0XW");function v(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:m.a;return function(n){return n.lift(new y(t,e))}}var y=function(){function t(e,n){Object(g.a)(this,t),this.dueTime=e,this.scheduler=n}return Object(f.a)(t,[{key:"call",value:function(t,e){return e.subscribe(new C(t,this.dueTime,this.scheduler))}}]),t}(),C=function(t){Object(d.a)(n,t);var e=Object(b.a)(n);function n(t,i,o){var r;return Object(g.a)(this,n),(r=e.call(this,t)).dueTime=i,r.scheduler=o,r.debouncedSubscription=null,r.lastValue=null,r.hasValue=!1,r}return Object(f.a)(n,[{key:"_next",value:function(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(w,this.dueTime,this))}},{key:"_complete",value:function(){this.debouncedNext(),this.destination.complete()}},{key:"debouncedNext",value:function(){if(this.clearDebounce(),this.hasValue){var t=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}},{key:"clearDebounce",value:function(){var t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}]),n}(h.a);function w(t){t.debouncedNext()}var x=n("k4Da"),P=n.n(x),S=n("oSXT"),O=n.n(S),M=n("BsQw"),A=n("E8h8"),k=n("fust"),_=function(t){return t[t.App=0]="App",t[t.Folder=1]="Folder",t[t.Favorite=2]="Favorite",t}({}),R=n("mrSG"),I=n("xLjT"),T=n("2Vo4"),E=n("cp0P"),F=n("BkRI"),D=n.n(F),N=n("xweI"),L=n.n(N),H=n("UfWW"),U=n.n(H),B=n("J2m7"),j=n.n(B),z=n("cGNx"),V=n("jtHE"),G=n("XNiG"),$=n("46Wp"),Z=n("iVvR"),W=n("tk/3"),q=n("sjEL"),Y=n.n(q),K=n("aR35"),Q=function(t){function e(e){return t.call(this,e)||this}return Object(R.c)(e,t),e.prototype.basicResponseMap=function(t){return t.body.response},e.prototype.iconMap=function(t){var e=t.body.data.map((function(t){var e=t.icon.split(".");return e[0]+="@2x",t.icon=K.a.fileCdnUrl+"/resources/icons/hires/"+e.join("."),t}));return{totalRows:t.body.totalRows,apps:e}},e.prototype.searchIconMap=function(t){return t.body.map((function(t){return t.defaulturl=K.a.fileCdnUrl+"/resources/icons/default/"+t.defaulturl,t}))},e.prototype.convertFormDataToString=function(t){var e=[];return t.forEach((function(t,n){e.push(encodeURIComponent(n).replace("%20","+")+"="+encodeURIComponent(t).replace("%20","+"))})),e.join("&")},e.prototype.getAppLibraryStatus=function(){return this.generateRequest("get",this.generateRequestUrl("/user/resourcelibrarysettings",{},K.a.nodeApiUrl),(function(t){var e=t.body.response;return e.ConfigureAppLibrary=JSON.parse(e.ConfigureAppLibrary),Object.keys(e.ConfigureAppLibrary).map((function(t){return e.ConfigureAppLibrary[t]=Boolean(e.ConfigureAppLibrary[t])})),e.IsResourceLibraryEnabled=Boolean(e.IsResourceLibraryEnabled),e}))},e.prototype.getDashboard=function(){var t=Y()().format("x");return this.generateRequest("get",this.generateRequestUrl("/applibrary/dashboard",{b304:t},K.a.nodeApiUrl),this.basicBodyMapFunction)},e.prototype.getAppsForProfile=function(t){return this.generateRequest("get",this.generateRequestUrl("/paged/v1p0/allAppsForProfile",t,K.a.autoCompleteUrl),this.iconMap)},e.prototype.getAppsByCollection=function(t,e){return this.generateRequest("get",this.generateRequestUrl("/paged/v1p0/customLibraryAppsForProfile",Object(R.a)({AppLibraryId:t},e),K.a.autoCompleteUrl),this.iconMap)},e.prototype.getAppsByCategory=function(t,e,n){var i=t.isSubject?"/paged/v1p0/allAppsForProfileBySubject":"/paged/v1p0/allAppsForProfileByCategory",o=t.isSubject?Object(R.a)({subject_id:t.id,category_id:n},e):Object(R.a)({category_id:t.id},e);return this.generateRequest("get",this.generateRequestUrl(i,o,K.a.autoCompleteUrl),this.iconMap)},e.prototype.getAppsByCategoryAndCollection=function(t,e,n,i){var o=e.isSubject?"/paged/v1p0/customLibraryAppsForProfileBySubject":"/paged/v1p0/customLibraryAppsForProfileByCategory",r=e.isSubject?Object(R.a)({AppLibraryId:t.Id,category_id:i,subject_id:e.id},n):Object(R.a)({AppLibraryId:t.Id,category_id:e.id},n);return this.generateRequest("get",this.generateRequestUrl(o,r,K.a.autoCompleteUrl),this.iconMap)},e.prototype.getSearchTermApps=function(t){return this.generateRequest("get",this.generateRequestUrl("/autocomplete/v1p0/allAppsForProfile",{term:t},K.a.autoCompleteUrl),this.searchIconMap)},e.prototype.getSearchTermAppsForCollection=function(t,e){return this.generateRequest("get",this.generateRequestUrl("/autocomplete/v1p0/customLibraryAppsForProfile",{term:e,AppLibraryId:t},K.a.autoCompleteUrl),this.searchIconMap)},e.prototype.addApp=function(t){return this.generateRequest("put",this.generateRequestUrl("/myapps/getapp",void 0,K.a.nodeApiUrl),this.basicResponseMap,t)},e.prototype.addAppById=function(t){return this.generateRequest("put",this.generateRequestUrl("/myapps/getapp",void 0,K.a.nodeApiUrl),this.basicResponseMap,{id:t})},e.prototype.removeApp=function(t){return this.generateRequest("put",this.generateRequestUrl("/myapps/removeapp",void 0,K.a.nodeApiUrl),this.basicResponseMap,t)},e.prototype.removeAppById=function(t){return this.generateRequest("put",this.generateRequestUrl("/myapps/removeapp",void 0,K.a.nodeApiUrl),this.basicResponseMap,{id:t})},e.prototype.getAddAppSuggestions=function(t){return this.generateRequest("get",this.generateRequestUrl("/resourcelibrary",{mode:"myapps",search:t,searchtype:"appnamesuggestion"},K.a.nodeApiUrl),(function(t){return t.body.response[0]}))},e.prototype.getIcons=function(t){return this.generateRequest("get",this.generateRequestUrl("/icons",t,K.a.nodeApiUrl),(function(t){return t.body.icons.map((function(t){return t.defaulturl=K.a.fileCdnUrl+"/resources/icons/default/"+t.defaulturl,t.highresurl=K.a.fileCdnUrl+"/resources/icons/hires/"+t.highresurl,t}))}))},e.prototype.searchIcons=function(t){return this.generateRequest("get",this.generateRequestUrl("/icons/typeaheadsearch",{searchText:t,limit:10,offset:0},K.a.nodeApiUrl),(function(t){return t.body.icons.map((function(t){return t.defaulturl=K.a.fileCdnUrl+"/resources/icons/default/"+t.defaulturl,t.highresurl=K.a.fileCdnUrl+"/resources/icons/hires/"+t.highresurl,t}))}))},e.prototype.submitIconRequest=function(t){var e={b304:Y()().format("x")},n=new FormData;n.append("subject","ClassLink :: Request Custom Icon"),n.append("iconname",t.name),n.append("icondescription",t.description),n.append("website_link",t.url);var i=this.convertFormDataToString(n);return this.generateRequest("post",this.generateRequestUrl("/mail",e,K.a.nodeApiUrl),this.basicBodyMapFunction,i,{headers:(new W.e).set("Content-Type","application/x-www-form-urlencoded; charset=UTF-8")})},e.prototype.submitAppRequest=function(t){var e={b304:Y()().format("x")},n=new FormData;n.append("name",t.name),n.append("icon",t.icon),n.append("path[0][PathOrder]","1"),n.append("path[0][Path]",t.url),n.append("request_new_auto_login",t.sso?"1":"0"),n.append("request_new_icon",t.requestedNewIcon?"1":"0"),n.append("iconname",t.iconName?t.iconName:""),n.append("icondescription",t.iconDescription?t.iconDescription:""),n.append("website_link",t.iconUrl?t.iconUrl:"");var i=this.convertFormDataToString(n);return this.generateRequest("post",this.generateRequestUrl("/myapps/addnewapp",e,K.a.nodeApiUrl),(function(t){return t.response}),i,{headers:(new W.e).set("Content-Type","application/x-www-form-urlencoded; charset=UTF-8")})},e.\u0275fac=function(t){return new(t||e)(c.Wb(W.b))},e.\u0275prov=c.Ib({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(Z.a),J=n("iDaS"),X=n("I0Vl"),tt=function(){function t(t,e,n,i,o,r,a){var s=this;this.nodeApi=t,this.appLibraryService=e,this.appsHelper=n,this.translationHelper=i,this.sessionService=o,this.appsService=r,this.permissionService=a,this.appLibraryStatusUpdated=new V.a,this.collectionUpdated=new V.a(1),this.currentViewUpdated=new G.a,this.filterUpdated=new G.a,this.suggestionClicked=new G.a,this.actionPending={},this.userAppIds=[],this.forceDisabledApps=[],this.subscriptions=[],this.subscriptions[0]=n.appsUpdated.subscribe((function(t){s.userApps=n.flattenApps(t),s.userAppIds=s.userApps.map((function(t){return t.id}))})),this.subscriptions[1]=o.gwsTokenSet.subscribe((function(){return s.getStatus()})),this.subscriptions[2]=a.permissionsSub.subscribe((function(t){return s.permissions=t}))}return t.prototype.ngOnDestroy=function(){this.subscriptions.forEach((function(t){return t.unsubscribe()}))},t.prototype.getStatus=function(){var t=this;this.appLibraryService.getAppLibraryStatus().subscribe((function(e){t.appLibraryStatus=e,t.appLibraryStatusUpdated.next(e)}))},t.prototype.isAppAssigned=function(t){return this.userAppIds.includes(t.id)},t.prototype.canAppBeChanged=function(t){if(this.forceDisabledApps.includes(t.id))return!1;if(!this.userAppIds.includes(t.id))return!0;var e=j()(this.userApps,(function(e){return e.id===t.id}));return!e||e.action_flag<=3||6==e.action_flag},t.prototype.addApp=function(t){var e=this;this.actionPending[t.id]=!0,this.appLibraryService.addApp(t).subscribe((function(n){if("Permission denied."===n)return e.forceDisabledApps.push(t.id),e.actionPending[t.id]=!1,void e.translationHelper.translateAndAddGrowl({severity:"error",summary:"error.permissionDenied",detail:"appLibrary.submitErrorAdd"});if("reach_allowed_limit"===n)return e.actionPending[t.id]=!1,void e.translationHelper.translateAndAddGrowl({severity:"error",summary:"appLibrary.limitReached",detail:"appLibrary.limitReachedDetail"});var i=t;i.is_folder=0,i.is_appfolder=0,e.translationHelper.translateAndAddGenericGrowl({severity:"success"},{subject:"common.app",verb:"common.added"}),e.nodeApi.orderApps(e.userApps).subscribe((function(n){setTimeout((function(){(e.permissions.availablePermissions.has(X.a.InHouseAppsEndpoint)?e.appsService.getMyApps():e.nodeApi.getMyApps()).subscribe((function(n){e.appsHelper.appsUpdated.next(n),e.actionPending[t.id]=!1}))}),200)}))}))},t.prototype.restoreApps=function(){},t.prototype.removeApp=function(t){var e=this;this.actionPending[t.id]=!0,this.appLibraryService.removeApp(t).subscribe((function(n){if("Permission denied."===n)return e.forceDisabledApps.push(t.id),e.actionPending[t.id]=!1,void e.translationHelper.translateAndAddGrowl({severity:"error",summary:"error.permissionDenied",detail:"appLibrary.submitErrorRemove"});e.translationHelper.translateAndAddGenericGrowl({severity:"success"},{subject:"common.app",verb:"common.removed"}),e.nodeApi.orderApps(e.userApps).subscribe((function(n){setTimeout((function(){(e.permissions.availablePermissions.has(X.a.InHouseAppsEndpoint)?e.appsService.getMyApps():e.nodeApi.getMyApps()).subscribe((function(n){e.appsHelper.appsUpdated.next(n),e.actionPending[t.id]=!1}))}),200)}))}))},t.prototype.showFlags=function(t){return this.showLock(t)},t.prototype.showLock=function(t){return!this.canAppBeChanged(t)},t.prototype.showKey=function(t){return t.showkeyicon},t.prototype.shouldShowTooltip=function(t){return t.name.length>22},t.\u0275fac=function(e){return new(e||t)(c.Wb(l.a),c.Wb(Q),c.Wb(p.a),c.Wb(J.a),c.Wb(A.a),c.Wb($.a),c.Wb(X.b))},t.\u0275prov=c.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),et=n("LRne"),nt=n("NFKh"),it=[{alpha2:"US",alpha3:"USA",countryCallingCodes:["+1"],currencies:["USD"],emoji:"\ud83c\uddfa\ud83c\uddf8",ioc:"USA",languages:["eng"],name:"United States",status:"assigned"},{alpha2:"AC",alpha3:"",countryCallingCodes:["+247"],currencies:["USD"],emoji:"",ioc:"SHP",languages:["eng"],name:"Ascension Island",status:"reserved"},{alpha2:"AD",alpha3:"AND",countryCallingCodes:["+376"],currencies:["EUR"],emoji:"\ud83c\udde6\ud83c\udde9",ioc:"AND",languages:["cat"],name:"Andorra",status:"assigned"},{alpha2:"AE",alpha3:"ARE",countryCallingCodes:["+971"],currencies:["AED"],emoji:"\ud83c\udde6\ud83c\uddea",ioc:"UAE",languages:["ara"],name:"United Arab Emirates",status:"assigned"},{alpha2:"AF",alpha3:"AFG",countryCallingCodes:["+93"],currencies:["AFN"],emoji:"\ud83c\udde6\ud83c\uddeb",ioc:"AFG",languages:["pus"],name:"Afghanistan",status:"assigned"},{alpha2:"AG",alpha3:"ATG",countryCallingCodes:["+1 268"],currencies:["XCD"],emoji:"\ud83c\udde6\ud83c\uddec",ioc:"ANT",languages:["eng"],name:"Antigua And Barbuda",status:"assigned"},{alpha2:"AI",alpha3:"AIA",countryCallingCodes:["+1 264"],currencies:["XCD"],emoji:"\ud83c\udde6\ud83c\uddee",ioc:"",languages:["eng"],name:"Anguilla",status:"assigned"},{alpha2:"AI",alpha3:"AFI",countryCallingCodes:[],currencies:[],ioc:"",languages:[],name:"French Afar and Issas",status:"deleted"},{alpha2:"AL",alpha3:"ALB",countryCallingCodes:["+355"],currencies:["ALL"],emoji:"\ud83c\udde6\ud83c\uddf1",ioc:"ALB",languages:["sqi"],name:"Albania",status:"assigned"},{alpha2:"AM",alpha3:"ARM",countryCallingCodes:["+374"],currencies:["AMD"],emoji:"\ud83c\udde6\ud83c\uddf2",ioc:"ARM",languages:["hye","rus"],name:"Armenia",status:"assigned"},{alpha2:"AN",alpha3:"ANT",countryCallingCodes:[],currencies:[],ioc:"",languages:[],name:"Netherlands Antilles",status:"deleted"},{alpha2:"AO",alpha3:"AGO",countryCallingCodes:["+244"],currencies:["AOA"],emoji:"\ud83c\udde6\ud83c\uddf4",ioc:"ANG",languages:["por"],name:"Angola",status:"assigned"},{alpha2:"AQ",alpha3:"ATA",countryCallingCodes:["+672"],currencies:[],emoji:"\ud83c\udde6\ud83c\uddf6",ioc:"",languages:[],name:"Antarctica",status:"assigned"},{alpha2:"AR",alpha3:"ARG",countryCallingCodes:["+54"],currencies:["ARS"],emoji:"\ud83c\udde6\ud83c\uddf7",ioc:"ARG",languages:["spa"],name:"Argentina",status:"assigned"},{alpha2:"AS",alpha3:"ASM",countryCallingCodes:["+1 684"],currencies:["USD"],emoji:"\ud83c\udde6\ud83c\uddf8",ioc:"ASA",languages:["eng","smo"],name:"American Samoa",status:"assigned"},{alpha2:"AT",alpha3:"AUT",countryCallingCodes:["+43"],currencies:["EUR"],emoji:"\ud83c\udde6\ud83c\uddf9",ioc:"AUT",languages:["deu"],name:"Austria",status:"assigned"},{alpha2:"AU",alpha3:"AUS",countryCallingCodes:["+61"],currencies:["AUD"],emoji:"\ud83c\udde6\ud83c\uddfa",ioc:"AUS",languages:["eng"],name:"Australia",status:"assigned"},{alpha2:"AW",alpha3:"ABW",countryCallingCodes:["+297"],currencies:["AWG"],emoji:"\ud83c\udde6\ud83c\uddfc",ioc:"ARU",languages:["nld"],name:"Aruba",status:"assigned"},{alpha2:"AX",alpha3:"ALA",countryCallingCodes:["+358"],currencies:["EUR"],emoji:"\ud83c\udde6\ud83c\uddfd",ioc:"",languages:["swe"],name:"\xc5land Islands",status:"assigned"},{alpha2:"AZ",alpha3:"AZE",countryCallingCodes:["+994"],currencies:["AZN"],emoji:"\ud83c\udde6\ud83c\uddff",ioc:"AZE",languages:["aze"],name:"Azerbaijan",status:"assigned"},{alpha2:"BA",alpha3:"BIH",countryCallingCodes:["+387"],currencies:["BAM"],emoji:"\ud83c\udde7\ud83c\udde6",ioc:"BIH",languages:["bos","cre","srp"],name:"Bosnia & Herzegovina",status:"assigned"},{alpha2:"BB",alpha3:"BRB",countryCallingCodes:["+1 246"],currencies:["BBD"],emoji:"\ud83c\udde7\ud83c\udde7",ioc:"BAR",languages:["eng"],name:"Barbados",status:"assigned"},{alpha2:"BD",alpha3:"BGD",countryCallingCodes:["+880"],currencies:["BDT"],emoji:"\ud83c\udde7\ud83c\udde9",ioc:"BAN",languages:["ben"],name:"Bangladesh",status:"assigned"},{alpha2:"BE",alpha3:"BEL",countryCallingCodes:["+32"],currencies:["EUR"],emoji:"\ud83c\udde7\ud83c\uddea",ioc:"BEL",languages:["nld","fra","deu"],name:"Belgium",status:"assigned"},{alpha2:"BF",alpha3:"BFA",countryCallingCodes:["+226"],currencies:["XOF"],emoji:"\ud83c\udde7\ud83c\uddeb",ioc:"BUR",languages:["fra"],name:"Burkina Faso",status:"assigned"},{alpha2:"BG",alpha3:"BGR",countryCallingCodes:["+359"],currencies:["BGN"],emoji:"\ud83c\udde7\ud83c\uddec",ioc:"BUL",languages:["bul"],name:"Bulgaria",status:"assigned"},{alpha2:"BH",alpha3:"BHR",countryCallingCodes:["+973"],currencies:["BHD"],emoji:"\ud83c\udde7\ud83c\udded",ioc:"BRN",languages:["ara"],name:"Bahrain",status:"assigned"},{alpha2:"BI",alpha3:"BDI",countryCallingCodes:["+257"],currencies:["BIF"],emoji:"\ud83c\udde7\ud83c\uddee",ioc:"BDI",languages:["fra"],name:"Burundi",status:"assigned"},{alpha2:"BJ",alpha3:"BEN",countryCallingCodes:["+229"],currencies:["XOF"],emoji:"\ud83c\udde7\ud83c\uddef",ioc:"BEN",languages:["fra"],name:"Benin",status:"assigned"},{alpha2:"BL",alpha3:"BLM",countryCallingCodes:["+590"],currencies:["EUR"],emoji:"\ud83c\udde7\ud83c\uddf1",ioc:"",languages:["fra"],name:"Saint Barth\xe9lemy",status:"assigned"},{alpha2:"BM",alpha3:"BMU",countryCallingCodes:["+1 441"],currencies:["BMD"],emoji:"\ud83c\udde7\ud83c\uddf2",ioc:"BER",languages:["eng"],name:"Bermuda",status:"assigned"},{alpha2:"BN",alpha3:"BRN",countryCallingCodes:["+673"],currencies:["BND"],emoji:"\ud83c\udde7\ud83c\uddf3",ioc:"BRU",languages:["msa","eng"],name:"Brunei Darussalam",status:"assigned"},{alpha2:"BO",alpha3:"BOL",countryCallingCodes:["+591"],currencies:["BOB","BOV"],emoji:"\ud83c\udde7\ud83c\uddf4",ioc:"BOL",languages:["spa","aym","que"],name:"Bolivia, Plurinational State Of",status:"assigned"},{alpha2:"BQ",alpha3:"BES",countryCallingCodes:["+599"],currencies:["USD"],emoji:"\ud83c\udde7\ud83c\uddf6",ioc:"",languages:["nld"],name:"Bonaire, Saint Eustatius And Saba",status:"assigned"},{alpha2:"BQ",alpha3:"ATB",countryCallingCodes:[],currencies:[],ioc:"",languages:[],name:"British Antarctic Territory",status:"deleted"},{alpha2:"BR",alpha3:"BRA",countryCallingCodes:["+55"],currencies:["BRL"],emoji:"\ud83c\udde7\ud83c\uddf7",ioc:"BRA",languages:["por"],name:"Brazil",status:"assigned"},{alpha2:"BS",alpha3:"BHS",countryCallingCodes:["+1 242"],currencies:["BSD"],emoji:"\ud83c\udde7\ud83c\uddf8",ioc:"BAH",languages:["eng"],name:"Bahamas",status:"assigned"},{alpha2:"BT",alpha3:"BTN",countryCallingCodes:["+975"],currencies:["INR","BTN"],emoji:"\ud83c\udde7\ud83c\uddf9",ioc:"BHU",languages:["dzo"],name:"Bhutan",status:"assigned"},{alpha2:"BU",alpha3:"BUR",countryCallingCodes:[],currencies:[],ioc:"",languages:[],name:"Burma",status:"deleted"},{alpha2:"BV",alpha3:"BVT",countryCallingCodes:[],currencies:["NOK"],emoji:"\ud83c\udde7\ud83c\uddfb",ioc:"",languages:[],name:"Bouvet Island",status:"assigned"},{alpha2:"BW",alpha3:"BWA",countryCallingCodes:["+267"],currencies:["BWP"],emoji:"\ud83c\udde7\ud83c\uddfc",ioc:"BOT",languages:["eng","tsn"],name:"Botswana",status:"assigned"},{alpha2:"BY",alpha3:"BLR",countryCallingCodes:["+375"],currencies:["BYR"],emoji:"\ud83c\udde7\ud83c\uddfe",ioc:"BLR",languages:["bel","rus"],name:"Belarus",status:"assigned"},{alpha2:"BY",alpha3:"BYS",countryCallingCodes:[],currencies:[],ioc:"",languages:[],name:"Byelorussian SSR",status:"deleted"},{alpha2:"BZ",alpha3:"BLZ",countryCallingCodes:["+501"],currencies:["BZD"],emoji:"\ud83c\udde7\ud83c\uddff",ioc:"BIZ",languages:["eng"],name:"Belize",status:"assigned"},{alpha2:"CA",alpha3:"CAN",countryCallingCodes:["+1"],currencies:["CAD"],emoji:"\ud83c\udde8\ud83c\udde6",ioc:"CAN",languages:["eng","fra"],name:"Canada",status:"assigned"},{alpha2:"CC",alpha3:"CCK",countryCallingCodes:["+61"],currencies:["AUD"],emoji:"\ud83c\udde8\ud83c\udde8",ioc:"",languages:["eng"],name:"Cocos (Keeling) Islands",status:"assigned"},{alpha2:"CD",alpha3:"COD",countryCallingCodes:["+243"],currencies:["CDF"],emoji:"\ud83c\udde8\ud83c\udde9",ioc:"COD",languages:["fra","lin","kon","swa"],name:"Democratic Republic Of Congo",status:"assigned"},{alpha2:"CF",alpha3:"CAF",countryCallingCodes:["+236"],currencies:["XAF"],emoji:"\ud83c\udde8\ud83c\uddeb",ioc:"CAF",languages:["fra","sag"],name:"Central African Republic",status:"assigned"},{alpha2:"CG",alpha3:"COG",countryCallingCodes:["+242"],currencies:["XAF"],emoji:"\ud83c\udde8\ud83c\uddec",ioc:"CGO",languages:["fra","lin"],name:"Republic Of Congo",status:"assigned"},{alpha2:"CH",alpha3:"CHE",countryCallingCodes:["+41"],currencies:["CHF","CHE","CHW"],emoji:"\ud83c\udde8\ud83c\udded",ioc:"SUI",languages:["deu","fra","ita","roh"],name:"Switzerland",status:"assigned"},{alpha2:"CI",alpha3:"CIV",countryCallingCodes:["+225"],currencies:["XOF"],emoji:"\ud83c\udde8\ud83c\uddee",ioc:"CIV",languages:["fra"],name:"C\xf4te d'Ivoire",status:"assigned"},{alpha2:"CK",alpha3:"COK",countryCallingCodes:["+682"],currencies:["NZD"],emoji:"\ud83c\udde8\ud83c\uddf0",ioc:"COK",languages:["eng","mri"],name:"Cook Islands",status:"assigned"},{alpha2:"CL",alpha3:"CHL",countryCallingCodes:["+56"],currencies:["CLP","CLF"],emoji:"\ud83c\udde8\ud83c\uddf1",ioc:"CHI",languages:["spa"],name:"Chile",status:"assigned"},{alpha2:"CM",alpha3:"CMR",countryCallingCodes:["+237"],currencies:["XAF"],emoji:"\ud83c\udde8\ud83c\uddf2",ioc:"CMR",languages:["eng","fra"],name:"Cameroon",status:"assigned"},{alpha2:"CN",alpha3:"CHN",countryCallingCodes:["+86"],currencies:["CNY"],emoji:"\ud83c\udde8\ud83c\uddf3",ioc:"CHN",languages:["zho"],name:"China",status:"assigned"},{alpha2:"CO",alpha3:"COL",countryCallingCodes:["+57"],currencies:["COP","COU"],emoji:"\ud83c\udde8\ud83c\uddf4",ioc:"COL",languages:["spa"],name:"Colombia",status:"assigned"},{alpha2:"CP",alpha3:"",countryCallingCodes:[],currencies:["EUR"],emoji:"",ioc:"",languages:[],name:"Clipperton Island",status:"reserved"},{alpha2:"CR",alpha3:"CRI",countryCallingCodes:["+506"],currencies:["CRC"],emoji:"\ud83c\udde8\ud83c\uddf7",ioc:"CRC",languages:["spa"],name:"Costa Rica",status:"assigned"},{alpha2:"CS",alpha3:"CSK",countryCallingCodes:[],currencies:[],ioc:"",languages:[],name:"Czechoslovakia",status:"deleted"},{alpha2:"CS",alpha3:"SCG",countryCallingCodes:[],currencies:[],ioc:"",languages:[],name:"Serbia and Montenegro",status:"deleted"},{alpha2:"CT",alpha3:"CTE",countryCallingCodes:[],currencies:[],ioc:"",languages:[],name:"Canton and Enderbury Islands",status:"deleted"},{alpha2:"CU",alpha3:"CUB",countryCallingCodes:["+53"],currencies:["CUP","CUC"],emoji:"\ud83c\udde8\ud83c\uddfa",ioc:"CUB",languages:["spa"],name:"Cuba",status:"assigned"},{alpha2:"CV",alpha3:"CPV",countryCallingCodes:["+238"],currencies:["CVE"],emoji:"\ud83c\udde8\ud83c\uddfb",ioc:"CPV",languages:["por"],name:"Cabo Verde",status:"assigned"},{alpha2:"CW",alpha3:"CUW",countryCallingCodes:["+599"],currencies:["ANG"],emoji:"\ud83c\udde8\ud83c\uddfc",ioc:"",languages:["nld"],name:"Curacao",status:"assigned"},{alpha2:"CX",alpha3:"CXR",countryCallingCodes:["+61"],currencies:["AUD"],emoji:"\ud83c\udde8\ud83c\uddfd",ioc:"",languages:["eng"],name:"Christmas Island",status:"assigned"},{alpha2:"CY",alpha3:"CYP",countryCallingCodes:["+357"],currencies:["EUR"],emoji:"\ud83c\udde8\ud83c\uddfe",ioc:"CYP",languages:["ell","tur"],name:"Cyprus",status:"assigned"},{alpha2:"CZ",alpha3:"CZE",countryCallingCodes:["+420"],currencies:["CZK"],emoji:"\ud83c\udde8\ud83c\uddff",ioc:"CZE",languages:["ces"],name:"Czech Republic",status:"assigned"},{alpha2:"DD",alpha3:"DDR",countryCallingCodes:[],currencies:[],ioc:"",languages:[],name:"German Democratic Republic",status:"deleted"},{alpha2:"DE",alpha3:"DEU",countryCallingCodes:["+49"],currencies:["EUR"],emoji:"\ud83c\udde9\ud83c\uddea",ioc:"GER",languages:["deu"],name:"Germany",status:"assigned"},{alpha2:"DG",alpha3:"",countryCallingCodes:[],currencies:["USD"],emoji:"",ioc:"",languages:[],name:"Diego Garcia",status:"reserved"},{alpha2:"DJ",alpha3:"DJI",countryCallingCodes:["+253"],currencies:["DJF"],emoji:"\ud83c\udde9\ud83c\uddef",ioc:"DJI",languages:["ara","fra"],name:"Djibouti",status:"assigned"},{alpha2:"DK",alpha3:"DNK",countryCallingCodes:["+45"],currencies:["DKK"],emoji:"\ud83c\udde9\ud83c\uddf0",ioc:"DEN",languages:["dan"],name:"Denmark",status:"assigned"},{alpha2:"DM",alpha3:"DMA",countryCallingCodes:["+1 767"],currencies:["XCD"],emoji:"\ud83c\udde9\ud83c\uddf2",ioc:"DMA",languages:["eng"],name:"Dominica",status:"assigned"},{alpha2:"DO",alpha3:"DOM",countryCallingCodes:["+1 809","+1 829","+1 849"],currencies:["DOP"],emoji:"\ud83c\udde9\ud83c\uddf4",ioc:"DOM",languages:["spa"],name:"Dominican Republic",status:"assigned"},{alpha2:"DY",alpha3:"DHY",countryCallingCodes:[],currencies:[],ioc:"",languages:[],name:"Dahomey",status:"deleted"},{alpha2:"DZ",alpha3:"DZA",countryCallingCodes:["+213"],currencies:["DZD"],emoji:"\ud83c\udde9\ud83c\uddff",ioc:"ALG",languages:["ara"],name:"Algeria",status:"assigned"},{alpha2:"EA",alpha3:"",countryCallingCodes:[],currencies:["EUR"],emoji:"",ioc:"",languages:[],name:"Ceuta, Mulilla",status:"reserved"},{alpha2:"EC",alpha3:"ECU",countryCallingCodes:["+593"],currencies:["USD"],emoji:"\ud83c\uddea\ud83c\udde8",ioc:"ECU",languages:["spa","que"],name:"Ecuador",status:"assigned"},{alpha2:"EE",alpha3:"EST",countryCallingCodes:["+372"],currencies:["EUR"],emoji:"\ud83c\uddea\ud83c\uddea",ioc:"EST",languages:["est"],name:"Estonia",status:"assigned"},{alpha2:"EG",alpha3:"EGY",countryCallingCodes:["+20"],currencies:["EGP"],emoji:"\ud83c\uddea\ud83c\uddec",ioc:"EGY",languages:["ara"],name:"Egypt",status:"assigned"},{alpha2:"EH",alpha3:"ESH",countryCallingCodes:["+212"],currencies:["MAD"],emoji:"\ud83c\uddea\ud83c\udded",ioc:"",languages:[],name:"Western Sahara",status:"assigned"},{alpha2:"ER",alpha3:"ERI",countryCallingCodes:["+291"],currencies:["ERN"],emoji:"\ud83c\uddea\ud83c\uddf7",ioc:"ERI",languages:["eng","ara","tir"],name:"Eritrea",status:"assigned"},{alpha2:"ES",alpha3:"ESP",countryCallingCodes:["+34"],currencies:["EUR"],emoji:"\ud83c\uddea\ud83c\uddf8",ioc:"ESP",languages:["spa"],name:"Spain",status:"assigned"},{alpha2:"ET",alpha3:"ETH",countryCallingCodes:["+251"],currencies:["ETB"],emoji:"\ud83c\uddea\ud83c\uddf9",ioc:"ETH",languages:["amh"],name:"Ethiopia",status:"assigned"},{alpha2:"EU",alpha3:"",countryCallingCodes:["+388"],currencies:["EUR"],emoji:"\ud83c\uddea\ud83c\uddfa",ioc:"",languages:[],name:"European Union",status:"reserved"},{alpha2:"FI",alpha3:"FIN",countryCallingCodes:["+358"],currencies:["EUR"],emoji:"\ud83c\uddeb\ud83c\uddee",ioc:"FIN",languages:["fin","swe"],name:"Finland",status:"assigned"},{alpha2:"FJ",alpha3:"FJI",countryCallingCodes:["+679"],currencies:["FJD"],emoji:"\ud83c\uddeb\ud83c\uddef",ioc:"FIJ",languages:["eng","fij"],name:"Fiji",status:"assigned"},{alpha2:"FK",alpha3:"FLK",countryCallingCodes:["+500"],currencies:["FKP"],emoji:"\ud83c\uddeb\ud83c\uddf0",ioc:"",languages:["eng"],name:"Falkland Islands",status:"assigned"},{alpha2:"FM",alpha3:"FSM",countryCallingCodes:["+691"],currencies:["USD"],emoji:"\ud83c\uddeb\ud83c\uddf2",ioc:"FSM",languages:["eng"],name:"Micronesia, Federated States Of",status:"assigned"},{alpha2:"FO",alpha3:"FRO",countryCallingCodes:["+298"],currencies:["DKK"],emoji:"\ud83c\uddeb\ud83c\uddf4",ioc:"FAI",languages:["fao","dan"],name:"Faroe Islands",status:"assigned"},{alpha2:"FQ",alpha3:"ATF",countryCallingCodes:[],currencies:[],ioc:"",languages:[],name:"French Southern and Antarctic Territories",status:"deleted"},{alpha2:"FR",alpha3:"FRA",countryCallingCodes:["+33"],currencies:["EUR"],emoji:"\ud83c\uddeb\ud83c\uddf7",ioc:"FRA",languages:["fra"],name:"France",status:"assigned"},{alpha2:"FX",alpha3:"",countryCallingCodes:["+241"],currencies:["EUR"],emoji:"",ioc:"",languages:["fra"],name:"France, Metropolitan",status:"reserved"},{alpha2:"GA",alpha3:"GAB",countryCallingCodes:["+241"],currencies:["XAF"],emoji:"\ud83c\uddec\ud83c\udde6",ioc:"GAB",languages:["fra"],name:"Gabon",status:"assigned"},{alpha2:"GB",alpha3:"GBR",countryCallingCodes:["+44"],currencies:["GBP"],emoji:"\ud83c\uddec\ud83c\udde7",ioc:"GBR",languages:["eng","cor","gle","gla","cym"],name:"United Kingdom",status:"assigned"},{alpha2:"GD",alpha3:"GRD",countryCallingCodes:["+473"],currencies:["XCD"],emoji:"\ud83c\uddec\ud83c\udde9",ioc:"GRN",languages:["eng"],name:"Grenada",status:"assigned"},{alpha2:"GE",alpha3:"GEO",countryCallingCodes:["+995"],currencies:["GEL"],emoji:"\ud83c\uddec\ud83c\uddea",ioc:"GEO",languages:["kat"],name:"Georgia",status:"assigned"},{alpha2:"GE",alpha3:"GEL",countryCallingCodes:[],currencies:[],ioc:"",languages:[],name:"Gilbert and Ellice Islands",status:"deleted"},{alpha2:"GF",alpha3:"GUF",countryCallingCodes:["+594"],currencies:["EUR"],emoji:"\ud83c\uddec\ud83c\uddeb",ioc:"",languages:["fra"],name:"French Guiana",status:"assigned"},{alpha2:"GG",alpha3:"GGY",countryCallingCodes:["+44"],currencies:["GBP"],emoji:"\ud83c\uddec\ud83c\uddec",ioc:"GCI",languages:["fra"],name:"Guernsey",status:"assigned"},{alpha2:"GH",alpha3:"GHA",countryCallingCodes:["+233"],currencies:["GHS"],emoji:"\ud83c\uddec\ud83c\udded",ioc:"GHA",languages:["eng"],name:"Ghana",status:"assigned"},{alpha2:"GI",alpha3:"GIB",countryCallingCodes:["+350"],currencies:["GIP"],emoji:"\ud83c\uddec\ud83c\uddee",ioc:"",languages:["eng"],name:"Gibraltar",status:"assigned"},{alpha2:"GL",alpha3:"GRL",countryCallingCodes:["+299"],currencies:["DKK"],emoji:"\ud83c\uddec\ud83c\uddf1",ioc:"",languages:["kal"],name:"Greenland",status:"assigned"},{alpha2:"GM",alpha3:"GMB",countryCallingCodes:["+220"],currencies:["GMD"],emoji:"\ud83c\uddec\ud83c\uddf2",ioc:"GAM",languages:["eng"],name:"Gambia",status:"assigned"},{alpha2:"GN",alpha3:"GIN",countryCallingCodes:["+224"],currencies:["GNF"],emoji:"\ud83c\uddec\ud83c\uddf3",ioc:"GUI",languages:["fra"],name:"Guinea",status:"assigned"},{alpha2:"GP",alpha3:"GLP",countryCallingCodes:["+590"],currencies:["EUR"],emoji:"\ud83c\uddec\ud83c\uddf5",ioc:"",languages:["fra"],name:"Guadeloupe",status:"assigned"},{alpha2:"GQ",alpha3:"GNQ",countryCallingCodes:["+240"],currencies:["XAF"],emoji:"\ud83c\uddec\ud83c\uddf6",ioc:"GEQ",languages:["spa","fra","por"],name:"Equatorial Guinea",status:"assigned"},{alpha2:"GR",alpha3:"GRC",countryCallingCodes:["+30"],currencies:["EUR"],emoji:"\ud83c\uddec\ud83c\uddf7",ioc:"GRE",languages:["ell"],name:"Greece",status:"assigned"},{alpha2:"GS",alpha3:"SGS",countryCallingCodes:[],currencies:["GBP"],emoji:"\ud83c\uddec\ud83c\uddf8",ioc:"",languages:["eng"],name:"South Georgia And The South Sandwich Islands",status:"assigned"},{alpha2:"GT",alpha3:"GTM",countryCallingCodes:["+502"],currencies:["GTQ"],emoji:"\ud83c\uddec\ud83c\uddf9",ioc:"GUA",languages:["spa"],name:"Guatemala",status:"assigned"},{alpha2:"GU",alpha3:"GUM",countryCallingCodes:["+1 671"],currencies:["USD"],emoji:"\ud83c\uddec\ud83c\uddfa",ioc:"GUM",languages:["eng"],name:"Guam",status:"assigned"},{alpha2:"GW",alpha3:"GNB",countryCallingCodes:["+245"],currencies:["XOF"],emoji:"\ud83c\uddec\ud83c\uddfc",ioc:"GBS",languages:["por"],name:"Guinea-bissau",status:"assigned"},{alpha2:"GY",alpha3:"GUY",countryCallingCodes:["+592"],currencies:["GYD"],emoji:"\ud83c\uddec\ud83c\uddfe",ioc:"GUY",languages:["eng"],name:"Guyana",status:"assigned"},{alpha2:"HK",alpha3:"HKG",countryCallingCodes:["+852"],currencies:["HKD"],emoji:"\ud83c\udded\ud83c\uddf0",ioc:"HKG",languages:["zho","eng"],name:"Hong Kong",status:"assigned"},{alpha2:"HM",alpha3:"HMD",countryCallingCodes:[],currencies:["AUD"],emoji:"\ud83c\udded\ud83c\uddf2",ioc:"",languages:[],name:"Heard Island And McDonald Islands",status:"assigned"},{alpha2:"HN",alpha3:"HND",countryCallingCodes:["+504"],currencies:["HNL"],emoji:"\ud83c\udded\ud83c\uddf3",ioc:"HON",languages:["spa"],name:"Honduras",status:"assigned"},{alpha2:"HR",alpha3:"HRV",countryCallingCodes:["+385"],currencies:["HRK"],emoji:"\ud83c\udded\ud83c\uddf7",ioc:"CRO",languages:["hrv"],name:"Croatia",status:"assigned"},{alpha2:"HT",alpha3:"HTI",countryCallingCodes:["+509"],currencies:["HTG","USD"],emoji:"\ud83c\udded\ud83c\uddf9",ioc:"HAI",languages:["fra","hat"],name:"Haiti",status:"assigned"},{alpha2:"HU",alpha3:"HUN",countryCallingCodes:["+36"],currencies:["HUF"],emoji:"\ud83c\udded\ud83c\uddfa",ioc:"HUN",languages:["hun"],name:"Hungary",status:"assigned"},{alpha2:"HV",alpha3:"HVO",countryCallingCodes:[],currencies:[],ioc:"",languages:[],name:"Upper Volta",status:"deleted"},{alpha2:"IC",alpha3:"",countryCallingCodes:[],currencies:["EUR"],emoji:"",ioc:"",languages:[],name:"Canary Islands",status:"reserved"},{alpha2:"ID",alpha3:"IDN",countryCallingCodes:["+62"],currencies:["IDR"],emoji:"\ud83c\uddee\ud83c\udde9",ioc:"INA",languages:["ind"],name:"Indonesia",status:"assigned"},{alpha2:"IE",alpha3:"IRL",countryCallingCodes:["+353"],currencies:["EUR"],emoji:"\ud83c\uddee\ud83c\uddea",ioc:"IRL",languages:["eng","gle"],name:"Ireland",status:"assigned"},{alpha2:"IL",alpha3:"ISR",countryCallingCodes:["+972"],currencies:["ILS"],emoji:"\ud83c\uddee\ud83c\uddf1",ioc:"ISR",languages:["heb","ara","eng"],name:"Israel",status:"assigned"},{alpha2:"IM",alpha3:"IMN",countryCallingCodes:["+44"],currencies:["GBP"],emoji:"\ud83c\uddee\ud83c\uddf2",ioc:"",languages:["eng","glv"],name:"Isle Of Man",status:"assigned"},{alpha2:"IN",alpha3:"IND",countryCallingCodes:["+91"],currencies:["INR"],emoji:"\ud83c\uddee\ud83c\uddf3",ioc:"IND",languages:["eng","hin"],name:"India",status:"assigned"},{alpha2:"IO",alpha3:"IOT",countryCallingCodes:["+246"],currencies:["USD"],emoji:"\ud83c\uddee\ud83c\uddf4",ioc:"",languages:["eng"],name:"British Indian Ocean Territory",status:"assigned"},{alpha2:"IQ",alpha3:"IRQ",countryCallingCodes:["+964"],currencies:["IQD"],emoji:"\ud83c\uddee\ud83c\uddf6",ioc:"IRQ",languages:["ara","kur"],name:"Iraq",status:"assigned"},{alpha2:"IR",alpha3:"IRN",countryCallingCodes:["+98"],currencies:["IRR"],emoji:"\ud83c\uddee\ud83c\uddf7",ioc:"IRI",languages:["fas"],name:"Iran, Islamic Republic Of",status:"assigned"},{alpha2:"IS",alpha3:"ISL",countryCallingCodes:["+354"],currencies:["ISK"],emoji:"\ud83c\uddee\ud83c\uddf8",ioc:"ISL",languages:["isl"],name:"Iceland",status:"assigned"},{alpha2:"IT",alpha3:"ITA",countryCallingCodes:["+39"],currencies:["EUR"],emoji:"\ud83c\uddee\ud83c\uddf9",ioc:"ITA",languages:["ita"],name:"Italy",status:"assigned"},{alpha2:"JE",alpha3:"JEY",countryCallingCodes:["+44"],currencies:["GBP"],emoji:"\ud83c\uddef\ud83c\uddea",ioc:"JCI",languages:["eng","fra"],name:"Jersey",status:"assigned"},{alpha2:"JM",alpha3:"JAM",countryCallingCodes:["+1 876"],currencies:["JMD"],emoji:"\ud83c\uddef\ud83c\uddf2",ioc:"JAM",languages:["eng"],name:"Jamaica",status:"assigned"},{alpha2:"JO",alpha3:"JOR",countryCallingCodes:["+962"],currencies:["JOD"],emoji:"\ud83c\uddef\ud83c\uddf4",ioc:"JOR",languages:["ara"],name:"Jordan",status:"assigned"},{alpha2:"JP",alpha3:"JPN",countryCallingCodes:["+81"],currencies:["JPY"],emoji:"\ud83c\uddef\ud83c\uddf5",ioc:"JPN",languages:["jpn"],name:"Japan",status:"assigned"},{alpha2:"JT",alpha3:"JTN",countryCallingCodes:[],currencies:[],ioc:"",languages:[],name:"Johnston Island",status:"deleted"},{alpha2:"KE",alpha3:"KEN",countryCallingCodes:["+254"],currencies:["KES"],emoji:"\ud83c\uddf0\ud83c\uddea",ioc:"KEN",languages:["eng","swa"],name:"Kenya",status:"assigned"},{alpha2:"KG",alpha3:"KGZ",countryCallingCodes:["+996"],currencies:["KGS"],emoji:"\ud83c\uddf0\ud83c\uddec",ioc:"KGZ",languages:["rus"],name:"Kyrgyzstan",status:"assigned"},{alpha2:"KH",alpha3:"KHM",countryCallingCodes:["+855"],currencies:["KHR"],emoji:"\ud83c\uddf0\ud83c\udded",ioc:"CAM",languages:["khm"],name:"Cambodia",status:"assigned"},{alpha2:"KI",alpha3:"KIR",countryCallingCodes:["+686"],currencies:["AUD"],emoji:"\ud83c\uddf0\ud83c\uddee",ioc:"KIR",languages:["eng"],name:"Kiribati",status:"assigned"},{alpha2:"KM",alpha3:"COM",countryCallingCodes:["+269"],currencies:["KMF"],emoji:"\ud83c\uddf0\ud83c\uddf2",ioc:"COM",languages:["ara","fra"],name:"Comoros",status:"assigned"},{alpha2:"KN",alpha3:"KNA",countryCallingCodes:["+1 869"],currencies:["XCD"],emoji:"\ud83c\uddf0\ud83c\uddf3",ioc:"SKN",languages:["eng"],name:"Saint Kitts And Nevis",status:"assigned"},{alpha2:"KP",alpha3:"PRK",countryCallingCodes:["+850"],currencies:["KPW"],emoji:"\ud83c\uddf0\ud83c\uddf5",ioc:"PRK",languages:["kor"],name:"Korea, Democratic People's Republic Of",status:"assigned"},{alpha2:"KR",alpha3:"KOR",countryCallingCodes:["+82"],currencies:["KRW"],emoji:"\ud83c\uddf0\ud83c\uddf7",ioc:"KOR",languages:["kor"],name:"Korea, Republic Of",status:"assigned"},{alpha2:"KW",alpha3:"KWT",countryCallingCodes:["+965"],currencies:["KWD"],emoji:"\ud83c\uddf0\ud83c\uddfc",ioc:"KUW",languages:["ara"],name:"Kuwait",status:"assigned"},{alpha2:"KY",alpha3:"CYM",countryCallingCodes:["+1 345"],currencies:["KYD"],emoji:"\ud83c\uddf0\ud83c\uddfe",ioc:"CAY",languages:["eng"],name:"Cayman Islands",status:"assigned"},{alpha2:"KZ",alpha3:"KAZ",countryCallingCodes:["+7","+7 6","+7 7"],currencies:["KZT"],emoji:"\ud83c\uddf0\ud83c\uddff",ioc:"KAZ",languages:["kaz","rus"],name:"Kazakhstan",status:"assigned"},{alpha2:"LA",alpha3:"LAO",countryCallingCodes:["+856"],currencies:["LAK"],emoji:"\ud83c\uddf1\ud83c\udde6",ioc:"LAO",languages:["lao"],name:"Lao People's Democratic Republic",status:"assigned"},{alpha2:"LB",alpha3:"LBN",countryCallingCodes:["+961"],currencies:["LBP"],emoji:"\ud83c\uddf1\ud83c\udde7",ioc:"LIB",languages:["ara","hye"],name:"Lebanon",status:"assigned"},{alpha2:"LC",alpha3:"LCA",countryCallingCodes:["+1 758"],currencies:["XCD"],emoji:"\ud83c\uddf1\ud83c\udde8",ioc:"LCA",languages:["eng"],name:"Saint Lucia",status:"assigned"},{alpha2:"LI",alpha3:"LIE",countryCallingCodes:["+423"],currencies:["CHF"],emoji:"\ud83c\uddf1\ud83c\uddee",ioc:"LIE",languages:["deu"],name:"Liechtenstein",status:"assigned"},{alpha2:"LK",alpha3:"LKA",countryCallingCodes:["+94"],currencies:["LKR"],emoji:"\ud83c\uddf1\ud83c\uddf0",ioc:"SRI",languages:["sin","tam"],name:"Sri Lanka",status:"assigned"},{alpha2:"LR",alpha3:"LBR",countryCallingCodes:["+231"],currencies:["LRD"],emoji:"\ud83c\uddf1\ud83c\uddf7",ioc:"LBR",languages:["eng"],name:"Liberia",status:"assigned"},{alpha2:"LS",alpha3:"LSO",countryCallingCodes:["+266"],currencies:["LSL","ZAR"],emoji:"\ud83c\uddf1\ud83c\uddf8",ioc:"LES",languages:["eng","sot"],name:"Lesotho",status:"assigned"},{alpha2:"LT",alpha3:"LTU",countryCallingCodes:["+370"],currencies:["EUR"],emoji:"\ud83c\uddf1\ud83c\uddf9",ioc:"LTU",languages:["lit"],name:"Lithuania",status:"assigned"},{alpha2:"LU",alpha3:"LUX",countryCallingCodes:["+352"],currencies:["EUR"],emoji:"\ud83c\uddf1\ud83c\uddfa",ioc:"LUX",languages:["fra","deu","ltz"],name:"Luxembourg",status:"assigned"},{alpha2:"LV",alpha3:"LVA",countryCallingCodes:["+371"],currencies:["EUR"],emoji:"\ud83c\uddf1\ud83c\uddfb",ioc:"LAT",languages:["lav"],name:"Latvia",status:"assigned"},{alpha2:"LY",alpha3:"LBY",countryCallingCodes:["+218"],currencies:["LYD"],emoji:"\ud83c\uddf1\ud83c\uddfe",ioc:"LBA",languages:["ara"],name:"Libya",status:"assigned"},{alpha2:"MA",alpha3:"MAR",countryCallingCodes:["+212"],currencies:["MAD"],emoji:"\ud83c\uddf2\ud83c\udde6",ioc:"MAR",languages:["ara"],name:"Morocco",status:"assigned"},{alpha2:"MC",alpha3:"MCO",countryCallingCodes:["+377"],currencies:["EUR"],emoji:"\ud83c\uddf2\ud83c\udde8",ioc:"MON",languages:["fra"],name:"Monaco",status:"assigned"},{alpha2:"MD",alpha3:"MDA",countryCallingCodes:["+373"],currencies:["MDL"],emoji:"\ud83c\uddf2\ud83c\udde9",ioc:"MDA",languages:["ron"],name:"Moldova",status:"assigned"},{alpha2:"ME",alpha3:"MNE",countryCallingCodes:["+382"],currencies:["EUR"],emoji:"\ud83c\uddf2\ud83c\uddea",ioc:"MNE",languages:["mot"],name:"Montenegro",status:"assigned"},{alpha2:"MF",alpha3:"MAF",countryCallingCodes:["+590"],currencies:["EUR"],emoji:"\ud83c\uddf2\ud83c\uddeb",ioc:"",languages:["fra"],name:"Saint Martin",status:"assigned"},{alpha2:"MG",alpha3:"MDG",countryCallingCodes:["+261"],currencies:["MGA"],emoji:"\ud83c\uddf2\ud83c\uddec",ioc:"MAD",languages:["fra","mlg"],name:"Madagascar",status:"assigned"},{alpha2:"MH",alpha3:"MHL",countryCallingCodes:["+692"],currencies:["USD"],emoji:"\ud83c\uddf2\ud83c\udded",ioc:"MHL",languages:["eng","mah"],name:"Marshall Islands",status:"assigned"},{alpha2:"MI",alpha3:"MID",countryCallingCodes:[],currencies:[],ioc:"",languages:[],name:"Midway Islands",status:"deleted"},{alpha2:"MK",alpha3:"MKD",countryCallingCodes:["+389"],currencies:["MKD"],emoji:"\ud83c\uddf2\ud83c\uddf0",ioc:"MKD",languages:["mkd"],name:"Macedonia, The Former Yugoslav Republic Of",status:"assigned"},{alpha2:"ML",alpha3:"MLI",countryCallingCodes:["+223"],currencies:["XOF"],emoji:"\ud83c\uddf2\ud83c\uddf1",ioc:"MLI",languages:["fra"],name:"Mali",status:"assigned"},{alpha2:"MM",alpha3:"MMR",countryCallingCodes:["+95"],currencies:["MMK"],emoji:"\ud83c\uddf2\ud83c\uddf2",ioc:"MYA",languages:["mya"],name:"Myanmar",status:"assigned"},{alpha2:"MN",alpha3:"MNG",countryCallingCodes:["+976"],currencies:["MNT"],emoji:"\ud83c\uddf2\ud83c\uddf3",ioc:"MGL",languages:["mon"],name:"Mongolia",status:"assigned"},{alpha2:"MO",alpha3:"MAC",countryCallingCodes:["+853"],currencies:["MOP"],emoji:"\ud83c\uddf2\ud83c\uddf4",ioc:"MAC",languages:["zho","por"],name:"Macao",status:"assigned"},{alpha2:"MP",alpha3:"MNP",countryCallingCodes:["+1 670"],currencies:["USD"],emoji:"\ud83c\uddf2\ud83c\uddf5",ioc:"",languages:["eng"],name:"Northern Mariana Islands",status:"assigned"},{alpha2:"MQ",alpha3:"MTQ",countryCallingCodes:["+596"],currencies:["EUR"],emoji:"\ud83c\uddf2\ud83c\uddf6",ioc:"",languages:[],name:"Martinique",status:"assigned"},{alpha2:"MR",alpha3:"MRT",countryCallingCodes:["+222"],currencies:["MRO"],emoji:"\ud83c\uddf2\ud83c\uddf7",ioc:"MTN",languages:["ara","fra"],name:"Mauritania",status:"assigned"},{alpha2:"MS",alpha3:"MSR",countryCallingCodes:["+1 664"],currencies:["XCD"],emoji:"\ud83c\uddf2\ud83c\uddf8",ioc:"",languages:[],name:"Montserrat",status:"assigned"},{alpha2:"MT",alpha3:"MLT",countryCallingCodes:["+356"],currencies:["EUR"],emoji:"\ud83c\uddf2\ud83c\uddf9",ioc:"MLT",languages:["mlt","eng"],name:"Malta",status:"assigned"},{alpha2:"MU",alpha3:"MUS",countryCallingCodes:["+230"],currencies:["MUR"],emoji:"\ud83c\uddf2\ud83c\uddfa",ioc:"MRI",languages:["eng","fra"],name:"Mauritius",status:"assigned"},{alpha2:"MV",alpha3:"MDV",countryCallingCodes:["+960"],currencies:["MVR"],emoji:"\ud83c\uddf2\ud83c\uddfb",ioc:"MDV",languages:["div"],name:"Maldives",status:"assigned"},{alpha2:"MW",alpha3:"MWI",countryCallingCodes:["+265"],currencies:["MWK"],emoji:"\ud83c\uddf2\ud83c\uddfc",ioc:"MAW",languages:["eng","nya"],name:"Malawi",status:"assigned"},{alpha2:"MX",alpha3:"MEX",countryCallingCodes:["+52"],currencies:["MXN","MXV"],emoji:"\ud83c\uddf2\ud83c\uddfd",ioc:"MEX",languages:["spa"],name:"Mexico",status:"assigned"},{alpha2:"MY",alpha3:"MYS",countryCallingCodes:["+60"],currencies:["MYR"],emoji:"\ud83c\uddf2\ud83c\uddfe",ioc:"MAS",languages:["msa","eng"],name:"Malaysia",status:"assigned"},{alpha2:"MZ",alpha3:"MOZ",countryCallingCodes:["+258"],currencies:["MZN"],emoji:"\ud83c\uddf2\ud83c\uddff",ioc:"MOZ",languages:["por"],name:"Mozambique",status:"assigned"},{alpha2:"NA",alpha3:"NAM",countryCallingCodes:["+264"],currencies:["NAD","ZAR"],emoji:"\ud83c\uddf3\ud83c\udde6",ioc:"NAM",languages:["eng"],name:"Namibia",status:"assigned"},{alpha2:"NC",alpha3:"NCL",countryCallingCodes:["+687"],currencies:["XPF"],emoji:"\ud83c\uddf3\ud83c\udde8",ioc:"",languages:["fra"],name:"New Caledonia",status:"assigned"},{alpha2:"NE",alpha3:"NER",countryCallingCodes:["+227"],currencies:["XOF"],emoji:"\ud83c\uddf3\ud83c\uddea",ioc:"NIG",languages:["fra"],name:"Niger",status:"assigned"},{alpha2:"NF",alpha3:"NFK",countryCallingCodes:["+672"],currencies:["AUD"],emoji:"\ud83c\uddf3\ud83c\uddeb",ioc:"",languages:["eng"],name:"Norfolk Island",status:"assigned"},{alpha2:"NG",alpha3:"NGA",countryCallingCodes:["+234"],currencies:["NGN"],emoji:"\ud83c\uddf3\ud83c\uddec",ioc:"NGR",languages:["eng"],name:"Nigeria",status:"assigned"},{alpha2:"NH",alpha3:"NHB",countryCallingCodes:[],currencies:[],ioc:"",languages:[],name:"New Hebrides",status:"deleted"},{alpha2:"NI",alpha3:"NIC",countryCallingCodes:["+505"],currencies:["NIO"],emoji:"\ud83c\uddf3\ud83c\uddee",ioc:"NCA",languages:["spa"],name:"Nicaragua",status:"assigned"},{alpha2:"NL",alpha3:"NLD",countryCallingCodes:["+31"],currencies:["EUR"],emoji:"\ud83c\uddf3\ud83c\uddf1",ioc:"NED",languages:["nld"],name:"Netherlands",status:"assigned"},{alpha2:"NO",alpha3:"NOR",countryCallingCodes:["+47"],currencies:["NOK"],emoji:"\ud83c\uddf3\ud83c\uddf4",ioc:"NOR",languages:["nor"],name:"Norway",status:"assigned"},{alpha2:"NP",alpha3:"NPL",countryCallingCodes:["+977"],currencies:["NPR"],emoji:"\ud83c\uddf3\ud83c\uddf5",ioc:"NEP",languages:["nep"],name:"Nepal",status:"assigned"},{alpha2:"NQ",alpha3:"ATN",countryCallingCodes:[],currencies:[],ioc:"",languages:[],name:"Dronning Maud Land",status:"deleted"},{alpha2:"NR",alpha3:"NRU",countryCallingCodes:["+674"],currencies:["AUD"],emoji:"\ud83c\uddf3\ud83c\uddf7",ioc:"NRU",languages:["eng","nau"],name:"Nauru",status:"assigned"},{alpha2:"NT",alpha3:"NTZ",countryCallingCodes:[],currencies:[],ioc:"",languages:[],name:"Neutral Zone",status:"deleted"},{alpha2:"NU",alpha3:"NIU",countryCallingCodes:["+683"],currencies:["NZD"],emoji:"\ud83c\uddf3\ud83c\uddfa",ioc:"",languages:["eng"],name:"Niue",status:"assigned"},{alpha2:"NZ",alpha3:"NZL",countryCallingCodes:["+64"],currencies:["NZD"],emoji:"\ud83c\uddf3\ud83c\uddff",ioc:"NZL",languages:["eng"],name:"New Zealand",status:"assigned"},{alpha2:"OM",alpha3:"OMN",countryCallingCodes:["+968"],currencies:["OMR"],emoji:"\ud83c\uddf4\ud83c\uddf2",ioc:"OMA",languages:["ara"],name:"Oman",status:"assigned"},{alpha2:"PA",alpha3:"PAN",countryCallingCodes:["+507"],currencies:["PAB","USD"],emoji:"\ud83c\uddf5\ud83c\udde6",ioc:"PAN",languages:["spa"],name:"Panama",status:"assigned"},{alpha2:"PC",alpha3:"PCI",countryCallingCodes:[],currencies:[],ioc:"",languages:[],name:"Pacific Islands, Trust Territory of the",status:"deleted"},{alpha2:"PE",alpha3:"PER",countryCallingCodes:["+51"],currencies:["PEN"],emoji:"\ud83c\uddf5\ud83c\uddea",ioc:"PER",languages:["spa","aym","que"],name:"Peru",status:"assigned"},{alpha2:"PF",alpha3:"PYF",countryCallingCodes:["+689"],currencies:["XPF"],emoji:"\ud83c\uddf5\ud83c\uddeb",ioc:"",languages:["fra"],name:"French Polynesia",status:"assigned"},{alpha2:"PG",alpha3:"PNG",countryCallingCodes:["+675"],currencies:["PGK"],emoji:"\ud83c\uddf5\ud83c\uddec",ioc:"PNG",languages:["eng"],name:"Papua New Guinea",status:"assigned"},{alpha2:"PH",alpha3:"PHL",countryCallingCodes:["+63"],currencies:["PHP"],emoji:"\ud83c\uddf5\ud83c\udded",ioc:"PHI",languages:["eng"],name:"Philippines",status:"assigned"},{alpha2:"PK",alpha3:"PAK",countryCallingCodes:["+92"],currencies:["PKR"],emoji:"\ud83c\uddf5\ud83c\uddf0",ioc:"PAK",languages:["urd","eng"],name:"Pakistan",status:"assigned"},{alpha2:"PL",alpha3:"POL",countryCallingCodes:["+48"],currencies:["PLN"],emoji:"\ud83c\uddf5\ud83c\uddf1",ioc:"POL",languages:["pol"],name:"Poland",status:"assigned"},{alpha2:"PM",alpha3:"SPM",countryCallingCodes:["+508"],currencies:["EUR"],emoji:"\ud83c\uddf5\ud83c\uddf2",ioc:"",languages:["eng"],name:"Saint Pierre And Miquelon",status:"assigned"},{alpha2:"PN",alpha3:"PCN",countryCallingCodes:["+872"],currencies:["NZD"],emoji:"\ud83c\uddf5\ud83c\uddf3",ioc:"",languages:["eng"],name:"Pitcairn",status:"assigned"},{alpha2:"PR",alpha3:"PRI",countryCallingCodes:["+1 787","+1 939"],currencies:["USD"],emoji:"\ud83c\uddf5\ud83c\uddf7",ioc:"PUR",languages:["spa","eng"],name:"Puerto Rico",status:"assigned"},{alpha2:"PS",alpha3:"PSE",countryCallingCodes:["+970"],currencies:["JOD","EGP","ILS"],emoji:"\ud83c\uddf5\ud83c\uddf8",ioc:"PLE",languages:["ara"],name:"Palestinian Territory, Occupied",status:"assigned"},{alpha2:"PT",alpha3:"PRT",countryCallingCodes:["+351"],currencies:["EUR"],emoji:"\ud83c\uddf5\ud83c\uddf9",ioc:"POR",languages:["por"],name:"Portugal",status:"assigned"},{alpha2:"PU",alpha3:"PUS",countryCallingCodes:[],currencies:[],ioc:"",languages:[],name:"U.S. Miscellaneous Pacific Islands",status:"deleted"},{alpha2:"PW",alpha3:"PLW",countryCallingCodes:["+680"],currencies:["USD"],emoji:"\ud83c\uddf5\ud83c\uddfc",ioc:"PLW",languages:["eng"],name:"Palau",status:"assigned"},{alpha2:"PY",alpha3:"PRY",countryCallingCodes:["+595"],currencies:["PYG"],emoji:"\ud83c\uddf5\ud83c\uddfe",ioc:"PAR",languages:["spa"],name:"Paraguay",status:"assigned"},{alpha2:"PZ",alpha3:"PCZ",countryCallingCodes:[],currencies:[],ioc:"",languages:[],name:"Panama Canal Zone",status:"deleted"},{alpha2:"QA",alpha3:"QAT",countryCallingCodes:["+974"],currencies:["QAR"],emoji:"\ud83c\uddf6\ud83c\udde6",ioc:"QAT",languages:["ara"],name:"Qatar",status:"assigned"},{alpha2:"RE",alpha3:"REU",countryCallingCodes:["+262"],currencies:["EUR"],emoji:"\ud83c\uddf7\ud83c\uddea",ioc:"",languages:["fra"],name:"Reunion",status:"assigned"},{alpha2:"RH",alpha3:"RHO",countryCallingCodes:[],currencies:[],ioc:"",languages:[],name:"Southern Rhodesia",status:"deleted"},{alpha2:"RO",alpha3:"ROU",countryCallingCodes:["+40"],currencies:["RON"],emoji:"\ud83c\uddf7\ud83c\uddf4",ioc:"ROU",languages:["ron"],name:"Romania",status:"assigned"},{alpha2:"RS",alpha3:"SRB",countryCallingCodes:["+381"],currencies:["RSD"],emoji:"\ud83c\uddf7\ud83c\uddf8",ioc:"SRB",languages:["srp"],name:"Serbia",status:"assigned"},{alpha2:"RU",alpha3:"RUS",countryCallingCodes:["+7","+7 3","+7 4","+7 8"],currencies:["RUB"],emoji:"\ud83c\uddf7\ud83c\uddfa",ioc:"RUS",languages:["rus"],name:"Russian Federation",status:"assigned"},{alpha2:"RW",alpha3:"RWA",countryCallingCodes:["+250"],currencies:["RWF"],emoji:"\ud83c\uddf7\ud83c\uddfc",ioc:"RWA",languages:["eng","fra","kin"],name:"Rwanda",status:"assigned"},{alpha2:"SA",alpha3:"SAU",countryCallingCodes:["+966"],currencies:["SAR"],emoji:"\ud83c\uddf8\ud83c\udde6",ioc:"KSA",languages:["ara"],name:"Saudi Arabia",status:"assigned"},{alpha2:"SB",alpha3:"SLB",countryCallingCodes:["+677"],currencies:["SBD"],emoji:"\ud83c\uddf8\ud83c\udde7",ioc:"SOL",languages:["eng"],name:"Solomon Islands",status:"assigned"},{alpha2:"SC",alpha3:"SYC",countryCallingCodes:["+248"],currencies:["SCR"],emoji:"\ud83c\uddf8\ud83c\udde8",ioc:"SEY",languages:["eng","fra"],name:"Seychelles",status:"assigned"},{alpha2:"SD",alpha3:"SDN",countryCallingCodes:["+249"],currencies:["SDG"],emoji:"\ud83c\uddf8\ud83c\udde9",ioc:"SUD",languages:["ara","eng"],name:"Sudan",status:"assigned"},{alpha2:"SE",alpha3:"SWE",countryCallingCodes:["+46"],currencies:["SEK"],emoji:"\ud83c\uddf8\ud83c\uddea",ioc:"SWE",languages:["swe"],name:"Sweden",status:"assigned"},{alpha2:"SG",alpha3:"SGP",countryCallingCodes:["+65"],currencies:["SGD"],emoji:"\ud83c\uddf8\ud83c\uddec",ioc:"SIN",languages:["eng","zho","msa","tam"],name:"Singapore",status:"assigned"},{alpha2:"SH",alpha3:"SHN",countryCallingCodes:["+290"],currencies:["SHP"],emoji:"\ud83c\uddf8\ud83c\udded",ioc:"",languages:["eng"],name:"Saint Helena, Ascension And Tristan Da Cunha",status:"assigned"},{alpha2:"SI",alpha3:"SVN",countryCallingCodes:["+386"],currencies:["EUR"],emoji:"\ud83c\uddf8\ud83c\uddee",ioc:"SLO",languages:["slv"],name:"Slovenia",status:"assigned"},{alpha2:"SJ",alpha3:"SJM",countryCallingCodes:["+47"],currencies:["NOK"],emoji:"\ud83c\uddf8\ud83c\uddef",ioc:"",languages:[],name:"Svalbard And Jan Mayen",status:"assigned"},{alpha2:"SK",alpha3:"SVK",countryCallingCodes:["+421"],currencies:["EUR"],emoji:"\ud83c\uddf8\ud83c\uddf0",ioc:"SVK",languages:["slk"],name:"Slovakia",status:"assigned"},{alpha2:"SK",alpha3:"SKM",countryCallingCodes:[],currencies:[],ioc:"",languages:[],name:"Sikkim",status:"deleted"},{alpha2:"SL",alpha3:"SLE",countryCallingCodes:["+232"],currencies:["SLL"],emoji:"\ud83c\uddf8\ud83c\uddf1",ioc:"SLE",languages:["eng"],name:"Sierra Leone",status:"assigned"},{alpha2:"SM",alpha3:"SMR",countryCallingCodes:["+378"],currencies:["EUR"],emoji:"\ud83c\uddf8\ud83c\uddf2",ioc:"SMR",languages:["ita"],name:"San Marino",status:"assigned"},{alpha2:"SN",alpha3:"SEN",countryCallingCodes:["+221"],currencies:["XOF"],emoji:"\ud83c\uddf8\ud83c\uddf3",ioc:"SEN",languages:["fra"],name:"Senegal",status:"assigned"},{alpha2:"SO",alpha3:"SOM",countryCallingCodes:["+252"],currencies:["SOS"],emoji:"\ud83c\uddf8\ud83c\uddf4",ioc:"SOM",languages:["som"],name:"Somalia",status:"assigned"},{alpha2:"SR",alpha3:"SUR",countryCallingCodes:["+597"],currencies:["SRD"],emoji:"\ud83c\uddf8\ud83c\uddf7",ioc:"SUR",languages:["nld"],name:"Suriname",status:"assigned"},{alpha2:"SS",alpha3:"SSD",countryCallingCodes:["+211"],currencies:["SSP"],emoji:"\ud83c\uddf8\ud83c\uddf8",ioc:"SSD",languages:["eng"],name:"South Sudan",status:"assigned"},{alpha2:"ST",alpha3:"STP",countryCallingCodes:["+239"],currencies:["STD"],emoji:"\ud83c\uddf8\ud83c\uddf9",ioc:"STP",languages:["por"],name:"Sao Tome and Principe",status:"assigned"},{alpha2:"SU",alpha3:"",countryCallingCodes:[],currencies:["RUB"],emoji:"",ioc:"",languages:["rus"],name:"USSR",status:"reserved"},{alpha2:"SV",alpha3:"SLV",countryCallingCodes:["+503"],currencies:["USD"],emoji:"\ud83c\uddf8\ud83c\uddfb",ioc:"ESA",languages:["spa"],name:"El Salvador",status:"assigned"},{alpha2:"SX",alpha3:"SXM",countryCallingCodes:["+1 721"],currencies:["ANG"],emoji:"\ud83c\uddf8\ud83c\uddfd",ioc:"",languages:["nld"],name:"Sint Maarten",status:"assigned"},{alpha2:"SY",alpha3:"SYR",countryCallingCodes:["+963"],currencies:["SYP"],emoji:"\ud83c\uddf8\ud83c\uddfe",ioc:"SYR",languages:["ara"],name:"Syrian Arab Republic",status:"assigned"},{alpha2:"SZ",alpha3:"SWZ",countryCallingCodes:["+268"],currencies:["SZL"],emoji:"\ud83c\uddf8\ud83c\uddff",ioc:"SWZ",languages:["eng","ssw"],name:"Swaziland",status:"assigned"},{alpha2:"TA",alpha3:"",countryCallingCodes:["+290"],currencies:["GBP"],emoji:"",ioc:"",languages:[],name:"Tristan de Cunha",status:"reserved"},{alpha2:"TC",alpha3:"TCA",countryCallingCodes:["+1 649"],currencies:["USD"],emoji:"\ud83c\uddf9\ud83c\udde8",ioc:"",languages:["eng"],name:"Turks And Caicos Islands",status:"assigned"},{alpha2:"TD",alpha3:"TCD",countryCallingCodes:["+235"],currencies:["XAF"],emoji:"\ud83c\uddf9\ud83c\udde9",ioc:"CHA",languages:["ara","fra"],name:"Chad",status:"assigned"},{alpha2:"TF",alpha3:"ATF",countryCallingCodes:[],currencies:["EUR"],emoji:"\ud83c\uddf9\ud83c\uddeb",ioc:"",languages:["fra"],name:"French Southern Territories",status:"assigned"},{alpha2:"TG",alpha3:"TGO",countryCallingCodes:["+228"],currencies:["XOF"],emoji:"\ud83c\uddf9\ud83c\uddec",ioc:"TOG",languages:["fra"],name:"Togo",status:"assigned"},{alpha2:"TH",alpha3:"THA",countryCallingCodes:["+66"],currencies:["THB"],emoji:"\ud83c\uddf9\ud83c\udded",ioc:"THA",languages:["tha"],name:"Thailand",status:"assigned"},{alpha2:"TJ",alpha3:"TJK",countryCallingCodes:["+992"],currencies:["TJS"],emoji:"\ud83c\uddf9\ud83c\uddef",ioc:"TJK",languages:["tgk","rus"],name:"Tajikistan",status:"assigned"},{alpha2:"TK",alpha3:"TKL",countryCallingCodes:["+690"],currencies:["NZD"],emoji:"\ud83c\uddf9\ud83c\uddf0",ioc:"",languages:["eng"],name:"Tokelau",status:"assigned"},{alpha2:"TL",alpha3:"TLS",countryCallingCodes:["+670"],currencies:["USD"],emoji:"\ud83c\uddf9\ud83c\uddf1",ioc:"TLS",languages:["por"],name:"Timor-Leste, Democratic Republic of",status:"assigned"},{alpha2:"TM",alpha3:"TKM",countryCallingCodes:["+993"],currencies:["TMT"],emoji:"\ud83c\uddf9\ud83c\uddf2",ioc:"TKM",languages:["tuk","rus"],name:"Turkmenistan",status:"assigned"},{alpha2:"TN",alpha3:"TUN",countryCallingCodes:["+216"],currencies:["TND"],emoji:"\ud83c\uddf9\ud83c\uddf3",ioc:"TUN",languages:["ara"],name:"Tunisia",status:"assigned"},{alpha2:"TO",alpha3:"TON",countryCallingCodes:["+676"],currencies:["TOP"],emoji:"\ud83c\uddf9\ud83c\uddf4",ioc:"TGA",languages:["eng"],name:"Tonga",status:"assigned"},{alpha2:"TP",alpha3:"TMP",countryCallingCodes:[],currencies:[],ioc:"",languages:[],name:"East Timor",status:"deleted"},{alpha2:"TR",alpha3:"TUR",countryCallingCodes:["+90"],currencies:["TRY"],emoji:"\ud83c\uddf9\ud83c\uddf7",ioc:"TUR",languages:["tur"],name:"Turkey",status:"assigned"},{alpha2:"TT",alpha3:"TTO",countryCallingCodes:["+1 868"],currencies:["TTD"],emoji:"\ud83c\uddf9\ud83c\uddf9",ioc:"TTO",languages:["eng"],name:"Trinidad And Tobago",status:"assigned"},{alpha2:"TV",alpha3:"TUV",countryCallingCodes:["+688"],currencies:["AUD"],emoji:"\ud83c\uddf9\ud83c\uddfb",ioc:"TUV",languages:["eng"],name:"Tuvalu",status:"assigned"},{alpha2:"TW",alpha3:"TWN",countryCallingCodes:["+886"],currencies:["TWD"],emoji:"\ud83c\uddf9\ud83c\uddfc",ioc:"TPE",languages:["zho"],name:"Taiwan",status:"assigned"},{alpha2:"TZ",alpha3:"TZA",countryCallingCodes:["+255"],currencies:["TZS"],emoji:"\ud83c\uddf9\ud83c\uddff",ioc:"TAN",languages:["swa","eng"],name:"Tanzania, United Republic Of",status:"assigned"},{alpha2:"UA",alpha3:"UKR",countryCallingCodes:["+380"],currencies:["UAH"],emoji:"\ud83c\uddfa\ud83c\udde6",ioc:"UKR",languages:["ukr","rus"],name:"Ukraine",status:"assigned"},{alpha2:"UG",alpha3:"UGA",countryCallingCodes:["+256"],currencies:["UGX"],emoji:"\ud83c\uddfa\ud83c\uddec",ioc:"UGA",languages:["eng","swa"],name:"Uganda",status:"assigned"},{alpha2:"UK",alpha3:"",countryCallingCodes:[],currencies:["GBP"],emoji:"",ioc:"",languages:["eng","cor","gle","gla","cym"],name:"United Kingdom",status:"reserved"},{alpha2:"UM",alpha3:"UMI",countryCallingCodes:["+1"],currencies:["USD"],emoji:"\ud83c\uddfa\ud83c\uddf2",ioc:"",languages:["eng"],name:"United States Minor Outlying Islands",status:"assigned"},{alpha2:"UY",alpha3:"URY",countryCallingCodes:["+598"],currencies:["UYU","UYI"],emoji:"\ud83c\uddfa\ud83c\uddfe",ioc:"URU",languages:["spa"],name:"Uruguay",status:"assigned"},{alpha2:"UZ",alpha3:"UZB",countryCallingCodes:["+998"],currencies:["UZS"],emoji:"\ud83c\uddfa\ud83c\uddff",ioc:"UZB",languages:["uzb","rus"],name:"Uzbekistan",status:"assigned"},{alpha2:"VA",alpha3:"VAT",countryCallingCodes:["+379","+39"],currencies:["EUR"],emoji:"\ud83c\uddfb\ud83c\udde6",ioc:"",languages:["ita"],name:"Vatican City State",status:"assigned"},{alpha2:"VC",alpha3:"VCT",countryCallingCodes:["+1 784"],currencies:["XCD"],emoji:"\ud83c\uddfb\ud83c\udde8",ioc:"VIN",languages:["eng"],name:"Saint Vincent And The Grenadines",status:"assigned"},{alpha2:"VD",alpha3:"VDR",countryCallingCodes:[],currencies:[],ioc:"",languages:[],name:"Viet-Nam, Democratic Republic of",status:"deleted"},{alpha2:"VE",alpha3:"VEN",countryCallingCodes:["+58"],currencies:["VEF"],emoji:"\ud83c\uddfb\ud83c\uddea",ioc:"VEN",languages:["spa"],name:"Venezuela, Bolivarian Republic Of",status:"assigned"},{alpha2:"VG",alpha3:"VGB",countryCallingCodes:["+1 284"],currencies:["USD"],emoji:"\ud83c\uddfb\ud83c\uddec",ioc:"IVB",languages:["eng"],name:"Virgin Islands (British)",status:"assigned"},{alpha2:"VI",alpha3:"VIR",countryCallingCodes:["+1 340"],currencies:["USD"],emoji:"\ud83c\uddfb\ud83c\uddee",ioc:"ISV",languages:["eng"],name:"Virgin Islands (US)",status:"assigned"},{alpha2:"VN",alpha3:"VNM",countryCallingCodes:["+84"],currencies:["VND"],emoji:"\ud83c\uddfb\ud83c\uddf3",ioc:"VIE",languages:["vie"],name:"Viet Nam",status:"assigned"},{alpha2:"VU",alpha3:"VUT",countryCallingCodes:["+678"],currencies:["VUV"],emoji:"\ud83c\uddfb\ud83c\uddfa",ioc:"VAN",languages:["bis","eng","fra"],name:"Vanuatu",status:"assigned"},{alpha2:"WF",alpha3:"WLF",countryCallingCodes:["+681"],currencies:["XPF"],emoji:"\ud83c\uddfc\ud83c\uddeb",ioc:"",languages:["fra"],name:"Wallis And Futuna",status:"assigned"},{alpha2:"WK",alpha3:"WAK",countryCallingCodes:[],currencies:[],ioc:"",languages:[],name:"Wake Island",status:"deleted"},{alpha2:"WS",alpha3:"WSM",countryCallingCodes:["+685"],currencies:["WST"],emoji:"\ud83c\uddfc\ud83c\uddf8",ioc:"SAM",languages:["eng","smo"],name:"Samoa",status:"assigned"},{alpha2:"XK",alpha3:"",countryCallingCodes:["+383"],currencies:["EUR"],emoji:"",ioc:"KOS",languages:["sqi","srp","bos","tur","rom"],name:"Kosovo",status:"user assigned"},{alpha2:"YD",alpha3:"YMD",countryCallingCodes:[],currencies:[],ioc:"",languages:[],name:"Yemen, Democratic",status:"deleted"},{alpha2:"YE",alpha3:"YEM",countryCallingCodes:["+967"],currencies:["YER"],emoji:"\ud83c\uddfe\ud83c\uddea",ioc:"YEM",languages:["ara"],name:"Yemen",status:"assigned"},{alpha2:"YT",alpha3:"MYT",countryCallingCodes:["+262"],currencies:["EUR"],emoji:"\ud83c\uddfe\ud83c\uddf9",ioc:"",languages:["fra"],name:"Mayotte",status:"assigned"},{alpha2:"YU",alpha3:"YUG",countryCallingCodes:[],currencies:[],ioc:"",languages:[],name:"Yugoslavia",status:"deleted"},{alpha2:"ZA",alpha3:"ZAF",countryCallingCodes:["+27"],currencies:["ZAR"],emoji:"\ud83c\uddff\ud83c\udde6",ioc:"RSA",languages:["afr","eng","nbl","som","tso","ven","xho","zul"],name:"South Africa",status:"assigned"},{alpha2:"ZM",alpha3:"ZMB",countryCallingCodes:["+260"],currencies:["ZMW"],emoji:"\ud83c\uddff\ud83c\uddf2",ioc:"ZAM",languages:["eng"],name:"Zambia",status:"assigned"},{alpha2:"ZR",alpha3:"ZAR",countryCallingCodes:[],currencies:[],ioc:"",languages:[],name:"Zaire",status:"deleted"},{alpha2:"ZW",alpha3:"ZWE",countryCallingCodes:["+263"],currencies:["USD","ZAR","BWP","GBP","EUR"],emoji:"\ud83c\uddff\ud83c\uddfc",ioc:"ZIM",languages:["eng","sna","nde"],name:"Zimbabwe",status:"assigned"}],ot=n("wEy/"),rt=n.n(ot),at=n("50DI"),st=n.n(at),ct=n("QPBi"),lt=function(){function t(t,e,n,i){var o=this;this.sessionService=t,this.nodeApi=e,this.translationService=n,this.permissionsService=i,this.activeTabUpdated=new V.a(1),this.generalSettingsUpdated=new V.a(1),this.lockerSelected=new V.a(1),this.passwordLockerAppSelected=new V.a(1),this.securityIndexChanged=new V.a(1),this.tabsUpdated=new V.a(1),this.tabPageChanged=new V.a,this.titleUpdated=new V.a,this.unlinkModal=new T.a({open:!1}),this.defaultTabs=[{id:1,title:"General"},{id:2,title:"Themes"},{id:3,title:"Passwords"},{id:5,title:"Sign-In"},{id:7,title:"Recovery"},{id:6,title:"Security"}],this.tabs=this.defaultTabs,this.subscriptions=[],this.phoneList=P()(it,(function(t){return"deleted"!==t.status&&t.countryCallingCodes.length>0})).map((function(t){return t.countryCallingCodes[0].replace(/\s+/g,"")})),this.tabsUpdated.next(this.tabs),this.subscriptions[0]=this.sessionService.settingsUpdated.subscribe((function(t){return o.settings=t})),this.subscriptions[1]=this.generalSettingsUpdated.subscribe((function(t){o.setTabs(),o.setActiveLang(t)})),this.subscriptions[2]=this.sessionService.gwsTokenSet.subscribe((function(){return o.getGeneralSettings()})),this.subscriptions[3]=n.selectTranslateObject("myProfile.header").subscribe((function(t){o.translationObject=t,o.setTranslatedTitles()})),this.subscriptions[4]=this.permissionsService.permissionsSub.subscribe((function(t){o.permissions=t,o.setTabs()}))}return t.prototype.ngOnDestroy=function(){this.subscriptions.forEach((function(t){return t.unsubscribe()}))},t.prototype.getGeneralSettings=function(){var t=this;this.nodeApi.getGeneralSettings().subscribe((function(e){t.generalSettings=e,t.generalSettingsUpdated.next(e)}))},t.prototype.setActiveLang=function(t){var e=this;(this.languages?Object(et.a)(this.languages):this.nodeApi.getLanguages()).subscribe((function(n){e.languages=n;var i=j()(e.languages,(function(e){return e.LanguageId===t.LanguageId}));i?e.translationService.getActiveLang()!==i.ShortName&&(e.translationService.setActiveLang(i.ShortName),document.documentElement.lang=i.ShortName):(e.translationService.setActiveLang("en"),document.documentElement.lang="en")}))},t.prototype.setTabs=function(){if(this.generalSettings){var t=this.generalSettings,e=Object(R.e)(this.defaultTabs);if(this.settings.userInfo.isImpersonated&&this.permissions?(!this.permissions.availablePermissions.has(X.a.PasswordLockerImp)&&this.settings.tenantSettings.showPasswordLocker||rt()(e,(function(t){return 3===t.id})),this.permissions.availablePermissions.has(X.a.SignInTabImp)||rt()(e,(function(t){return 5===t.id})),this.permissions.availablePermissions.has(X.a.SecurityTabImp)||rt()(e,(function(t){return 6===t.id})),this.permissions.availablePermissions.has(X.a.RecoveryTabImp)||rt()(e,(function(t){return 7===t.id}))):this.settings.userInfo.isImpersonated||this.generalSettings.EnablePasswordOptions||K.a.demoTenants.includes(this.generalSettings.TenantId)||rt()(e,(function(t){return 7===t.id})),K.a.demoTenants.includes(this.generalSettings.TenantId)||8!==this.generalSettings.UserType&&7!==this.generalSettings.UserType||rt()(e,(function(t){return 7===t.id})),t.IsEnableAutoLaunch){var n=U()(e,(function(t){return 3===t.id}));e.splice(-1===n?2:3,0,{id:4,title:"Auto Launch"})}this.tabs=e,this.setTranslatedTitles()}},t.prototype.setTranslatedTitles=function(){var t=this;this.tabs&&this.translationObject&&(this.tabs.forEach((function(e){var n=1===e.id?"general":2===e.id?"themes":3===e.id?"passwords":4===e.id?"autoLaunch":5===e.id?"signIn":6===e.id?"security":"recovery";e.title=t.translationObject[n]||st()(n)})),this.tabsUpdated.next(this.tabs))},t.prototype.setTabById=function(t){var e=j()(this.tabs,(function(e){return e.id===t}));this.activeTabUpdated.next(e)},t.prototype.isPasswordLockerApp=function(t){return t.appId},t.prototype.decryptResponse=function(t){var e=Object(nt.MD5)(this.sessionService.getGwsToken());return nt.AES.decrypt(t,e.toString()).toString(nt.enc.Utf8)},t.prototype.guessParseNumber=function(t){var e={countryCode:"+1",number:""};if(!t)return e;for(var n=function(n){var o=t.substring(0,n),r=j()(i.phoneList,(function(t){return t===o}));if(r)return e.countryCode=r,e.number=t.substring(n),"break"},i=this,o=4;o>=1&&"break"!==n(o);o--);return e},t.\u0275fac=function(e){return new(e||t)(c.Wb(A.a),c.Wb(l.a),c.Wb(ct.f),c.Wb(X.b))},t.\u0275prov=c.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),pt=n("fKih"),ut=n("YDKf"),dt=function(){function t(t,e,n,i){var o=this;this.permissionsService=t,this.appsService=e,this.sessionService=n,this.appsHelper=i,this.formPostApps=new T.a([]),this.apps=[],this.subscriptions=[],this.isImpersonated=!1,this.subscriptions[0]=t.permissionsSub.subscribe((function(t){return o.permissions=t})),this.subscriptions[1]=n.userInfoUpdated.subscribe((function(t){var e=o.isImpersonated;o.isImpersonated=t.isImpersonated,e!==t.isImpersonated&&t.isImpersonated&&o.getFormPostApps()})),this.subscriptions[2]=i.appsUpdated.subscribe((function(t){o.isImpersonated&&o.apps.length!==t.length&&o.getFormPostApps(),o.apps=t}))}return t.prototype.ngOnDestroy=function(){this.subscriptions.forEach((function(t){return t.unsubscribe()}))},t.prototype.getFormPostApps=function(){var t=this;this.appsService.getFormPostApps().subscribe((function(e){return t.formPostApps.next(e)}))},t.prototype.showLaunchDisabled=function(t){return this.formPostApps.value.includes(t.id)&&this.permissions.availablePermissions.has(X.a.FormPostAppsImp)&&this.isImpersonated},t.\u0275fac=function(e){return new(e||t)(c.Wb(X.b),c.Wb($.a),c.Wb(A.a),c.Wb(p.a))},t.\u0275prov=c.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),bt=function(){function t(t,e,n,i,o,r,a,s,c,l,p,u,d,b,g){var f=this;this.nodeApi=t,this.favoritesHelper=e,this.appsHelper=n,this.translationHelper=i,this.slideoverService=o,this.appLibHelper=r,this.settingsHelper=a,this.myProfileHelper=s,this.sessionService=c,this.tagsService=l,this.tagsHelper=p,this.translocoService=u,this.formPostAppHelper=d,this.appsService=b,this.permissionsService=g,this.defaultMenuOptions={visible:!1,coordinates:{"top.px":0,"left.px":0},location:_.App,app:void 0},this.changeMenuOptions=new T.a(this.defaultMenuOptions),this.appOptions=[{icon:"far fa-signal-stream",title:"launch",handler:function(){return f.launchApp()}},{icon:"far fa-rocket",title:"setAutoLaunch",handler:function(){return f.setAutoLaunch(!0)},isDisabled:function(){return f.isAutoLaunchDisabled()||f.isOutsideAutoLaunchLimit()}},{icon:"far fa-star",title:"addToFavorites",handler:function(){return f.addFavorite()},color:"var(--color-primary)"},{icon:"far fa-folder",title:"addToFolder",isDisabled:function(){return f.isParentFolderLocked()},subMenuOptions:function(){return f.getFolderSubOptions()},templateName:"folders"},{icon:"far fa-tag",title:"appTags",subMenuOptions:function(){return f.getAppTagOptions()},templateName:"tags"},{icon:"far fa-key",title:"editPassword",handler:function(){return f.openPasswordLocker()},isDisabled:function(){return f.isUpdatePasswordDisabled()||f.settings.userInfo.isImpersonated}},{icon:"far fa-bug",title:"reportIssue",handler:function(){return f.openAppReport()},isDisabled:function(){return f.isReportAnIssueDisabled()}},{icon:"far fa-edit",title:"editCustom",isDisabled:function(){return f.isEditCustomAppDisabled()},handler:function(){return f.editCustomApp()}},{icon:"far fa-times",title:"removeApp",handler:function(){return f.confirmDeleteApp()},isDisabled:function(){return!f.appsHelper.canDeleteApp(f.currentOptions.app)}},{icon:"far fa-info-circle",title:"moreInfo",handler:function(){return f.showMoreInfo()}},{title:"",isDivider:!0}],this.appFolderOptions=[{icon:"far fa-edit",title:"editFolder",isDisabled:function(){return f.appsHelper.showFolderLock(f.currentOptions.app)},handler:function(){return f.editFolder()}},{icon:"far fa-times",title:"removeFolder",color:"var(--color-danger)",isDisabled:function(){return f.appsHelper.showFolderLock(f.currentOptions.app)},handler:function(){return f.confirmDeleteFolder()}},{title:"",isDivider:!0}],this.folderOptions=[{icon:"far fa-times",title:"removeFromFolder",color:"var(--color-danger)",isDisabled:function(){return f.activeFolder&&f.appsHelper.showFolderLock(f.activeFolder)},handler:function(){return f.removeFromFolder()}}],this.defaultOptions=[{icon:"far fa-sort-amount-up",title:"sortApps",subMenuOptions:[{title:"name",handler:function(){return f.sortApps(!0)},isSubOption:!0},{title:"type",handler:function(){return f.sortApps(!1)},isSubOption:!0}]},{icon:"far fa-plus",title:"addApp",handler:function(){return f.openAppLibrary()},isDisabled:function(){return!f.settings||f.settings.customUISettings.theme===pt.a.Primary||!f.appLibraryStatus||!f.appLibraryStatus.IsResourceLibraryEnabled}},{icon:"far fa-folder-plus",title:"addFolder",handler:function(){return f.createFolder()}},{icon:"far fa-brush",title:"changeBackground",handler:function(){return f.openThemesTab()},isDisabled:function(){return!f.settings||f.settings.customUISettings.theme!==pt.a.Default||!f.desktopSettings||!f.desktopSettings.is_allow_change_wallpaper}}],this.currentOptions=this.defaultMenuOptions,this.subscriptions=[],this.subscriptions[0]=e.favoritesUpdated.subscribe((function(t){return f.favorites=t})),this.subscriptions[1]=n.appsUpdated.subscribe((function(t){f.apps=t,f.amountAutoLaunch=P()(f.appsHelper.flattenApps(f.apps),(function(t){return t.user_auto_launch})).length})),this.subscriptions[2]=r.appLibraryStatusUpdated.subscribe((function(t){return f.appLibraryStatus=t})),this.subscriptions[3]=a.desktopSettingsUpdated.subscribe((function(t){return f.desktopSettings=t})),this.subscriptions[4]=s.generalSettingsUpdated.subscribe((function(t){return f.generalSettings=t})),this.subscriptions[5]=n.activeFolderChanged.subscribe((function(t){return f.activeFolder=t})),this.subscriptions[6]=c.settingsUpdated.subscribe((function(t){return f.settings=t})),this.subscriptions[7]=p.tagsUpdated.subscribe((function(t){return f.tags=t})),this.subscriptions[8]=g.permissionsSub.subscribe((function(t){return f.permissions=t}))}return t.prototype.ngOnDestroy=function(){this.subscriptions.forEach((function(t){return t.unsubscribe()}))},t.prototype.getItems=function(t){switch(this.currentOptions=t,this.currentOptions.location){case _.App:return this.getAppOptions();case _.Favorite:return this.getFavoriteOptions();case _.Folder:return this.getFolderOptions();default:return[]}},t.prototype.getDefaultOptions=function(){var t=D()(this.defaultOptions);return this.removeUnusedOptions(t)},t.prototype.getAppOptions=function(){var t=this,e=this.currentOptions.app;if(!e)return this.getDefaultOptions();var n=e.is_appfolder||e.is_folder?D()(this.appFolderOptions):D()(this.appOptions),i=this.favorites?this.favorites.map((function(t){return t.id})):[];return this.isAutoLaunchActive()&&(n[1]={title:"removeAutoLaunch",icon:"far fa-rocket",color:"var(--color-danger)",handler:function(){return t.setAutoLaunch(!1)},isDisabled:function(){return t.isAutoLaunchDisabled()}}),!i.includes(e.id)||e.is_folder||e.is_appfolder||(n[2]={title:"removeFavorite",icon:"far fa-star",color:"var(--color-danger)",handler:function(){return t.removeFavorite()}}),Object(R.e)(this.removeAndEvaluateOptions(n),this.getDefaultOptions())},t.prototype.getFavoriteOptions=function(){var t=this;return this.currentOptions.app?[{title:"removeFavorite",icon:"far fa-star",color:"var(--color-danger)",handler:function(){return t.removeFavorite()}}]:this.getDefaultOptions()},t.prototype.getFolderOptions=function(){var t=this,e=this.currentOptions.app;if(!e)return this.getDefaultOptions();var n=e.is_appfolder||e.is_folder?D()(this.appFolderOptions):D()(this.appOptions);return n.splice.apply(n,Object(R.e)([-1,0],this.folderOptions)),this.isAutoLaunchActive()&&(n[0]={title:"removeAutoLaunch",icon:"far fa-rocket",color:"var(--color-danger)",handler:function(){return t.setAutoLaunch(!1)},isDisabled:function(){return t.isAutoLaunchDisabled()}}),!(this.favorites?this.favorites.map((function(t){return t.id})):[]).includes(e.id)||e.is_folder||e.is_appfolder||(n[1]={title:"removeFavorite",icon:"far fa-star",color:"var(--color-danger)",handler:function(){return t.removeFavorite()}}),Object(R.e)(this.removeAndEvaluateOptions(n),this.getDefaultOptions())},t.prototype.getAppTagOptions=function(){var t=this;return this.tags.map((function(e){return{title:e.name,handler:function(){return t.addTagToApp(e)},isActive:function(){return e.apps.includes(t.currentOptions.app.id)}}}))},t.prototype.getFolderSubOptions=function(){var t=this;return this.apps?this.appsHelper.getAllUnlockedFolders(this.apps).map((function(e){return{icon:"fas fa-folder",title:e.name,color:e.color,handler:function(){return t.addToFolder(e)}}})):[]},t.prototype.evaluateSubOptions=function(t){return t.map((function(t){return t.subMenuOptions&&"function"==typeof t.subMenuOptions?(t.subMenuOptions=t.subMenuOptions(),t):t}))},t.prototype.removeUnusedOptions=function(t){for(var e=0;e<t.length;e++){var n=t[e];void 0!==n.isDisabled&&n.isDisabled()&&(t.splice(e,1),e--)}return 1===t.length&&t[0].isDivider?[]:t},t.prototype.removeAndEvaluateOptions=function(t){return this.evaluateSubOptions(this.removeUnusedOptions(t))},t.prototype.setAutoLaunch=function(t){var e=this;this.currentOptions.app.user_auto_launch=t,(!0===t?this.nodeApi.addAutoLaunch(this.currentOptions.app):this.nodeApi.removeAutoLaunch(this.currentOptions.app)).subscribe((function(n){e.translationHelper.translateAndAddGenericGrowl({severity:"success"},{subject:"myProfile.autoLaunch.autoLaunch",verb:"common."+(t?"added":"removed")}),e.appsHelper.appsUpdated.next(e.apps)}))},t.prototype.launchApp=function(){this.appsHelper.launchApp(this.currentOptions.app,null,this.formPostAppHelper.showLaunchDisabled(this.currentOptions.app))},t.prototype.openPasswordLocker=function(){var t=this;this.appsService.isPasswordLockerApp(this.currentOptions.app.id).subscribe((function(e){e?t.slideoverService.myProfile.opened.next({id:3,tabPage:1,app:t.currentOptions.app}):(t.translationHelper.translateAndAddGrowl({severity:"warning",summary:"myProfile.passwords.cannotEditCredentials",detail:"myProfile.passwords.cannotEditCredentialsDetails"}),t.slideoverService.myProfile.opened.next({id:3,tabPage:0}))}))},t.prototype.openAppReport=function(){this.slideoverService.appReport.opened.next(this.currentOptions.app)},t.prototype.addFavorite=function(){this.favoritesHelper.favoriteAdded.next(this.currentOptions.app)},t.prototype.removeFavorite=function(){this.favoritesHelper.favoriteRemoved.next(this.currentOptions.app)},t.prototype.editCustomApp=function(){this.appsHelper.editCustomAppUpdated.next(this.currentOptions.app)},t.prototype.showMoreInfo=function(){this.appsHelper.appInfoVisible.next(this.currentOptions.app)},t.prototype.editFolder=function(){this.appsHelper.folderEdited.next(this.currentOptions.app),this.appsHelper.folderCreatorVisibleChanged.next(!0)},t.prototype.confirmDeleteApp=function(){var t=this,e=this.translocoService.translate("common.delete"),n=this.translocoService.translate("contextMenu.appDeleteConfirmation");this.appsHelper.deleteConfirmationRequired.next({summary:e+" "+this.currentOptions.app.name+"?",detail:n,handler:function(){return t.deleteApp()}})},t.prototype.deleteApp=function(){var t=this;this.nodeApi.deleteApp(this.currentOptions.app).subscribe((function(e){Object(u.a)(300).subscribe((function(){(t.permissions.availablePermissions.has(X.a.InHouseAppsEndpoint)?t.appsService.getMyApps():t.nodeApi.getMyApps()).subscribe((function(e){t.appsHelper.appsUpdated.next(e),t.translationHelper.translateAndAddGenericGrowl({severity:"success"},{subject:"common.app",verb:"common.deleted"})}))}))}))},t.prototype.confirmDeleteFolder=function(){var t=this,e=this.translocoService.translate("common.delete"),n=this.translocoService.translate("contextMenu.folderDeleteConfirmation");this.appsHelper.deleteConfirmationRequired.next({summary:e+" "+this.currentOptions.app.name+"?",detail:n,handler:function(){return t.removeFolder()}})},t.prototype.removeFolder=function(){var t=this;this.nodeApi.deleteFolder(this.currentOptions.app.id).subscribe((function(e){var n,i=U()(t.apps,(function(e){return e.id===t.currentOptions.app.id})),o=t.apps[i].apps;t.apps.splice(i,1),(n=t.apps).push.apply(n,o),t.nodeApi.orderApps(t.apps).subscribe((function(e){t.translationHelper.translateAndAddGenericGrowl({severity:"success"},{subject:"common.folder",verb:"common.deleted"}),(t.permissions.availablePermissions.has(X.a.InHouseAppsEndpoint)?t.appsService.getMyApps():t.nodeApi.getMyApps()).subscribe((function(e){t.appsHelper.appsUpdated.next(e)}))}))}))},t.prototype.removeFromFolder=function(){var t=this,e=U()(this.activeFolder.apps,(function(e){return e.id===t.currentOptions.app.id}));this.activeFolder.apps.splice(e,1),this.apps.push(this.currentOptions.app),this.nodeApi.removeFromFolder(this.currentOptions.app).subscribe((function(e){t.appsHelper.appsUpdated.next(t.apps),t.nodeApi.orderApps(t.apps).subscribe((function(t){}))}))},t.prototype.openAppLibrary=function(){this.slideoverService.appLibrary.opened.next(!0)},t.prototype.enableEditMode=function(){this.appsHelper.editModeChanged.next(!0)},t.prototype.openThemesTab=function(){this.slideoverService.myProfile.opened.next({id:2})},t.prototype.createFolder=function(){this.appsHelper.folderCreated.next(void 0),this.appsHelper.folderCreatorVisibleChanged.next(!0)},t.prototype.addToFolder=function(t){var e=this,n=function(t){return t.id===e.currentOptions.app.id},i=this.apps,o=U()(this.apps,n);-1===o&&(i=j()(this.apps,(function(t){return!!e.appsHelper.isFolder(t)&&j()(t.apps,n)})).apps,o=U()(i,n)),i.splice(o,1),t.apps.push(this.currentOptions.app),this.nodeApi.addAppToFolder(this.currentOptions.app,t.id).subscribe((function(t){e.translationHelper.translateAndAddGenericGrowl({severity:"success"},{subject:"common.app",verb:"growl.addedToFolder"}),e.nodeApi.orderApps(e.apps).subscribe((function(t){(e.permissions.availablePermissions.has(X.a.InHouseAppsEndpoint)?e.appsService.getMyApps():e.nodeApi.getMyApps()).subscribe((function(t){e.appsHelper.appsUpdated.next(t)}))}))}))},t.prototype.addTagToApp=function(t){var e,n,i=this,o=this.currentOptions.app.id;t.apps.includes(o)?(e=t.apps.filter((function(t){return t!==o})),n="removed"):(e=Object(R.e)(t.apps,[o]),n="added"),this.tagsService.updateTagAppsById(t.id,e).subscribe((function(t){i.tagsService.getTags().subscribe((function(t){return i.tagsHelper.tagsUpdated.next(t)})),i.translationHelper.translateAndAddGenericGrowl({severity:"success"},{subject:"common.tag",verb:"common."+n})}))},t.prototype.sortApps=function(t){var e=this,n=t?[function(t){return t.name.toLowerCase()}]:[function(t){return!(t.is_appfolder||t.is_folder)},function(t){return t.name.toLowerCase()}];this.apps=L()(this.apps,n);var i=[];this.apps=this.apps.map((function(t){return t.is_folder||t.is_appfolder?(t.apps=L()(t.apps,(function(t){return t.name.toLowerCase()})),i.push(e.nodeApi.orderApps(t.apps)),t):t})),i.push(this.nodeApi.orderApps(this.apps)),this.appsHelper.appsUpdated.next(this.apps),Object(E.a)(i).subscribe((function(t){}))},t.prototype.isAutoLaunchActive=function(){return this.currentOptions.app&&(this.currentOptions.app.user_auto_launch||this.currentOptions.app.admin_auto_launch)},t.prototype.isAutoLaunchDisabled=function(){return this.currentOptions.app&&this.currentOptions.app.admin_auto_launch},t.prototype.isOutsideAutoLaunchLimit=function(){return!this.generalSettings||this.amountAutoLaunch>=this.generalSettings.AutoLaunchLimit},t.prototype.isUpdatePasswordDisabled=function(){return this.currentOptions.app&&15!==this.currentOptions.app.type&&9!==this.currentOptions.app.type||!this.settings.tenantSettings.showPasswordLocker&&this.settings.userInfo.isImpersonated},t.prototype.isEditCustomAppDisabled=function(){return 3!==this.currentOptions.app.source},t.prototype.isReportAnIssueDisabled=function(){return!this.desktopSettings},t.prototype.isParentFolderLocked=function(){var t=this;return!!j()(this.appsHelper.getAllLockedFolders(this.apps),(function(e){return!!j()(e.apps,(function(e){return e.id===t.currentOptions.app.id}))}))},t.\u0275fac=function(e){return new(e||t)(c.Wb(l.a),c.Wb(I.a),c.Wb(p.a),c.Wb(J.a),c.Wb(z.a),c.Wb(tt),c.Wb(M.a),c.Wb(lt),c.Wb(A.a),c.Wb(ut.a),c.Wb(k.a),c.Wb(ct.f),c.Wb(dt),c.Wb($.a),c.Wb(X.b))},t.\u0275prov=c.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),gt=function(){function t(t){this.appRef=t,this.handlers=[],this.idCounter=1}return t.prototype.registerMenu=function(t){var e=this.idCounter++;return this.handlers.push({id:e,handler:t,destroyed:!1}),e},t.prototype.unregisterMenu=function(t){null!=t&&(this.handlers[t-1].destroyed=!0)},t.prototype.closeAllOtherMenus=function(t){for(var e=0,n=this.handlers;e<n.length;e++){var i=n[e];i.id===t||i.destroyed||i.handler()}this.appRef.tick()},t.prototype.closeAllMenus=function(){for(var t=0,e=this.handlers;t<e.length;t++){var n=e[t];n.destroyed||n.handler()}this.appRef.tick()},t.\u0275fac=function(e){return new(e||t)(c.Wb(c.g))},t.\u0275prov=c.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),ft=n("xgIS"),ht=n("mjEz"),mt=n("pLZG"),vt=n("Dqcb"),yt=function(){function t(t,e,n,i,o,r,a,s){var c=this;this.appsHelper=t,this.settingsHelper=e,this.nodeApi=n,this.layoutService=i,this.zone=o,this.sessionService=r,this.translationHelper=a,this.rendererFactory=s,this.targets=[],this.watchEvents=!1,this.scrollY={enabled:!1,interval:void 0,validEvent:!1,initialY:0,currentY:0,minScroll:0,maxScroll:0},this.scrollX={enabled:!1,timer:void 0},this.isDragging=!1,this.subscriptions=[],this.timerVal=250,document&&document.documentElement?(this.renderer=s.createRenderer(null,null),this.events={down:void 0,touchstart:void 0,move:void 0,touchmove:void 0,up:void 0,touchend:void 0,scroll:void 0},this.timerVal=this.supportsTouchEvents()?1e3:250,this.subscriptions[0]=r.settingsUpdated.subscribe((function(t){c.settings=t,t.customUISettings.theme===pt.a.Primary||c.events.down?t.customUISettings.theme===pt.a.Primary&&c.events.up&&c.unregisterListeners():c.registerListeners()}))):console.warn("Dragging not supported on this platform.")}return Object.defineProperty(t.prototype,"apps",{get:function(){return this.targets?this.targets.map((function(t){return t.app})):[]},enumerable:!1,configurable:!0}),t.prototype.ngOnDestroy=function(){Object(R.e)(Object.values(this.events),this.subscriptions,[this.scrollY.interval,this.scrollX.timer,this.folderTimer,this.dragInitTimer]).filter((function(t){return!!t&&!t.closed})).forEach((function(t){return t.unsubscribe()}))},t.prototype.setAppsContainer=function(t){this.containerElement=t},t.prototype.setDOMReferences=function(t){this.domAppReferences=t},t.prototype.setElements=function(t){this.targets=this.isElementRef(t)?t.map((function(t){return{element:t.element.nativeElement,app:t.app}})):t},t.prototype.supportsTouchEvents=function(){return"ontouchstart"in document.documentElement},t.prototype.registerListeners=function(){var t=this;this.events.down=Object(ft.a)(document,"mousedown",{passive:!1,capture:!1}).subscribe((function(e){return t.onStartTimer(e)})),this.events.touchstart=Object(ft.a)(document,"touchstart",{passive:!1,capture:!1}).subscribe((function(e){return t.onStartTimer(e)})),this.events.up=Object(ft.a)(document,"mouseup").subscribe((function(e){return t.onMouseUp(e)})),this.events.touchend=Object(ft.a)(document,"touchend").subscribe((function(e){return t.onMouseUp(e)}))},t.prototype.unregisterListeners=function(){var t=this;["down","touchstart","up","touchend"].forEach((function(e){t.events[e].unsubscribe(),t.events[e]=void 0}))},t.prototype.createMouseMoveListener=function(){var t=this;this.events.move=Object(ft.a)(document,"mousemove").subscribe((function(e){return t.zone.runOutsideAngular((function(){return t.onMouseMove(e)}))})),this.events.touchmove=Object(ft.a)(document,"touchmove").subscribe((function(e){return t.zone.runOutsideAngular((function(){return t.onMouseMove(e)}))})),this.scrollY.enabled&&this.containerElement&&(this.events.scroll=Object(ft.a)(this.containerElement,"scroll",{passive:!0}).pipe(Object(mt.a)((function(){return!0===t.scrollY.validEvent}))).subscribe((function(e){return t.zone.runOutsideAngular((function(){return t.onScroll()}))})))},t.prototype.destroyMouseMoveListener=function(){this.events.move.unsubscribe(),this.events.touchmove.unsubscribe(),this.events.scroll&&this.events.scroll.unsubscribe()},t.prototype.onAnyEvent=function(t){this.folderTimer&&this.folderTimer.unsubscribe(),t.stopPropagation(),"mousedown"!==t.type&&"touchstart"!==t.type&&"touchmove"!==t.type&&t.preventDefault()},t.prototype.resetAllContexts=function(){this.scrollY.interval&&this.scrollY.interval.unsubscribe(),this.scrollY={enabled:this.scrollY.enabled,interval:void 0,validEvent:!1,initialY:0,currentY:0,minScroll:0,maxScroll:this.containerElement.scrollHeight-this.containerElement.clientHeight},this.scrollX={enabled:this.scrollX.enabled,timer:void 0},this.moveContext={direction:void 0,prevCoordinates:void 0,originCoordinates:void 0,movedTargets:[],animatedTargets:[],timerWaited:!1,originalName:"",createdFolder:void 0},this.dragSource={index:-1,ele:void 0,clone:void 0,app:void 0},this.dragTarget={index:-1,ele:void 0,app:void 0}},t.prototype.onStartTimer=function(t){var e=this;ht.a.isInBoundingRect(this.CONTAINER_PROPS.rect,t)&&(this.dragInitTimer=Object(u.a)(this.timerVal).subscribe((function(){e.isDragging=!0,e.setWatch(),e.onMouseDown(t)})))},t.prototype.onMouseDown=function(t){var e=this;if(ht.a.isTouchEvent(t)||0===t.button&&this.watchEvents){var n=t.path?t.path:ht.a.createPath(t.target);if(j()(n,(function(t){return t===e.containerElement}))){this.onAnyEvent(t),this.resetAllContexts();var i=j()(n,(function(t){return t.classList&&t.classList.contains("cl-app")}));this.findSource(i),this.dragSource.app&&this.initializeDragElement(t)}}},t.prototype.findSource=function(t){if(t)for(var e=0;e<this.targets.length;e++){var n=this.targets[e];if(t===n.element){this.dragSource={index:e,ele:n.element,app:n.app,clone:void 0};break}}},t.prototype.initializeDragElement=function(t){var e=this;this.scrollY.initialY=this.scrollY.currentY=this.containerElement.scrollTop,this.moveContext.originCoordinates=ht.a.isTouchEvent(t)?{x:t.touches[0].clientX,y:t.touches[0].clientY}:{x:t.clientX,y:t.clientY},this.createMouseMoveListener();var n=this.dragSource.ele,i=this.convertIndexToCoordinates(this.dragSource.index),o=n.cloneNode(!0),r=this.containerElement.classList.contains("modal-main-content")?399:201;this.renderer.appendChild(document.body,o),this.renderer.setStyle(n,"transition","none"),this.renderer.setStyle(n,"opacity","0"),this.renderer.addClass(o,"hide-name"),this.renderer.addClass(o,"dragging"),this.renderer.setStyle(o,"position","fixed"),this.renderer.setStyle(o,"top",i.y-this.containerElement.scrollTop+"px"),this.renderer.setStyle(o,"left",i.x+"px"),this.renderer.setStyle(o,"transition","none"),this.renderer.setStyle(o,"transform","translate3d(0, 0, 0)"),this.renderer.setStyle(o,"z-index",r),this.targets.filter((function(t){return e.appsHelper.showFolderLock(t.app)})).map((function(t){return t.element})).forEach((function(t){return e.renderer.addClass(t,"show-locked")})),this.targets.forEach((function(t){return e.renderer.addClass(t.element,"no-select")})),this.dragSource.clone=o},t.prototype.onMouseMove=function(t){if((ht.a.isTouchEvent(t)||this.watchEvents)&&this.dragSource&&this.dragSource.ele){var e=this.getCoordinatesFromEvent(t),n=e.x,i=e.y;this.onAnyEvent(t),this.updateElementPosition(n,i),this.handleMouseMove(t)}},t.prototype.getDeltas=function(t,e){return{x:t-this.moveContext.originCoordinates.x,y:e+0-this.moveContext.originCoordinates.y}},t.prototype.updateElementPosition=function(t,e){this.moveContext.prevCoordinates={x:t,y:e};var n=this.getDeltas(t,e);this.renderer.setStyle(this.dragSource.clone,"transform","translate3d("+n.x+"px, "+n.y+"px, 0)")},t.prototype.handleMouseMove=function(t){var e=this;this.scrollY.interval&&this.scrollY.interval.unsubscribe(),this.scrollX.timer&&this.scrollX.timer.unsubscribe();var n=this.getCoordinatesFromEvent(t),i=n.x,o=n.y;if(this.isOutOfBounds(i,o))return this.scrollY.enabled&&o>this.CONTAINER_PROPS.rect.bottom?this.scrollY.interval=Object(u.a)(0,25).subscribe((function(){return e.scrollContainer(!0,i,o)})):this.scrollY.enabled&&o<this.CONTAINER_PROPS.rect.top&&(this.scrollY.interval=Object(u.a)(0,25).subscribe((function(){return e.scrollContainer(!1,i,o)}))),void(this.scrollX.enabled&&i>this.CONTAINER_PROPS.rect.right?this.scrollX.timer=Object(u.a)(50).subscribe((function(){return e.checkScrollX(!0,i)})):this.scrollX.enabled&&i<this.CONTAINER_PROPS.rect.left&&(this.scrollX.timer=Object(u.a)(50).subscribe((function(){return e.checkScrollX(!1,i)}))));this.scrollY.validEvent=!0;var r=this.getTargetIndex(i,o);if(!(r<0||r>this.targets.length-1)){var a=this.getPercentOffset(i),s=this.targets[r],c=a<=this.thresholds[0]?"left":a>=this.thresholds[1]?"right":"center";if(!s||this.dragSource.index===r)return this.resetCreatedFolder(),this.resetTargetsCSS(),void(this.dragTarget=void 0);(this.dragTarget&&this.dragTarget.index!==r||this.moveContext.direction!==c)&&(this.resetCreatedFolder(),this.resetTargetsCSS()),this.moveContext.direction=c,this.dragTarget={index:r,ele:s.element,app:s.app},a<=this.thresholds[0]?this.createMoveEffect(r,!0):a>=this.thresholds[1]?this.createMoveEffect(r,!1):this.folderTimer=Object(u.a)(350).subscribe((function(){return e.onMoveToFolder()}))}},t.prototype.onMouseUp=function(t){if(this.dragInitTimer&&this.dragInitTimer.unsubscribe(),(ht.a.isTouchEvent(t)||this.watchEvents)&&this.dragSource&&this.dragSource.ele)if(this.onAnyEvent(t),this.isDragging=!1,this.setWatch(),!this.dragSource.ele||this.dragTarget&&this.dragTarget.ele)if("center"===this.moveContext.direction&&this.moveContext.timerWaited)this.moveContext.createdFolder?this.createFolder():!this.appsHelper.isFolder(this.dragTarget.app)||this.appsHelper.isFolder(this.dragSource.app)||this.appsHelper.showFolderLock(this.dragTarget.app)?this.appsHelper.isFolder(this.dragTarget.app)&&!this.appsHelper.isFolder(this.dragSource.app)&&this.appsHelper.showFolderLock(this.dragTarget.app)?(this.translationHelper.translateAndAddGrowl({severity:"error",summary:"error.cantAddApp",detail:"error.cantAddAppDetail"}),this.cleanUpDrag()):this.cleanUpDrag():this.addToFolder();else{if("center"===this.moveContext.direction&&!this.moveContext.timerWaited)return void this.cleanUpDrag();this.handleReorder()}else this.cleanUpDrag()},t.prototype.onScroll=function(){this.scrollY.currentY=this.containerElement.scrollTop},t.prototype.scrollContainer=function(t,e,n){var i=t?this.scrollY.currentY+10:this.scrollY.currentY-10;t&&i>=this.scrollY.maxScroll?i=this.scrollY.maxScroll:!t&&i<=this.scrollY.minScroll&&(i=this.scrollY.minScroll),i!==this.scrollY.currentY&&(this.scrollY.validEvent=!1,this.containerElement.scrollTo(0,i),this.scrollY.currentY=i)},t.prototype.cleanUpDrag=function(t){void 0===t&&(t=!1),this.folderTimer&&this.folderTimer.unsubscribe(),this.scrollY.interval&&this.scrollY.interval.unsubscribe(),this.resetSourceEffects(),this.resetTargetsCSS(),this.resetLockedFolders(),this.resetCreatedFolder(t),this.destroyMouseMoveListener(),this.dragSource=void 0,this.dragTarget=void 0},t.prototype.getMovedItemAnimation=function(t,e){var n=this.convertIndexToCoordinates(e);return{x:t.x-n.x,y:t.y-n.y+this.containerElement.scrollTop}},t.prototype.convertIndexToCoordinates=function(t){var e=this.settingsHelper.getAmountAppsPerRow(this.CONTAINER_PROPS.totalWidth),n=Math.floor(t%e),i=this.getItemFullWidth(),o=this.CONTAINER_PROPS.rect.left+n*i,r=Math.floor(t/e),a=this.getItemFullHeight();return{x:o,y:this.CONTAINER_PROPS.rect.top+r*a}},t.prototype.setSlidingElements=function(t,e,n,i){var o=this;void 0===i&&(i=!1),this.moveContext.animatedTargets=this.targets.slice(t,e).map((function(e,r){return{element:e.element,effect:o.getInverseTranslation(t+r,n,i)}}))},t.prototype.getInverseTranslation=function(t,e,n){var i=e?t:t+1,o=e?t+1:t;i=n?i-1:i,o=n?o-1:o;var r=this.settingsHelper.getAmountAppsPerRow(this.CONTAINER_PROPS.totalWidth),a=Math.floor(i/r),s=i%r,c=Math.floor(o/r);return"translate3d("+(s-o%r)*(this.APP_PROPS.width+2*this.APP_PROPS.marginX)+"px, "+(a-c)*(this.APP_PROPS.height+2*this.APP_PROPS.marginY)+"px, 0)"},t.prototype.getItemFullHeight=function(){return this.APP_PROPS.height+2*this.APP_PROPS.marginY},t.prototype.getItemFullWidth=function(){return this.APP_PROPS.width+2*this.APP_PROPS.marginX},t.prototype.getColumn=function(t){var e=this.getItemFullWidth();return Math.floor((t-this.CONTAINER_PROPS.rect.left)/e)},t.prototype.getRow=function(t){var e=this.getItemFullHeight();return Math.floor((this.containerElement.scrollTop+t-this.CONTAINER_PROPS.rect.top)/e)},t.prototype.applySlideEffect=function(){var t=this;requestAnimationFrame((function(){for(var e=0,n=t.moveContext.animatedTargets;e<n.length;e++){var i=n[e];t.renderer.setStyle(i.element,"transform",i.effect),t.renderer.setStyle(i.element,"transition","transform 0s")}requestAnimationFrame((function(){for(var e=0,n=t.moveContext.animatedTargets;e<n.length;e++){var i=n[e];t.renderer.setStyle(i.element,"transform",""),t.renderer.setStyle(i.element,"transition","")}}))}))},t.prototype.resetSourceEffects=function(){var t=this;if(this.dragSource.ele){this.moveContext.returnAnimation||!0===this.moveContext.forceNoAnimation||(this.moveContext.returnAnimation="translate3d(0, "+(this.scrollY.initialY-this.scrollY.currentY)+"px, 0)");var e=this.dragSource.clone;this.renderer.removeClass(e,"hide-name"),this.renderer.removeClass(e,"dragging"),this.applySourceMoveAnim(e);var n=this.dragSource.clone,i=this.dragSource.ele;Object(u.a)(350).subscribe((function(){t.renderer.removeChild(document.body,n),t.renderer.setStyle(i,"opacity",""),Object(u.a)(10).subscribe((function(){return t.renderer.setStyle(i,"transition","")}))}))}},t.prototype.applySourceMoveAnim=function(t){var e=this;requestAnimationFrame((function(){e.renderer.setStyle(t,"transition",""),e.renderer.setStyle(t,"transform",e.moveContext.returnAnimation)}))},t.prototype.resetTargetsCSS=function(){for(var t=0,e=this.moveContext.movedTargets;t<e.length;t++){var n=e[t];this.renderer.removeClass(n.element,"move-left"),this.renderer.removeClass(n.element,"move-right")}for(var i=0,o=this.moveContext.animatedTargets;i<o.length;i++)this.renderer.setStyle(o[i].element,"transition","");this.moveContext.movedTargets=[]},t.prototype.resetLockedFolders=function(){var t=this;this.targets.filter((function(e){return t.appsHelper.showFolderLock(e.app)})).map((function(t){return t.element})).forEach((function(e){return t.renderer.removeClass(e,"show-locked")})),this.targets.forEach((function(e){return t.renderer.removeClass(e.element,"no-select")}))},t.prototype.resetCreatedFolder=function(t){if(void 0===t&&(t=!1),this.dragSource.clone&&this.renderer.removeClass(this.dragSource.clone,"shrink"),this.moveContext.createdFolder){if(!t){var e=this.moveContext.createdFolder;e.is_folder=!1,e.apps=void 0,e.name=this.moveContext.originalName}this.moveContext.createdFolder=void 0,this.moveContext.originalName=void 0,this.moveContext.timerWaited=!1}},t.prototype.createMoveEffect=function(t,e){var n=this.targets[e?t-1:t],i=this.targets[e?t:t+1],o=this.moveContext.movedTargets.map((function(t){return t.app.id}));n&&n.element&&!o.includes(n.app.id)&&(this.renderer.addClass(n.element,"move-left"),this.moveContext.movedTargets.push(n)),i&&i.element&&!o.includes(i.app.id)&&(this.renderer.addClass(i.element,"move-right"),this.moveContext.movedTargets.push(i))},t.prototype.onMoveToFolder=function(){var t=this;this.moveContext.timerWaited=!0,"center"!==this.moveContext.direction||this.appsHelper.isFolder(this.dragSource.app)||this.appsHelper.showFolderLock(this.dragTarget.app)||(this.appsHelper.isFolder(this.dragTarget.app)||(this.moveContext.createdFolder=this.dragTarget.app,this.moveContext.originalName=this.dragTarget.app.name,this.dragTarget.app.apps=[this.dragTarget.app],this.dragTarget.app.name=this.getNewFolderName(),this.zone.run((function(){t.dragTarget.app.is_folder=!0}))),this.renderer.addClass(this.dragSource.clone,"shrink"))},t.prototype.handleReorder=function(){var t=this.dragSource.index,e=this.dragTarget.index;this.targets.splice(t,1),this.domAppReferences.splice(t,1);var n,i=t>e;i?(n="left"===this.moveContext.direction?this.dragTarget.index:this.dragTarget.index+1,this.setSlidingElements(this.dragTarget.index,this.dragSource.index,i)):this.setSlidingElements(this.dragSource.index,n="left"===this.moveContext.direction?this.dragTarget.index-1:this.dragTarget.index,i),this.targets.splice(n,0,{element:this.dragSource.ele,app:this.dragSource.app}),this.domAppReferences.splice(n,0,this.dragSource.app);var o=this.dragSource.clone.getBoundingClientRect(),r=this.getDeltas(this.moveContext.prevCoordinates.x,this.moveContext.prevCoordinates.y),a=this.getMovedItemAnimation({x:o.left,y:o.top},n);this.moveContext.returnAnimation="translate3d("+(r.x-a.x)+"px, "+(r.y-a.y)+"px, 0)",this.applySlideEffect(),this.reorderApi(t,n),this.cleanUpDrag()},t.prototype.getNewFolderName=function(){for(var t,e="New Folder",n=2;void 0===t;)j()(this.apps,(function(t){return t.name===e}))?e=e.includes("(")?e.replace(/(New Folder \()(\d*)(\))/g,"$1"+n+++"$3"):"New Folder (1)":t=e;return t},t.prototype.isElementRef=function(t){return t[0]&&t[0].element instanceof c.l},t.prototype.getCoordinatesFromEvent=function(t){return ht.a.isTouchEvent(t)?{x:t.touches[0].clientX,y:t.touches[0].clientY}:{x:t.clientX,y:t.clientY}},t.prototype.getContainerRef=function(){return this.containerElement},t.\u0275fac=function(e){return new(e||t)(c.Wb(p.a),c.Wb(M.a),c.Wb(l.a),c.Wb(vt.z),c.Wb(c.z),c.Wb(A.a),c.Wb(J.a),c.Wb(c.F))},t.\u0275prov=c.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),Ct=function(t){function e(e,n,i,o,r,a,s,c,l,p,u){var d=t.call(this,e,n,i,o,r,a,s,c)||this;return d.appsService=p,d.permissionsService=u,d.appFilter="",d.isEditMode=!1,d.scrollY.enabled=!0,d.scrollX.enabled=!1,d.CONTAINER_PROPS={rect:{top:0,left:0,bottom:0,right:0},totalWidth:window.innerWidth-60},d.APP_PROPS={width:143,height:165,marginY:5,marginX:5},d.thresholds=[30,70],d.subscriptions[1]=e.editModeChanged.subscribe((function(t){d.isEditMode=t,d.setBoundaries(),d.setWatch()})),d.subscriptions[2]=e.filterUpdate.subscribe((function(t){d.appFilter=t,d.setWatch()})),d.subscriptions[3]=e.appsUpdated.subscribe((function(t){return d.allApps=t})),d.subscriptions[4]=a.settingsUpdated.subscribe((function(t){d.setAppProperties(),d.setBoundaries()})),d.subscriptions[5]=o.windowResized.subscribe((function(){d.setBoundaries()})),d.subscriptions[6]=n.sidenavCollapseChanged.subscribe((function(){d.setAppProperties(),d.setBoundaries()})),d.subscriptions[7]=l.tagFilterUpdated.subscribe((function(t){d.tagFilter=t,d.setWatch()})),d.subscriptions[8]=u.permissionsSub.subscribe((function(t){return d.permissions=t})),d}return Object(R.c)(e,t),e.prototype.ngOnDestroy=function(){this.subscriptions.forEach((function(t){return t.unsubscribe()}))},e.prototype.setWatch=function(){this.watchEvents=this.isDragging&&!this.tagFilter&&""===this.appFilter.trim()},e.prototype.checkScrollX=function(){},e.prototype.setElements=function(e){t.prototype.setElements.call(this,e),this.setBoundaries()},e.prototype.setBoundaries=function(){if(this.containerElement){var t=this.settingsHelper.getSidenavWidth(),e=this.settingsHelper.getScrollBarWidth();this.CONTAINER_PROPS.totalWidth=window.innerWidth-50-e-t,this.CONTAINER_PROPS.rect.top=this.settings.customUISettings.theme===pt.a.Professional?81:this.isEditMode?100:50,this.CONTAINER_PROPS.rect.left=t+25,this.CONTAINER_PROPS.rect.right=window.innerWidth-25-e,this.CONTAINER_PROPS.rect.bottom=window.innerHeight-this.settingsHelper.getFavoritesBarDeadSpace(),this.APP_PROPS.marginX=this.settingsHelper.getCurrentMarginSpace(this.CONTAINER_PROPS.totalWidth)}},e.prototype.setAppProperties=function(){this.APP_PROPS.width=this.settingsHelper.getCurrentAppWidth(),this.APP_PROPS.height=this.settingsHelper.getCurrentAppHeight(),this.APP_PROPS.marginX=this.settingsHelper.getCurrentMarginSpace(window.innerWidth-50-this.settingsHelper.getScrollBarWidth()),this.APP_PROPS.marginY=5},e.prototype.createFolder=function(){var t=this,e=this.domAppReferences[this.dragTarget.index];e.name=this.dragTarget.app.name,e.apps=[this.dragSource.app,this.dragTarget.app],e.is_folder=!0,this.domAppReferences.splice(this.dragSource.index,1),this.moveContext.forceNoAnimation=!0,this.renderer.setStyle(this.dragSource.clone,"opacity",0),this.setSlidingElements(this.dragSource.index,this.targets.length,!1,!0),this.applySlideEffect(),this.nodeApi.createFolder(this.dragTarget.app.name,this.dragTarget.app.apps).subscribe((function(n){e.apps=[t.dragSource.app,t.dragTarget.app],e.name=n.name,e.id=n.id,e.is_folder=!0,t.reorderApi(),t.cleanUpDrag(!0)}),(function(){t.cleanUpDrag()}))},e.prototype.addToFolder=function(){var t=this;this.domAppReferences[this.dragTarget.index].apps.push(this.dragSource.app),this.domAppReferences.splice(this.dragSource.index,1),this.moveContext.forceNoAnimation=!0,this.renderer.setStyle(this.dragSource.clone,"opacity",0),this.setSlidingElements(this.dragSource.index,this.targets.length,!1,!0),this.applySlideEffect(),this.nodeApi.addAppToFolder(this.dragSource.app,this.dragTarget.app.id).subscribe((function(){t.reorderApi(),t.cleanUpDrag()}),(function(){t.cleanUpDrag()}))},e.prototype.reorderApi=function(){var t=this;this.nodeApi.orderApps(this.apps).subscribe((function(){(t.permissions.availablePermissions.has(X.a.InHouseAppsEndpoint)?t.appsService.getMyApps():t.nodeApi.getMyApps()).subscribe((function(e){t.appsHelper.appsUpdated.next(e)}))}),(function(){t.cleanUpDrag()}))},e.prototype.getTargetIndex=function(t,e){if(!this.containerElement)return console.warn("No container found for drag-and-drop"),-1;var n=this.getColumn(t);return this.getRow(e)*this.settingsHelper.getAmountAppsPerRow(this.CONTAINER_PROPS.totalWidth)+n},e.prototype.getPercentOffset=function(t){var e=this.getItemFullWidth(),n=this.getColumn(t);return(t-this.CONTAINER_PROPS.rect.left-e*n)/e*100},e.prototype.isOutOfBounds=function(t,e){return t<this.CONTAINER_PROPS.rect.left||e<this.CONTAINER_PROPS.rect.top||t>this.CONTAINER_PROPS.rect.right||e>this.CONTAINER_PROPS.rect.bottom},e.\u0275fac=function(t){return new(t||e)(c.Wb(p.a),c.Wb(M.a),c.Wb(l.a),c.Wb(vt.z),c.Wb(c.z),c.Wb(A.a),c.Wb(J.a),c.Wb(c.F),c.Wb(k.a),c.Wb($.a),c.Wb(X.b))},e.\u0275prov=c.Ib({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(yt),wt=n("R0Ic"),xt=function(t){function e(e,n,i,o,r,a,s,c,l,p){var u=t.call(this,e,n,i,o,r,a,s,c)||this;return u.appsService=l,u.permissionsService=p,u.isEditMode=!1,u.scrollY.enabled=!0,u.scrollX.enabled=!1,u.CONTAINER_PROPS={rect:{top:0,left:0,bottom:0,right:0},totalWidth:.9*window.innerWidth-40},u.APP_PROPS={width:143,height:165,marginY:5,marginX:5},u.thresholds=[50,50],u.subscriptions[1]=a.settingsUpdated.subscribe((function(t){u.setAppProperties()})),u.subscriptions[2]=o.windowResized.subscribe((function(){u.setBoundaries()})),u.subscriptions[3]=e.editModeChanged.subscribe((function(t){u.isEditMode=t,u.setBoundaries()})),u.subscriptions[4]=p.permissionsSub.subscribe((function(t){return u.permissions=t})),u}return Object(R.c)(e,t),e.prototype.ngOnDestroy=function(){this.subscriptions.forEach((function(t){return t.unsubscribe()}))},e.prototype.setElements=function(e){t.prototype.setElements.call(this,e),this.setBoundaries()},e.prototype.setAppProperties=function(){this.APP_PROPS.width=this.settingsHelper.getCurrentAppWidth(),this.APP_PROPS.height=this.settingsHelper.getCurrentAppHeight(),this.APP_PROPS.marginX=this.settingsHelper.getCurrentMarginSpace(.9*window.innerWidth-40-this.settingsHelper.getScrollBarWidth()),this.APP_PROPS.marginY=5},e.prototype.setBoundaries=function(){this.containerElement&&(this.CONTAINER_PROPS.totalWidth=.9*window.innerWidth-40-this.settingsHelper.getScrollBarWidth(),this.CONTAINER_PROPS.rect.top=.05*(window.innerHeight-110)+50+100+(this.isEditMode?50:0),this.CONTAINER_PROPS.rect.left=.05*window.innerWidth+20,this.CONTAINER_PROPS.rect.right=.95*window.innerWidth-20,this.CONTAINER_PROPS.rect.bottom=.95*(window.innerHeight-110)-60-20,this.APP_PROPS.marginX=this.settingsHelper.getCurrentMarginSpace(this.CONTAINER_PROPS.totalWidth))},e.prototype.checkScrollX=function(){},e.prototype.createFolder=function(){},e.prototype.addToFolder=function(){},e.prototype.setWatch=function(){this.watchEvents=this.isDragging},e.prototype.reorderApi=function(){var t=this;this.nodeApi.orderApps(this.apps).subscribe((function(e){(t.permissions.availablePermissions.has(X.a.InHouseAppsEndpoint)?t.appsService.getMyApps():t.nodeApi.getMyApps()).subscribe((function(e){t.appsHelper.appsUpdated.next(e)}))}))},e.prototype.getTargetIndex=function(t,e){if(!this.containerElement)return console.warn("No container found for drag-and-drop"),-1;var n=this.getColumn(t);return this.getRow(e)*this.settingsHelper.getAmountAppsPerRow(this.CONTAINER_PROPS.totalWidth)+n},e.prototype.getPercentOffset=function(t){var e=this.getItemFullWidth(),n=this.getColumn(t);return(t-this.CONTAINER_PROPS.rect.left-e*n)/e*100},e.prototype.isOutOfBounds=function(t,e){return t<this.CONTAINER_PROPS.rect.left||e<this.CONTAINER_PROPS.rect.top||t>this.CONTAINER_PROPS.rect.right||e>this.CONTAINER_PROPS.rect.bottom},e.\u0275fac=function(t){return new(t||e)(c.Wb(p.a),c.Wb(M.a),c.Wb(l.a),c.Wb(vt.z),c.Wb(c.z),c.Wb(A.a),c.Wb(J.a),c.Wb(c.F),c.Wb($.a),c.Wb(X.b))},e.\u0275prov=c.Ib({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(yt),Pt=n("bNQv"),St=n.n(Pt),Ot=n("K44+"),Mt=n("a9jo"),At=n.n(Mt),kt=n("9Fgp");function _t(t,e){1&t&&(c.Sb(0,"span",9),c.bc(),c.Sb(1,"svg",10),c.Nb(2,"path",11),c.Rb(),c.Rb())}function Rt(t,e){if(1&t&&(c.Sb(0,"div",12),c.Nb(1,"img",13),c.Rb()),2&t){var n=c.cc().$implicit,i=c.cc();c.Ab(1),c.ic("src","/assets/icons/star.svg",c.xc)("alt",n("favoritedAlt"))("id",i.app.id+"_favorited")}}function It(t,e){if(1&t){var n=c.Tb();c.Sb(0,"button",20),c.Zb("keydown.Enter",(function(t){return c.vc(n),t.stopPropagation()}))("click",(function(t){c.vc(n);var e=c.cc(3);return t.stopPropagation(),e.confirmDeleteApp()})),c.Nb(1,"i",21),c.Rb()}}function Tt(t,e){if(1&t&&(c.Sb(0,"span",22),c.bc(),c.Sb(1,"svg",23),c.Nb(2,"path",24),c.Rb(),c.Rb()),2&t){var n=c.cc(2).$implicit,i=c.cc();c.Ab(1),c.ic("id",i.app.id+"_autolaunch"),c.Bb("aria-label",n("autoLaunchLabel"))}}function Et(t,e){if(1&t&&(c.Sb(0,"span",25),c.bc(),c.Sb(1,"svg",26),c.Nb(2,"path",27),c.Rb(),c.Rb()),2&t){var n=c.cc(2).$implicit,i=c.cc();c.Ab(1),c.ic("id",i.app.id+"_locked"),c.Bb("aria-label",n("lockedLabel"))}}function Ft(t,e){if(1&t&&(c.Sb(0,"span",28),c.bc(),c.Sb(1,"svg",23),c.Nb(2,"path",29),c.Rb(),c.Rb()),2&t){var n=c.cc(2).$implicit,i=c.cc();c.Ab(1),c.ic("id",i.app.id+"_twofactor"),c.Bb("aria-label",n("twoFactorLabel"))}}function Dt(t,e){if(1&t&&(c.Sb(0,"span",30),c.bc(),c.Sb(1,"svg",23),c.Nb(2,"path",31),c.Rb(),c.Rb()),2&t){var n=c.cc(2).$implicit,i=c.cc();c.Ab(1),c.ic("id",i.app.id+"_disablelaunch"),c.Bb("aria-label",n("disableLaunchLabel"))}}function Nt(t,e){if(1&t&&(c.Sb(0,"div",14),c.Cc(1,It,2,0,"button",15),c.Cc(2,Tt,3,2,"span",16),c.Cc(3,Et,3,2,"span",17),c.Cc(4,Ft,3,2,"span",18),c.Cc(5,Dt,3,2,"span",19),c.Rb()),2&t){var n=c.cc(2);c.Ab(1),c.ic("ngIf",n.appsHelper.isEditMode()&&n.appsHelper.canDeleteApp(n.app)),c.Ab(1),c.ic("ngIf",n.appsHelper.showAutoLaunch(n.app)),c.Ab(1),c.ic("ngIf",n.appsHelper.showLock(n.app)),c.Ab(1),c.ic("ngIf",n.appsHelper.showTwoFactor(n.app)),c.Ab(1),c.ic("ngIf",n.formPostAppHelper.showLaunchDisabled(n.app))}}function Lt(t,e){if(1&t){var n=c.Tb();c.Sb(0,"button",32),c.Zb("keydown.space",(function(t){c.vc(n);var e=c.cc(2);return t.stopPropagation(),e.openContextMenu(t)}))("keydown.enter",(function(t){c.vc(n);var e=c.cc(2);return t.stopPropagation(),e.openContextMenu(t)}))("click",(function(t){return c.vc(n),c.cc(2).openContextMenu(t)})),c.Rb()}if(2&t){var i=c.cc(2);c.Bb("aria-expanded",i.contextmenuOpen&&i.menuOpen)}}function Ht(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",33),c.Zb("dragstart",(function(t){return c.vc(n),c.cc(2).onDragStart(t)})),c.Sb(1,"p"),c.Ec(2),c.dc(3,"title"),c.Rb(),c.Rb()}if(2&t){var i=c.cc(2);c.Ab(2),c.Fc(c.fc(3,1,i.app.name,25))}}function Ut(t,e){if(1&t){var n=c.Tb();c.Qb(0),c.Sb(1,"div",1),c.Zb("dragstart",(function(t){return c.vc(n),c.cc().onDragStart(t)})),c.Sb(2,"div",2),c.Cc(3,_t,3,0,"span",3),c.Sb(4,"img",4),c.Zb("error",(function(t){return c.vc(n),c.cc().handleImage(t)})),c.Rb(),c.Rb(),c.Cc(5,Rt,2,3,"div",5),c.Cc(6,Nt,6,5,"div",6),c.Cc(7,Lt,1,1,"button",7),c.Rb(),c.Cc(8,Ht,4,4,"div",8),c.Pb()}if(2&t){var i=c.cc();c.Ab(3),c.ic("ngIf",i.appsHelper.showKey(i.app)),c.Ab(1),c.ic("src",i.useHighRes?i.app.icon2x:i.app.icon,c.xc),c.Ab(1),c.ic("ngIf",i.favoritesHelper.isFavorite(i.app)),c.Ab(1),c.ic("ngIf",i.showFlags&&i.appsHelper.shouldShowFlags(i.app)),c.Ab(1),c.ic("ngIf",i.showButton),c.Ab(1),c.ic("ngIf",i.showName)}}var Bt=function(){function t(t,e,n,i,o,r,a,s){var l=this;this.appsHelper=t,this.favoritesHelper=e,this.formPostAppHelper=n,this.translationHelper=i,this.nodeApi=o,this.sessionService=r,this.appsService=a,this.permissionsService=s,this.showFlags=!0,this.showName=!0,this.showButton=!1,this.contextmenu=new c.n,this.contextmenuOpen=!1,this.useHighRes=!1,this.entered=!1,this.subscriptions=[],this.subscriptions[0]=r.settingsUpdated.subscribe((function(t){l.settings=t,l.useHighRes=t.customUISettings.theme===pt.a.Primary||t.customUISettings.iconSize===Ot.a.Large})),this.subscriptions[1]=s.permissionsSub.subscribe((function(t){return l.permissions=t}))}return t.prototype.ngOnDestroy=function(){this.subscriptions.forEach((function(t){return t.unsubscribe()}))},t.prototype.onMouseEnter=function(){this.entered=!0},t.prototype.onMouseLeave=function(){this.entered=!1},t.prototype.getAmountFlags=function(){var t=[this.appsHelper.showAutoLaunch(this.app),this.appsHelper.showLock(this.app),this.appsHelper.showTwoFactor(this.app),this.appsHelper.canDeleteApp(this.app)&&this.appsHelper.isEditMode(),this.formPostAppHelper.showLaunchDisabled(this.app)];return At()(t,(function(t){return!0===t?1:0}))},t.prototype.confirmDeleteApp=function(){var t=this;this.appsHelper.deleteConfirmationRequired.next({summary:"Delete "+this.app.name+"?",detail:"This app will no longer display in your LaunchPad. Apps may be re-added from the App Library.",handler:function(){return t.deleteApp()}})},t.prototype.deleteApp=function(){var t=this;this.nodeApi.deleteApp(this.app).subscribe((function(e){t.translationHelper.translateAndAddGenericGrowl({severity:"success"},{subject:"common.app",verb:"common.deleted"}),(t.permissions.availablePermissions.has(X.a.InHouseAppsEndpoint)?t.appsService.getMyApps():t.nodeApi.getMyApps()).subscribe((function(e){t.appsHelper.appsUpdated.next(e)}))}))},t.prototype.onDragStart=function(t){t.preventDefault(),t.stopPropagation()},t.prototype.openContextMenu=function(t){this.contextmenuOpen=!0,this.contextmenu.emit(t)},t.prototype.handleImage=function(t){t.target.src=K.a.coreCDN+"/assets/images/default-app-icon.png"},t.\u0275fac=function(e){return new(e||t)(c.Mb(p.a),c.Mb(I.a),c.Mb(dt),c.Mb(J.a),c.Mb(l.a),c.Mb(A.a),c.Mb($.a),c.Mb(X.b))},t.\u0275cmp=c.Gb({type:t,selectors:[["application"]],hostBindings:function(t,e){1&t&&c.Zb("mouseenter",(function(){return e.onMouseEnter()}))("mouseleave",(function(){return e.onMouseLeave()}))},inputs:{app:"app",showFlags:"showFlags",showName:"showName",menuOpen:"menuOpen",showButton:"showButton"},outputs:{contextmenu:"contextmenu"},decls:1,vars:1,consts:[[4,"transloco","translocoRead"],[1,"cl-clip-img-ctnr",3,"dragstart"],[1,"img-border"],["class","key",4,"ngIf"],["alt","","draggable","true",3,"src","error"],["class","favorited",4,"ngIf"],["class","flags",4,"ngIf"],["class","hidden-btn","aria-label","open app context menu","aria-haspopup","menu",3,"keydown.space","keydown.enter","click",4,"ngIf"],["class","name",3,"dragstart",4,"ngIf"],[1,"key"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 512 512"],["d","M512 176.001C512 273.203 433.202 352 336 352c-11.22 0-22.19-1.062-32.827-3.069l-24.012 27.014A23.999 23.999 0 0 1 261.223 384H224v40c0 13.255-10.745 24-24 24h-40v40c0 13.255-10.745 24-24 24H24c-13.255 0-24-10.745-24-24v-78.059c0-6.365 2.529-12.47 7.029-16.971l161.802-161.802C163.108 213.814 160 195.271 160 176 160 78.798 238.797.001 335.999 0 433.488-.001 512 78.511 512 176.001zM336 128c0 26.51 21.49 48 48 48s48-21.49 48-48-21.49-48-48-48-48 21.49-48 48z"],[1,"favorited"],[3,"src","alt","id"],[1,"flags"],["tabindex","0","class","close color-danger",3,"keydown.Enter","click",4,"ngIf"],["class","auto-launch",4,"ngIf"],["class","locked",4,"ngIf"],["class","two-factor",4,"ngIf"],["class","launch-disabled",4,"ngIf"],["tabindex","0",1,"close","color-danger",3,"keydown.Enter","click"],[1,"far","fa-times"],[1,"auto-launch"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 512 512","role","img",3,"id"],["d","M505.05 19.1a15.89 15.89 0 0 0-12.2-12.2C460.65 0 435.46 0 410.36 0c-103.2 0-165.1 55.2-211.29 128H94.87A48 48 0 0 0 52 154.49l-49.42 98.8A24 24 0 0 0 24.07 288h103.77l-22.47 22.47a32 32 0 0 0 0 45.25l50.9 50.91a32 32 0 0 0 45.26 0L224 384.16V488a24 24 0 0 0 34.7 21.49l98.7-49.39a47.91 47.91 0 0 0 26.5-42.9V312.79c72.59-46.3 128-108.4 128-211.09.1-25.2.1-50.4-6.85-82.6zM384 168a40 40 0 1 1 40-40 40 40 0 0 1-40 40z"],[1,"locked"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 448 512","role","img",3,"id"],["d","M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zm-104 0H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z"],[1,"two-factor"],["d","M466.5 83.7l-192-80a48.15 48.15 0 0 0-36.9 0l-192 80C27.7 91.1 16 108.6 16 128c0 198.5 114.5 335.7 221.5 380.3 11.8 4.9 25.1 4.9 36.9 0C360.1 472.6 496 349.3 496 128c0-19.4-11.7-36.9-29.5-44.3zm-47.2 114.2l-184 184c-6.2 6.2-16.4 6.2-22.6 0l-104-104c-6.2-6.2-6.2-16.4 0-22.6l22.6-22.6c6.2-6.2 16.4-6.2 22.6 0l70.1 70.1 150.1-150.1c6.2-6.2 16.4-6.2 22.6 0l22.6 22.6c6.3 6.3 6.3 16.4 0 22.6z"],[1,"launch-disabled"],["d","M256 8C119.033 8 8 119.033 8 256s111.033 248 248 248 248-111.033 248-248S392.967 8 256 8zm141.421 106.579c73.176 73.175 77.05 187.301 15.964 264.865L132.556 98.615c77.588-61.105 191.709-57.193 264.865 15.964zM114.579 397.421c-73.176-73.175-77.05-187.301-15.964-264.865l280.829 280.829c-77.588 61.105-191.709 57.193-264.865-15.964z"],["aria-label","open app context menu","aria-haspopup","menu",1,"hidden-btn",3,"keydown.space","keydown.enter","click"],[1,"name",3,"dragstart"]],template:function(t,e){1&t&&c.Cc(0,Ut,9,6,"ng-container",0),2&t&&c.ic("translocoRead","apps")},directives:[ct.c,i.k],pipes:[kt.a],styles:["[_nghost-%COMP%]:not(.cl-app)   .key[_ngcontent-%COMP%]{position:absolute;top:9px;right:-27px;background-color:hsla(0,0%,100%,.7);-ms-transform:rotate(45deg);transform:rotate(45deg);z-index:4;width:71px;height:18px;display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center;-ms-flex-align:end;align-items:flex-end;opacity:.9}[_nghost-%COMP%]:not(.cl-app)   .key[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:12px;fill:var(--color-primary);-ms-transform:translate(-8px,-2px) rotate(-135deg);transform:translate(-8px,-2px) rotate(-135deg);font-size:12px;margin-right:0}.hidden-btn[_ngcontent-%COMP%]{position:absolute;top:95%;left:90%}"]}),t}(),jt=["modal"],zt=["title"],Vt=["closeButton"],Gt=["dragContainer"],$t=["draggable"];function Zt(t,e){if(1&t){var n=c.Tb();c.Sb(0,"h3",15,16),c.Zb("click",(function(){return c.vc(n),c.cc(2).toggleNameEdit()}))("keydown.Enter",(function(){return c.vc(n),c.cc(2).toggleNameEdit()}))("keydown.space",(function(){return c.vc(n),c.cc(2).toggleNameEdit()})),c.Ec(2),c.Rb()}if(2&t){var i=c.cc(2);c.Eb("unclickable",!i.canEdit)("focusable",i.canEdit),c.ic("tabindex",i.canEdit?0:-1),c.Bb("aria-label",i.canEdit?"Click to Edit Name":"")("role",i.canEdit?"button":"none"),c.Ab(2),c.Fc(null==i.activeFolder?null:i.activeFolder.name)}}var Wt=function(t){return{autofocus:"",tabindex:t}};function qt(t,e){if(1&t){var n=c.Tb();c.Sb(0,"cl-input",17),c.Zb("valueChange",(function(t){return c.vc(n),c.cc(2).activeFolder.name=t}))("keydown.Enter",(function(){return c.vc(n),c.cc(2).editFolder()})),c.Rb()}if(2&t){var i=c.cc().$implicit,o=c.cc();c.ic("attributes",c.lc(4,Wt,o.canEdit?0:-1))("charLimit",255)("label",i("createFolder.label"))("value",o.activeFolder.name)}}function Yt(t,e){if(1&t){var n=c.Tb();c.Qb(0),c.Sb(1,"div",18),c.Sb(2,"div",19),c.Zb("mouseenter",(function(){c.vc(n);var t=e.index;return c.cc(2).tooltipDisplay(t)}))("mouseleave",(function(){return c.vc(n),c.cc(2).tooltipDisplay(-1)})),c.Sb(3,"application",20,21),c.Zb("contextmenu",(function(t){c.vc(n);var i=e.$implicit;return c.cc(2).openContextMenu(i,t)}))("click",(function(){c.vc(n);var t=e.$implicit;return c.cc(2).launchApp(t)}))("keydown.Enter",(function(){c.vc(n);var t=e.$implicit;return c.cc(2).launchApp(t)})),c.Rb(),c.Rb(),c.Rb(),c.Pb()}if(2&t){var i=e.$implicit,o=e.index,r=c.cc(2),a=c.sc(2);c.Ab(2),c.ic("clTooltip",r.appsHelper.shouldShowTooltip(i)?a:void 0)("clTooltipAllowReposition",!1)("clTooltipBodyAppend",!0)("clTooltipContext",i)("clTooltipDisplay",o===r.longNameTooltip)("clTooltipPersist",!0),c.Ab(1),c.ic("app",i)("showButton",!0)}}var Kt=function(t){return{color:t}};function Qt(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",2,3),c.Sb(2,"button",4,5),c.Zb("click",(function(){return c.vc(n),c.cc().onVisibleChange(!1)}))("keydown.Enter",(function(){return c.vc(n),c.cc().onVisibleChange(!1)}))("keydown.Space",(function(){return c.vc(n),c.cc().onVisibleChange(!1)}))("keyup.Space",(function(t){return c.vc(n),c.cc().stopEvent(t)})),c.Nb(4,"i",6),c.Rb(),c.Sb(5,"div",7),c.Sb(6,"button",8),c.Zb("clColorPickerChange",(function(t){return c.vc(n),c.cc().pickerColor=t}))("clColorPickerChange",(function(t){return c.vc(n),c.cc().updateColor(t)})),c.Nb(7,"i",9),c.Rb(),c.Cc(8,Zt,3,8,"h3",10),c.Cc(9,qt,1,6,"cl-input",11),c.Rb(),c.Sb(10,"div",12,13),c.Cc(12,Yt,5,8,"ng-container",14),c.Rb(),c.Rb()}if(2&t){var i=e.$implicit,o=c.cc();c.ic("@openClose",o.visible?"open":"closed")("clFocusTrap",o.visible),c.Ab(2),c.ic("tabindex",o.visible?0:-1),c.Bb("aria-hidden",!o.visible||null)("role",o.visible?null:"none"),c.Ab(4),c.Eb("unclickable",!o.canEdit),c.ic("clColorPicker",o.pickerColor)("cpSaveClickOutside",!1)("cpOKButton",!0)("cpOKButtonClass","button button-secondary")("cpCancelButton",!0)("cpCancelButtonClass","button button-default")("cpDisabled",!o.canEdit)("cpPosition","bottom")("ngStyle",c.lc(23,Kt,o.pickerColor))("tabindex",o.canEdit&&o.visible?0:-1)("disabled",!o.canEdit),c.Bb("aria-label",i("createFolder.picker")),c.Ab(2),c.ic("ngIf",!o.showNameEdit),c.Ab(1),c.ic("ngIf",o.showNameEdit),c.Ab(3),c.ic("ngForOf",null==o.activeFolder?null:o.activeFolder.apps)("ngForTrackBy",o.appsHelper.appTrackByFn)}}function Jt(t,e){if(1&t&&(c.Sb(0,"div",22),c.Sb(1,"p"),c.Ec(2),c.Rb(),c.Rb()),2&t){var n=e.$implicit;c.Ab(2),c.Fc(n.name)}}var Xt=function(){function t(t,e,n,i,o,r,a,s,c,l,p){var d=this;this.settingsHelper=t,this.cdr=e,this.appsHelper=n,this.menuHelper=i,this.contextMenuHelper=o,this.eleRef=r,this.nodeApi=a,this.dragHelper=s,this.formPostAppHelper=p,this.openCloseAnim="closed",this.visible=!1,this.isEditMode=!1,this.canEdit=!1,this.originalName="",this.pickerColor="#000000",this.showNameEdit=!1,this.longNameTooltip=-1,this.subscriptions=[],this.subscriptions[0]=c.settingsUpdated.subscribe((function(t){d.settings=t,d.determineAppMargins()})),this.subscriptions[1]=n.editModeChanged.subscribe((function(t){return d.isEditMode=t})),this.subscriptions[2]=n.activeFolderChanged.subscribe((function(t){!d.dragHelper.getContainerRef()&&d.dragContainer&&d.dragHelper.setAppsContainer(d.dragContainer.nativeElement),d.activeFolder=t,d.originalName=d.activeFolder?d.activeFolder.name:"",d.pickerColor=d.activeFolder?d.activeFolder.color:"#000000",d.canEdit=!!d.activeFolder&&!d.appsHelper.showFolderLock(d.activeFolder),d.activeFolder&&(Object(u.a)(0).subscribe((function(){return d.closeButton.nativeElement.focus()})),d.setDraggables())})),this.subscriptions[3]=n.folderViewVisibleChanged.subscribe((function(t){return d.onVisibleChange(t)})),this.subscriptions[4]=l.windowResized.subscribe((function(t){return d.determineAppMargins()}))}return t.prototype.ngAfterViewInit=function(){var t=this;this.determineAppMargins(),this.dragContainer&&this.dragHelper.setAppsContainer(this.dragContainer.nativeElement),this.subscriptions[7]=this.draggables.changes.subscribe((function(e){t.activeFolder&&t.updateDragHelper(e.toArray(),t.activeFolder.apps)})),this.setDraggables()},t.prototype.ngOnDestroy=function(){this.subscriptions.forEach((function(t){return t.unsubscribe()}))},t.prototype.setMouseDownListener=function(){var t=this;this.visible?(this.subscriptions[5]=Object(ft.a)(document,"mousedown",{passive:!0}).subscribe((function(e){return t.onMouseDown(e)})),this.subscriptions[6]=Object(ft.a)(document,"mouseup",{passive:!0}).subscribe((function(e){return t.onMouseUp(e)}))):(this.subscriptions[5].unsubscribe(),this.subscriptions[6].unsubscribe())},t.prototype.checkAndSaveChanges=function(){this.originalName===this.activeFolder.name&&this.pickerColor===this.activeFolder.color||this.editFolder()},t.prototype.launchApp=function(t){this.appsHelper.launchApp(t,null,this.formPostAppHelper.showLaunchDisabled(t))},t.prototype.setDraggables=function(){this.activeFolder&&this.updateDragHelper(this.draggables.toArray(),this.activeFolder.apps)},t.prototype.onEscape=function(){this.onVisibleChange(!1)},t.prototype.onMouseDown=function(t){var e=this,n=t.path?t.path:ht.a.createPath(t.target);this.mouseDownInFolder=!!j()(n,(function(t){return t===e.modalRef.nativeElement}))},t.prototype.onMouseUp=function(t){var e=this,n=t.path?t.path:ht.a.createPath(t.target);this.mouseDownInFolder||j()(n,(function(t){var n=t.tagName?t.tagName.toLowerCase():void 0;return t===e.modalRef.nativeElement||"app-context-menu"===n||"cl-slideover"===n||"div"===n&&(t.classList.contains("cl-modal-ctnr")||t.classList.contains("cl-ui-mask"))}))||this.onVisibleChange(!1)},t.prototype.noAppContextOpen=function(t){this.openContextMenu(void 0,t)},t.prototype.openContextMenu=function(t,e){var n,i;if(e.preventDefault(),e.stopPropagation(),this.menuHelper.closeAllMenus(),"contextmenu"===e.type)i=e.clientY,n=e.clientX;else{var o=this.getPos(e);i=o.offsetTop,n=o.offsetLeft}this.contextMenuHelper.changeMenuOptions.next({visible:!0,coordinates:{"top.px":i,"left.px":n},location:_.Folder,app:t})},t.prototype.getPos=function(t){for(var e=0,n=0,i=t.target;i;)e+=i.offsetLeft,n+=i.offsetTop,i=i.offsetParent;return{offsetTop:n,offsetLeft:e}},t.prototype.onVisibleChange=function(t){t!==this.visible&&(this.visible=t,this.setMouseDownListener(),t?this.forceVisible():(this.checkAndSaveChanges(),this.closeModal()))},t.prototype.toggleNameEdit=function(){this.canEdit&&(this.showNameEdit=!this.showNameEdit)},t.prototype.editFolder=function(t){var e=this;void 0===t&&(t=!0),t&&(this.showNameEdit=!1),""===this.activeFolder.name.trim()&&(this.activeFolder.name=this.originalName),"#"===this.pickerColor[0]&&7===this.pickerColor.length&&(this.activeFolder.color=this.pickerColor),this.originalName===this.activeFolder.name&&this.pickerColor===this.activeFolder.color||this.nodeApi.editFolder(this.activeFolder.id,this.activeFolder.name,this.activeFolder.color).subscribe((function(t){}),(function(t){"already_exist"===t.error.response&&(e.activeFolder.name=e.originalName)}))},t.prototype.forceVisible=function(){this.visible=!0,this.openCloseAnim="open"},t.prototype.closeModal=function(){this.visible=!1,this.showNameEdit=!1,this.openCloseAnim="closed",this.appsHelper.activeFolderChanged.next(void 0),this.appsHelper.folderViewVisibleChanged.next(!1)},t.prototype.determineAppMargins=function(){if(this.modalRef){var t=.9*window.innerWidth-40-this.settingsHelper.getScrollBarWidth();this.settingsHelper.updateAppMarginRule(".app-folder-margin",t),this.cdr.detectChanges()}},t.prototype.updateDragHelper=function(t,e){var n=t.map((function(t,n){return{element:t.nativeElement,app:e[n]}}));this.dragHelper.setElements(n),this.dragHelper.setDOMReferences(e)},t.prototype.tooltipDisplay=function(t){this.longNameTooltip=t;var e=document.getElementsByClassName("folder-tooltip");St()(e,(function(t){t.remove()}))},t.prototype.updateColor=function(t){var e=this;this.nodeApi.editFolder(this.activeFolder.id,this.activeFolder.name,t).subscribe((function(t){}),(function(t){"already_exist"===t.error.response&&(e.activeFolder.name=e.originalName)}))},t.prototype.stopEvent=function(t){t.preventDefault(),t.stopPropagation()},t.prototype.nav=function(t){if(t.stopPropagation(),t.preventDefault(),this.draggables.length){var e=this.draggables.toArray();ht.a.keyboardJump(e,t,!0)}},t.\u0275fac=function(e){return new(e||t)(c.Mb(M.a),c.Mb(c.h),c.Mb(p.a),c.Mb(gt),c.Mb(bt),c.Mb(c.l),c.Mb(l.a),c.Mb(xt),c.Mb(A.a),c.Mb(vt.z),c.Mb(dt))},t.\u0275cmp=c.Gb({type:t,selectors:[["app-folder-view"]],viewQuery:function(t,e){var n;1&t&&(c.Jc(jt,!0),c.Jc(zt,!0),c.Jc(Vt,!0),c.Jc(Gt,!0),c.Jc(vt.w,!0),c.Jc($t,!0,c.l)),2&t&&(c.rc(n=c.ac())&&(e.modalRef=n.first),c.rc(n=c.ac())&&(e.title=n.first),c.rc(n=c.ac())&&(e.closeButton=n.first),c.rc(n=c.ac())&&(e.dragContainer=n.first),c.rc(n=c.ac())&&(e.input=n.first),c.rc(n=c.ac())&&(e.draggables=n))},hostVars:1,hostBindings:function(t,e){1&t&&c.Zb("keydown.escape",(function(){return e.onEscape()}),!1,c.tc)("contextmenu",(function(t){return e.noAppContextOpen(t)}))("keydown.ArrowUp",(function(t){return e.nav(t)}))("keydown.ArrowDown",(function(t){return e.nav(t)}))("keydown.ArrowLeft",(function(t){return e.nav(t)}))("keydown.ArrowRight",(function(t){return e.nav(t)})),2&t&&c.Bc("@hostEnter",e.openCloseAnim)},decls:3,vars:0,consts:[["class","my-apps-modal",3,"clFocusTrap",4,"transloco"],["tooltipRef",""],[1,"my-apps-modal",3,"clFocusTrap"],["modal",""],["aria-label","Close Folder","clItem","",1,"close","flex-center",3,"tabindex","click","keydown.Enter","keydown.Space","keyup.Space"],["closeButton",""],[1,"far","fa-times"],[1,"modal-header"],[3,"clColorPicker","cpSaveClickOutside","cpOKButton","cpOKButtonClass","cpCancelButton","cpCancelButtonClass","cpDisabled","cpPosition","ngStyle","tabindex","disabled","clColorPickerChange"],[1,"fas","fa-folder"],[3,"unclickable","focusable","tabindex","click","keydown.Enter","keydown.space",4,"ngIf"],[3,"attributes","charLimit","label","value","valueChange","keydown.Enter",4,"ngIf"],[1,"modal-main-content","custom-scroll"],["dragContainer",""],[4,"ngFor","ngForOf","ngForTrackBy"],[3,"tabindex","click","keydown.Enter","keydown.space"],["title",""],[3,"attributes","charLimit","label","value","valueChange","keydown.Enter"],[1,"folder-app"],[3,"clTooltip","clTooltipAllowReposition","clTooltipBodyAppend","clTooltipContext","clTooltipDisplay","clTooltipPersist","mouseenter","mouseleave"],["role","link","tabindex","0",1,"cl-app","app-folder-margin",3,"app","showButton","contextmenu","click","keydown.Enter"],["draggable",""],[1,"cl-tooltip","folder-tooltip"]],template:function(t,e){1&t&&(c.Cc(0,Qt,13,25,"div",0),c.Cc(1,Jt,3,1,"ng-template",null,1,c.Dc))},directives:[ct.c,vt.s,vt.C,vt.g,i.l,i.k,i.j,vt.w,vt.P,Bt],styles:["[_nghost-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center;position:absolute;top:0;left:0;width:100%;height:100%;z-index:300}.my-apps-modal[_ngcontent-%COMP%]{width:90%;height:90%;background-color:hsla(0,0%,100%,.5);z-index:401;position:relative}.my-apps-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{width:100%!important;padding-right:10px}.my-apps-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{white-space:nowrap}.custom-scroll[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#999!important;border-radius:0!important}.focusable[_ngcontent-%COMP%]{cursor:pointer}.focusable[_ngcontent-%COMP%]:after{border-color:var(--color-primary);width:100%;height:100%;left:0;top:0}.unclickable[_ngcontent-%COMP%]{cursor:auto}button[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{margin-right:0}cl-input[_ngcontent-%COMP%]{height:40px;width:100%}cl-input[_ngcontent-%COMP%], h3[_ngcontent-%COMP%]{margin-left:10px}h3[_ngcontent-%COMP%]{padding:10px;cursor:pointer}"],data:{animation:[Object(wt.j)("hostEnter",[Object(wt.g)("closed",Object(wt.h)({opacity:0,"pointer-events":"none"})),Object(wt.g)("open",Object(wt.h)({opacity:1,"pointer-events":"all"})),Object(wt.i)("open => closed",[Object(wt.e)("0.2s ease-in-out",Object(wt.h)({opacity:0}))])]),Object(wt.j)("openClose",[Object(wt.g)("closed",Object(wt.h)({transform:"scale(0.1, 0.1)"})),Object(wt.g)("open",Object(wt.h)({transform:"scale(1, 1)"})),Object(wt.i)("closed => open",[Object(wt.h)({transform:"scale(0.1, 0.1)"}),Object(wt.e)("0.2s ease-in-out",Object(wt.h)({transform:"scale(1, 1)"}))]),Object(wt.i)("open => closed",[Object(wt.e)("0.2s 0.2s ease-in-out",Object(wt.h)({transform:"scale(0.1, 0.1)"}))])])]}}),t}(),te=n("jhN1"),ee=function(){function t(){}return t.prototype.transform=function(t,e){void 0===e&&(e=!0);var n=(e?Math.floor(Number(t)):Number(t)).toString(),i=n.length%3;return n.slice(0,0===i?3:i)+this.getSuffix(n.length)},t.prototype.getSuffix=function(t){switch(t){case 1:case 2:case 3:return"";case 4:case 5:case 6:return"K";case 7:case 8:case 9:return"M";case 10:case 11:case 12:return"B";case 13:case 14:case 15:return"T";default:return""}},t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=c.Lb({name:"numberFormat",type:t,pure:!0}),t}();function ne(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",14),c.Sb(1,"img",15),c.Zb("error",(function(t){return c.vc(n),c.cc(3).handleImage(t)})),c.Rb(),c.Rb()}if(2&t){var i=e.$implicit;c.Ab(1),c.ic("src",i.icon,c.xc)}}function ie(t,e){if(1&t&&(c.Sb(0,"div",16),c.Sb(1,"p"),c.Ec(2),c.dc(3,"numberFormat"),c.Rb(),c.Rb()),2&t){var n=c.cc(3);c.Ab(2),c.Fc(c.ec(3,1,n.folder.apps.length))}}function oe(t,e){if(1&t&&(c.Qb(0),c.Cc(1,ne,2,1,"div",12),c.Cc(2,ie,4,3,"div",13),c.Pb()),2&t){var n=c.cc(2);c.Ab(1),c.ic("ngForOf",n.folder.apps.slice(0,3)),c.Ab(1),c.ic("ngIf",n.folder.apps.length>3)}}function re(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",17),c.Zb("dragstart",(function(t){return c.vc(n),c.cc(2).onDragStart(t)})),c.Sb(1,"span",18),c.bc(),c.Sb(2,"svg",19),c.Nb(3,"path",20),c.Rb(),c.Rb(),c.Rb()}if(2&t){var i=c.cc(2);c.Ab(2),c.ic("id",i.folder.id+"_locked")}}function ae(t,e){1&t&&(c.Sb(0,"div",21),c.Nb(1,"i",22),c.Rb())}function se(t,e){if(1&t&&(c.bc(),c.Sb(0,"svg",23),c.Nb(1,"path",24),c.Nb(2,"path",25),c.Rb()),2&t){var n=c.cc(2);c.Ab(1),c.Bb("fill",n.folder.shadedColor),c.Ab(1),c.Bb("stroke",n.folder.color)}}var ce=function(t){return{"background-color":t}};function le(t,e){if(1&t){var n=c.Tb();c.Qb(0),c.Sb(1,"div",1),c.Zb("dragstart",(function(t){return c.vc(n),c.cc().onDragStart(t)})),c.Sb(2,"div",2),c.Cc(3,oe,3,2,"ng-container",3),c.Rb(),c.Rb(),c.Sb(4,"button",4),c.Zb("keydown.space",(function(t){c.vc(n);var e=c.cc();return t.stopPropagation(),e.openContextMenu(t)}))("keydown.enter",(function(t){c.vc(n);var e=c.cc();return t.stopPropagation(),e.openContextMenu(t)}))("click",(function(t){return c.vc(n),c.cc().openContextMenu(t)})),c.Rb(),c.Sb(5,"div",5),c.Zb("dragstart",(function(t){return c.vc(n),c.cc().onDragStart(t)})),c.Sb(6,"p",6,7),c.Ec(8),c.dc(9,"title"),c.Rb(),c.Rb(),c.Cc(10,re,4,1,"div",8),c.Cc(11,ae,2,0,"div",9),c.Sb(12,"div",10),c.Zb("dragstart",(function(t){return c.vc(n),c.cc().onDragStart(t)})),c.Rb(),c.Cc(13,se,3,2,"svg",11),c.Pb()}if(2&t){var i=c.sc(7),o=c.cc();c.Ab(1),c.Bb("aria-labelledby",i),c.Ab(1),c.ic("ngStyle",o.isPrimaryTheme?void 0:c.lc(10,ce,o.folder.color)),c.Ab(1),c.ic("ngIf",o.folder.apps.length>0),c.Ab(5),c.Fc(c.fc(9,7,o.folder.name,25)),c.Ab(2),c.ic("ngIf",o.appsHelper.showFolderLock(o.folder)),c.Ab(1),c.ic("ngIf",o.appsHelper.showFolderLock(o.folder)),c.Ab(2),c.ic("ngIf",o.isPrimaryTheme)}}var pe=function(){function t(t,e,n){var i=this;this.appsHelper=t,this.sessionService=e,this.san=n,this.contextmenu=new c.n,this.contextmenuOpen=!1,this.isPrimaryTheme=!1,this.subscriptions=[],this.subscriptions[0]=e.settingsUpdated.subscribe((function(t){return i.isPrimaryTheme=t.customUISettings.theme===pt.a.Primary}))}return t.prototype.ngOnDestroy=function(){this.subscriptions.forEach((function(t){return t.unsubscribe()}))},t.prototype.onDragStart=function(t){t.preventDefault()},t.prototype.sanitizeColor=function(t){return this.san.bypassSecurityTrustStyle(t)},t.prototype.openContextMenu=function(t){this.contextmenuOpen=!0,this.contextmenu.emit(t)},t.prototype.handleImage=function(t){t.target.src=K.a.coreCDN+"/assets/images/default-app-icon.png"},t.\u0275fac=function(e){return new(e||t)(c.Mb(p.a),c.Mb(A.a),c.Mb(te.b))},t.\u0275cmp=c.Gb({type:t,selectors:[["folder"]],inputs:{folder:"folder"},outputs:{contextmenu:"contextmenu"},decls:1,vars:1,consts:[[4,"transloco","translocoRead"],[1,"folder-border",3,"dragstart"],[1,"cl-clip-img-ctnr",3,"ngStyle"],[4,"ngIf"],["aria-label","open app context menu","aria-haspopup","menu",1,"hidden-btn",3,"keydown.space","keydown.enter","click"],[1,"name",3,"dragstart"],["id","folderLabel"],["folderLabel",""],["class","flags",3,"dragstart",4,"ngIf"],["class","locked-folder",4,"ngIf"],[1,"box-shadow",3,"dragstart"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 210 210",4,"ngIf"],["class","img-border",4,"ngFor","ngForOf"],["class","add flex-center",4,"ngIf"],[1,"img-border"],["alt","","role","presentation",3,"src","error"],[1,"add","flex-center"],[1,"flags",3,"dragstart"],[1,"locked"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 448 512","role","img",3,"id"],["d","M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zm-104 0H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z"],[1,"locked-folder"],[1,"fas","fa-lock"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 210 210"],["d","M2,13.45c0,72.4,0,183.11,0,183.11C2,203.42,7,208,14.41,208H195.59C203,208,208,203.41,208,196.54h0V29.47C208,22.6,203,18,195.58,18H121.14L102.52,2H14.42C7,2,2,6.59,2,13.45Z"],["d","M195.58,18H121.14L102.52,2H14.42C7,2,2,6.59,2,13.45c0,72.4,0,183.11,0,183.11C2,203.42,7,208,14.42,208H195.59C203,208,208,203.4,208,196.54M195.58,18h0m0,0C203,18,208,22.6,208,29.47V196.56","stroke-width","4","fill","transparent"]],template:function(t,e){1&t&&c.Cc(0,le,14,12,"ng-container",0),2&t&&c.ic("translocoRead","apps")},directives:[ct.c,i.l,i.k,i.j],pipes:[kt.a,ee],styles:[".hidden-btn[_ngcontent-%COMP%]{position:absolute;top:62%;left:71%}"]}),t}(),ue=["draggable"],de=function(){return{top:30}};function be(t,e){if(1&t){var n=c.Tb();c.Qb(0),c.Sb(1,"application",4,5),c.Zb("click",(function(){c.vc(n);var t=c.cc().$implicit;return c.cc().attemptOpen(t)}))("keydown.Enter",(function(){c.vc(n);var t=c.cc().$implicit;return c.cc().attemptOpen(t)}))("contextmenu",(function(t){c.vc(n);var e=c.cc().$implicit;return c.cc().openContextMenu(e,t)})),c.Rb(),c.Pb()}if(2&t){var i=c.cc().$implicit,o=c.cc(),r=c.sc(3);c.Ab(1),c.Eb("fade-out",o.activeFolder||o.removedAppsIds.includes(i.id)),c.ic("app",i)("clTooltip",o.appsHelper.shouldShowTooltip(i)?r:void 0)("clTooltipContext",i)("clTooltipPositionOffset",c.kc(10,de))("menuOpen",o.contextMenuOpen)("showButton",!0),c.Bb("aria-label",i.name)("aria-describedby",i.id+"_favorited "+i.id+"_autolaunch "+i.id+"_locked "+i.id+"_twofactor")}}var ge=function(){return{top:20}};function fe(t,e){if(1&t){var n=c.Tb();c.Sb(0,"folder",6,5),c.Zb("click",(function(){c.vc(n);var t=c.cc().$implicit;return c.cc().attemptOpen(t)}))("keydown.Enter",(function(){c.vc(n);var t=c.cc().$implicit;return c.cc().attemptOpen(t)}))("keydown.Space",(function(t){c.vc(n);var e=c.cc().$implicit;return c.cc().attemptOpen(e,t)}))("contextmenu",(function(t){c.vc(n);var e=c.cc().$implicit;return c.cc().openContextMenu(e,t)})),c.Rb()}if(2&t){var i=c.cc().$implicit,o=c.cc(),r=c.sc(3);c.Eb("fade-out",o.activeFolder||o.removedAppsIds.includes(i.id)),c.ic("id",i._id)("folder",i)("clTooltip",o.appsHelper.shouldShowTooltip(i)?r:void 0)("clTooltipContext",i)("clTooltipPositionOffset",c.kc(9,ge)),c.Bb("aria-label",i.name)("aria-describedby",i.id+"_locked")}}function he(t,e){if(1&t&&(c.Qb(0),c.Cc(1,be,3,11,"ng-container",2),c.Cc(2,fe,2,10,"ng-template",null,3,c.Dc),c.Pb()),2&t){var n=e.$implicit,i=c.sc(3),o=c.cc();c.Ab(1),c.ic("ngIf",!o.appsHelper.isFolder(n))("ngIfElse",i)}}function me(t,e){if(1&t&&(c.Sb(0,"div",7),c.Sb(1,"p"),c.Ec(2),c.Rb(),c.Rb()),2&t){var n=e.$implicit;c.Ab(2),c.Fc(n.name)}}var ve=function(){function t(t,e,n,i,o,r,a,s,c,l,p){var u=this;this.nodeApi=t,this.layoutService=e,this.eleRef=n,this.tagsHelper=i,this.settingsHelper=o,this.sessionService=r,this.menuHelper=a,this.contextMenuHelper=s,this.dragHelper=c,this.appsHelper=l,this.formPostAppHelper=p,this.isEditMode=!1,this.removedAppsIds=[],this.contextMenuOpen=!1,this.containerPadding=25,this.subscriptions=[],this.subscriptions[0]=l.filterUpdate.pipe(v(200)).subscribe((function(t){return u.onFilterUpdate(t,u.tagFilter)})),this.subscriptions[1]=l.editModeChanged.subscribe((function(t){return u.setEditMode(t)})),this.subscriptions[2]=r.settingsUpdated.subscribe((function(t){return u.onWindowResize()})),this.subscriptions[3]=l.appsUpdated.subscribe((function(t){if(u.apps=u.displayedApps=t,u.draggables&&u.updateDragHelper(u.draggables.toArray(),u.apps),u.activeFolder){var e=j()(u.apps,(function(t){return t.id===u.activeFolder.id}));u.appsHelper.activeFolderChanged.next(e)}})),this.subscriptions[4]=e.windowResized.subscribe((function(t){return u.onWindowResize()})),this.subscriptions[5]=o.sidenavCollapseChanged.subscribe((function(){return u.onWindowResize()})),this.subscriptions[6]=i.tagFilterUpdated.subscribe((function(t){return u.onFilterUpdate(u.appFilter,t)})),this.subscriptions[7]=s.changeMenuOptions.subscribe((function(t){return u.contextMenuOpen=t.visible})),this.subscriptions[8]=l.activeFolderChanged.subscribe((function(t){if(u.activeFolder&&!t){var e=u.draggables.toArray();j()(e,(function(t){return t.nativeElement.id===u.activeFolder._id})).nativeElement.focus()}u.activeFolder=t,u.activeFolder&&(u.eleRef.nativeElement.scrollTop=0)})),this.dragHelper.setAppsContainer(this.eleRef.nativeElement)}return t.prototype.ngAfterViewInit=function(){var t=this;this.updateDragHelper(this.draggables.toArray(),this.apps),this.subscriptions[8]=this.draggables.changes.subscribe((function(e){t.updateDragHelper(e.toArray(),t.apps)}))},t.prototype.ngOnDestroy=function(){this.subscriptions.forEach((function(t){return t.unsubscribe()})),this.dragTimer&&this.dragTimer.unsubscribe()},t.prototype.updateDragHelper=function(t,e){var n=t.map((function(t,n){return{element:t.nativeElement,app:e[n]}}));this.dragHelper.setElements(n),this.dragHelper.setDOMReferences(e)},t.prototype.attemptOpen=function(t,e){e&&(e.preventDefault(),e.stopPropagation()),this.contextMenuOpen||(this.appsHelper.isFolder(t)?this.openFolder(t):this.appsHelper.launchApp(t,null,this.formPostAppHelper.showLaunchDisabled(t)))},t.prototype.openFolder=function(t){this.appsHelper.folderViewVisibleChanged.next(!0),this.appsHelper.activeFolderChanged.next(t)},t.prototype.noAppContextOpen=function(t){this.openContextMenu(void 0,t)},t.prototype.openContextMenu=function(t,e){var n,i;if(e.preventDefault(),e.stopPropagation(),"contextmenu"===e.type)i=e.clientY,n=e.clientX;else{var o=this.getPos(e);i=o.offsetTop,n=o.offsetLeft}this.menuHelper.closeAllMenus(),this.contextMenuHelper.changeMenuOptions.next({visible:!0,coordinates:{"top.px":i,"left.px":n},location:_.App,app:t})},t.prototype.getPos=function(t){for(var e=0,n=0,i=t.srcElement;i;)e+=i.offsetLeft,n+=i.offsetTop,i=i.offsetParent;return{offsetTop:n,offsetLeft:e}},t.prototype.setEditMode=function(t){var e=this;Object(u.a)(200).subscribe((function(){return e.isEditMode=t}))},t.prototype.onWindowResize=function(){if(this.eleRef){var t=this.settingsHelper.getSidenavWidth(),e=this.settingsHelper.getScrollBarWidth(),n=window.innerWidth-e-t-2*this.containerPadding;this.settingsHelper.updateAppMarginRule(".app-margin",n)}},t.prototype.prepareStr=function(t){return t.toLowerCase().trim()},t.prototype.onFilterUpdate=function(t,e){var n=this;this.appFilter=t,this.tagFilter=e;var i=this.apps;if(this.appFilter){var o=this.prepareStr(this.appFilter),r=function(t){return n.prepareStr(t).includes(o)};(i=P()(this.apps,(function(t){return!!(r(t.name)||t.appdesc&&r(t.appdesc))||!!n.appsHelper.isFolder(t)&&(t.apps.map((function(t){return r(t.name)})).includes(!0)||t.apps.map((function(t){return r(t.appdesc)})).includes(!0))}))).sort((function(t){return r(t.name)?-1:1}))}if(this.tagFilter){var a=function(t){return n.tagFilter.apps.includes(t)};i=P()(i,(function(t){return!!a(t.id)||!!n.appsHelper.isFolder(t)&&t.apps.map((function(t){return a(t.id)})).includes(!0)}))}this.removedAppsIds=O()(this.displayedApps,i,"id").map((function(t){return t.id})),Object(u.a)(355).subscribe((function(){n.displayedApps=i,n.removedAppsIds=[]}))},t.prototype.nav=function(t){if(t.stopPropagation(),t.preventDefault(),this.draggables.length){var e=this.draggables.toArray();ht.a.keyboardJump(e,t,!0)}},t.\u0275fac=function(e){return new(e||t)(c.Mb(l.a),c.Mb(vt.z),c.Mb(c.l),c.Mb(k.a),c.Mb(M.a),c.Mb(A.a),c.Mb(gt),c.Mb(bt),c.Mb(Ct),c.Mb(p.a),c.Mb(dt))},t.\u0275cmp=c.Gb({type:t,selectors:[["app-apps-container"]],viewQuery:function(t,e){var n;1&t&&c.Jc(ue,!0,c.l),2&t&&c.rc(n=c.ac())&&(e.draggables=n)},hostBindings:function(t,e){1&t&&c.Zb("contextmenu",(function(t){return e.noAppContextOpen(t)}))("keydown.ArrowUp",(function(t){return e.nav(t)}))("keydown.ArrowDown",(function(t){return e.nav(t)}))("keydown.ArrowLeft",(function(t){return e.nav(t)}))("keydown.ArrowRight",(function(t){return e.nav(t)}))},decls:4,vars:2,consts:[[4,"ngFor","ngForOf","ngForTrackBy"],["tooltipRef",""],[4,"ngIf","ngIfElse"],["folder",""],["tabindex","0","role","link",1,"cl-app","app-margin",3,"app","clTooltip","clTooltipContext","clTooltipPositionOffset","menuOpen","showButton","click","keydown.Enter","contextmenu"],["draggable",""],["tabindex","0",1,"cl-app","cl-folder","app-margin",3,"id","folder","clTooltip","clTooltipContext","clTooltipPositionOffset","click","keydown.Enter","keydown.Space","contextmenu"],[1,"cl-tooltip"]],template:function(t,e){1&t&&(c.Nb(0,"app-folder-view"),c.Cc(1,he,4,2,"ng-container",0),c.Cc(2,me,3,1,"ng-template",null,1,c.Dc)),2&t&&(c.Ab(1),c.ic("ngForOf",e.displayedApps)("ngForTrackBy",e.appsHelper.appTrackByFn))},directives:[Xt,i.j,i.k,Bt,vt.P,pe],styles:["[_nghost-%COMP%]{position:relative;display:-ms-flexbox;display:flex;-ms-flex-flow:row wrap;flex-flow:row wrap;-ms-flex-pack:start;justify-content:flex-start;-ms-flex-align:start;align-items:flex-start;-ms-flex-line-pack:start;align-content:flex-start;width:100%;-ms-flex:0 0 calc(100% - 110px);flex:0 0 calc(100% - 110px);height:calc(100% - 110px);transition:transform .2s ease-in-out;padding:0 25px 25px;overflow-x:hidden;overflow-y:auto}[_nghost-%COMP%]::-webkit-scrollbar-thumb{background-color:rgba(51,51,51,.4)!important;border-radius:2px!important}.expand[_nghost-%COMP%]{height:calc(100% - 160px);-ms-flex:0 0 calc(100% - 160px);flex:0 0 calc(100% - 160px);-ms-transform:translateY(50px);transform:translateY(50px)}"]}),t}(),ye=n("itXk"),Ce=n("SxV6"),we=function(t){function e(e){return t.call(this,e)||this}return Object(R.c)(e,t),e.prototype.isUsingTms=function(t){return this.generateRequest("get",this.generateRequestUrl("/login/v2p1/useTMS",{buildingId:t},K.a.tmsUrl),(function(t){return t.body}))},e.prototype.isUsingTmsBAD=function(){return this.generateRequest("get",this.generateRequestUrl("/login/v2p1/useTMS",{},K.a.tmsUrl),(function(t){return t.body}))},e.prototype.getMFARequired=function(){return this.generateRequest("get",this.generateRequestUrl("/myApps/v1p0/requiredMFA",{},K.a.tmsUrl),(function(t){return!!t.body.RequiredTwofactor&&t.body.RequiredTwofactor}))},e.prototype.getStoredMfa=function(t){return this.generateRequest("get",this.generateRequestUrl("/myInfo/v3p1/MFA",{mfaType:t},K.a.tmsUrl),this.basicBodyMapFunction)},e.prototype.getMfaOptions=function(){return this.generateRequest("get",this.generateRequestUrl("/myInfo/v3p1/MFA/types",{},K.a.tmsUrl),this.basicBodyMapFunction)},e.prototype.configureMfaMethod=function(t,e,n,i){return this.generateRequest("post",this.generateRequestUrl("/myInfo/v3p1/MFA",{},K.a.tmsUrl),this.basicBodyMapFunction,{mfaType:t,response:e,verifyResponse:n,oldResponse:i})},e.prototype.resetMfaMethod=function(t){return this.generateRequest("delete",this.generateRequestUrl("/myInfo/v3p1/MFA",{},K.a.tmsUrl),this.basicBodyMapFunction,{mfaType:t})},e.prototype.resetPassword=function(t,e,n){return this.generateRequest("post",this.generateRequestUrl("/myInfo/v3p1/resetPassword",void 0,K.a.tmsUrl),this.basicBodyMapFunction,{oldPassword:t,newPassword:e,isEmailUser:n})},e.prototype.switchProfile=function(t){return this.generateRequest("get",this.generateRequestUrl("/myInfo/v3p1/switchProfile",{profileId:t},K.a.tmsUrl),this.basicBodyMapFunction)},e.prototype.endImpersonation=function(){return this.generateRequest("post",this.generateRequestUrl("/myInfo/v3p1/endImpersonation",void 0,K.a.tmsUrl),this.basicBodyMapFunction)},e.prototype.verifyNetwork=function(){return this.generateRequest("get",this.generateRequestUrl("/myInfo/v3p1/adfsPasswordVerify",void 0,K.a.tmsUrl))},e.prototype.updateNetwork=function(t){return this.generateRequest("post",this.generateRequestUrl("/myInfo/v3p1/adfsPasswordVerify",void 0,K.a.tmsUrl),this.basicBodyMapFunction,{newPassword:t})},e.prototype.getAllDevices=function(){return this.generateRequest("get",this.generateRequestUrl("/myInfo/v3p1/rememberedDevices",void 0,K.a.tmsUrl),this.basicBodyMapFunction)},e.prototype.deleteAllDevices=function(){return this.generateRequest("delete",this.generateRequestUrl("/myInfo/v3p1/rememberedDevices",void 0,K.a.tmsUrl),(function(t){return t}),{},this.getRequestOptionsTxt())},e.prototype.deleteThisDevice=function(t){return this.generateRequest("delete",this.generateRequestUrl("/myInfo/v3p1/rememberedDevices/"+t,void 0,K.a.tmsUrl),(function(t){return t}),{},this.getRequestOptionsTxt())},e.prototype.getPasswordRecoveryQuestions=function(){return this.generateRequest("get",this.generateRequestUrl("/tms/v1p0/passwordRecovery/questions",void 0,K.a.tmsUrl),this.basicBodyMapFunction)},e.prototype.addRecoveryPhone=function(t,e){return this.generateRequest("post",this.generateRequestUrl("/myInfo/v3p1/passwordRecovery/mobilePhone/sendVerification",void 0,K.a.tmsUrl),this.basicBodyMapFunction,{phoneNumber:t,attemptUnlink:e})},e.prototype.verifyPhoneCode=function(t,e){return this.generateRequest("post",this.generateRequestUrl("/myInfo/v3p1/passwordRecovery/mobilePhone/verify",void 0,K.a.tmsUrl),this.basicBodyMapFunction,{codeSMS:t,passwordRecoveryToken:e})},e.prototype.unlinkRecoveryPhone=function(t,e){return this.generateRequest("post",this.generateRequestUrl("/myInfo/v3p1/passwordRecovery/mobilePhone/unlink",void 0,K.a.tmsUrl),this.basicBodyMapFunction,{codeSMS:t,passwordRecoveryToken:e})},e.prototype.addRecoveryEmail=function(t){return this.generateRequest("post",this.generateRequestUrl("/myInfo/v3p1/passwordRecovery/email/sendVerification",void 0,K.a.tmsUrl),this.basicBodyMapFunction,{email:t})},e.prototype.getRecoveryType=function(t){return this.generateRequest("get",this.generateRequestUrl("/myInfo/v3p1/passwordRecovery",void 0,K.a.tmsUrl),this.basicBodyMapFunction,{type:t})},e.prototype.getRecoveryValidation=function(){return this.generateRequest("get",this.generateRequestUrl("/myInfo/v3p1/passwordRecovery/questions/passwordRecoveryValidation",void 0,K.a.tmsUrl),this.basicBodyMapFunction)},e.prototype.deleteRecoveryMethod=function(t){return this.generateRequest("delete",this.generateRequestUrl("/myInfo/v3p1/passwordRecovery",{type:t},K.a.tmsUrl),this.basicBodyMapFunction)},e.\u0275fac=function(t){return new(t||e)(c.Wb(W.b))},e.\u0275prov=c.Ib({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(Z.a),xe=n("p0es"),Pe=n("kCsR"),Se=n("tRhJ"),Oe=n("3Pt+");function Me(t,e){if(1&t&&c.Nb(0,"application",13),2&t){var n=c.cc(3);c.ic("app",n.app)("showFlags",!1)("showName",!1)}}function Ae(t,e){if(1&t&&(c.Sb(0,"div",8),c.Sb(1,"div",9),c.Sb(2,"h2",10),c.Ec(3),c.Rb(),c.Sb(4,"p",11),c.Ec(5),c.Rb(),c.Sb(6,"p"),c.Ec(7),c.Rb(),c.Sb(8,"p"),c.Ec(9),c.Rb(),c.Sb(10,"p"),c.Ec(11),c.Rb(),c.Rb(),c.Cc(12,Me,1,3,"application",12),c.Rb()),2&t){var n=c.cc().$implicit,i=c.cc();c.Ab(3),c.Fc(n("appReport.title")),c.Ab(2),c.Fc(i.app.name),c.Ab(2),c.Hc("",n("appReport.appId")," ",i.app.id,""),c.Ab(2),c.Hc("",n("appReport.appType")," ",i.appInfo.type,""),c.Ab(2),c.Hc("",n("appReport.source")," ",i.appInfo.source,""),c.Ab(1),c.ic("ngIf",i.app)}}function ke(t,e){if(1&t){var n=c.Tb();c.Qb(0),c.Cc(1,Ae,13,9,"div",2),c.Sb(2,"div",3),c.Sb(3,"label",4),c.Ec(4),c.Rb(),c.Sb(5,"textarea",5),c.Zb("ngModelChange",(function(t){return c.vc(n),c.cc().data.feedback=t})),c.Rb(),c.Rb(),c.Sb(6,"div",6),c.Sb(7,"p"),c.Ec(8),c.Rb(),c.Sb(9,"button",7),c.Zb("click",(function(){return c.vc(n),c.cc().submitFeedback()})),c.Ec(10),c.Rb(),c.Rb(),c.Pb()}if(2&t){var i=e.$implicit,o=c.cc();c.Ab(1),c.ic("ngIf",o.app),c.Ab(3),c.Fc(i("appReport.label")),c.Ab(1),c.ic("ngModel",o.data.feedback),c.Ab(3),c.Fc(i("appReport.info")),c.Ab(1),c.Eb("disabled",o.cantSubmit()),c.ic("disabled",o.cantSubmit())("tabIndex",""===o.data.feedback.trim()?-1:0),c.Ab(1),c.Fc(i("common.submit"))}}var _e=function(){function t(t,e,n,i,o){var r=this;this.feedbackService=t,this.slideoverService=e,this.translationHelper=n,this.sessionService=i,this.cdr=o,this.visible=!1,this.submitted=!1,this.data={issue:"Report an Issue",feedback:"",category:K.a.productCategory,context:void 0},this.appInfo={type:"",source:""},this.subscriptions=[],this.subscriptions[0]=e.appReport.opened.subscribe((function(t){return r.initSlideover(t)}))}return t.prototype.ngOnDestroy=function(){this.subscriptions.forEach((function(t){return t.unsubscribe()}))},t.prototype.initSlideover=function(t){this.data={issue:"Report an Issue",feedback:"",category:K.a.productCategory,context:void 0},this.app=t,this.visible=!0,this.data.feedback="",this.appInfo={type:p.a.convertTypeToText(this.app.type),source:p.a.convertSourceToText(this.app.source)}},t.prototype.onVisibleChange=function(t){t||this.slideoverService.appReport.closed.next(!0)},t.prototype.submitFeedback=function(){var t=this;this.cantSubmit()||(this.submitted=!0,this.data.issue=this.data.issue+" : "+this.app.name,this.data.context={"App Name":this.app.name,"App ID":this.app.id,"App Type":this.appInfo.type,"App Source":this.appInfo.source},this.feedbackService.sendFeedback(this.sessionService.getBearerToken(),K.a.productGuid,this.data,"prod"===K.a.environment||"staging"===K.a.environment?"prod":"beta").subscribe((function(e){t.translationHelper.translateAndAddGenericGrowl({severity:"success"},{subject:"growl.feedback",verb:"common.submitted"}),t.visible=!1,t.submitted=!1,t.cdr.detectChanges()})))},t.prototype.cantSubmit=function(){return!(this.data.feedback&&this.data.feedback.match(/(\w+)/g).length>=4)||this.submitted},t.\u0275fac=function(e){return new(e||t)(c.Mb(vt.r),c.Mb(z.a),c.Mb(J.a),c.Mb(A.a),c.Mb(c.h))},t.\u0275cmp=c.Gb({type:t,selectors:[["app-app-report"]],decls:2,vars:2,consts:[["aria-labelledby","appReportTitle","role","dialog",1,"app-report","compact-slideover","custom-scroll",3,"visible","clFocusTrap","visibleChange"],[4,"transloco"],["class","slideover-header flex-start",4,"ngIf"],[1,"slideover-content","custom-scroll"],["for","feedbackInput"],["id","feedbackInput","required","",1,"custom-scroll",3,"ngModel","ngModelChange"],[1,"slideover-controls"],[1,"button","button-primary",3,"disabled","tabIndex","click"],[1,"slideover-header","flex-start"],[1,"flex-start","column-nowrap"],["id","appReportTitle"],[1,"app-name"],[3,"app","showFlags","showName",4,"ngIf"],[3,"app","showFlags","showName"]],template:function(t,e){1&t&&(c.Sb(0,"cl-slideover",0),c.Zb("visibleChange",(function(t){return e.visible=t}))("visibleChange",(function(t){return e.onVisibleChange(t)})),c.Cc(1,ke,11,9,"ng-container",1),c.Rb()),2&t&&c.ic("visible",e.visible)("clFocusTrap",e.visible)},directives:[vt.L,vt.s,ct.c,i.k,Oe.a,Oe.n,Oe.i,Oe.l,Bt],styles:[".slideover-header[_ngcontent-%COMP%]{-ms-flex-flow:row nowrap;flex-flow:row nowrap;height:auto;-ms-flex-preferred-size:auto;flex-basis:auto;padding-top:20px}.slideover-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:calc(var(--font-modifier) * 14px);font-weight:600;letter-spacing:normal;word-spacing:normal}.slideover-header[_ngcontent-%COMP%]   .app-name[_ngcontent-%COMP%]{font-size:calc(var(--font-modifier) * 16px);font-weight:700;margin-bottom:10px;color:var(--color-dark)}.slideover-header[_ngcontent-%COMP%]   application[_ngcontent-%COMP%]{margin-left:auto}.slideover-header[_ngcontent-%COMP%] > .flex-start[_ngcontent-%COMP%]{overflow:hidden;padding-right:15px}label[_ngcontent-%COMP%]{margin-bottom:5px}textarea[_ngcontent-%COMP%]{-ms-flex-positive:1;flex-grow:1;min-height:185px}p[_ngcontent-%COMP%]{font-size:calc(var(--font-modifier) * 13px);color:var(--color-medium)}button.button-primary[_ngcontent-%COMP%]{min-width:unset;padding:0 20px}"]}),t}(),Re=["backArrow"],Ie=["tab"];function Te(t,e){if(1&t){var n=c.Tb();c.Sb(0,"button",6,7),c.Zb("click",(function(){return c.vc(n),c.cc(2).onBackClick()})),c.Nb(2,"i",8),c.Rb()}if(2&t){var i=c.cc().$implicit;c.Bb("aria-label",i("common.goBack"))}}function Ee(t,e){if(1&t&&(c.Sb(0,"span",9),c.Nb(1,"i",10),c.Rb()),2&t){c.cc();var n=c.sc(7);c.ic("clTooltip",n)}}function Fe(t,e){if(1&t&&(c.Sb(0,"div",11),c.Sb(1,"p"),c.Ec(2),c.Rb(),c.Rb()),2&t){var n=c.cc().$implicit;c.Ab(2),c.Fc(n("myProfile.security.networkPassword.tooltip"))}}function De(t,e){if(1&t){var n=c.Tb();c.Sb(0,"button",14,15),c.Zb("click",(function(){c.vc(n);var t=e.$implicit;return c.cc(3).onTabClickChange(t)})),c.Ec(2),c.Rb()}if(2&t){var i=e.$implicit,o=c.cc(3);c.Eb("active",o.activeTab.title===i.title),c.Bb("aria-selected",o.activeTab.title===i.title),c.Ab(2),c.Gc(" ",i.title," ")}}function Ne(t,e){if(1&t&&(c.Sb(0,"div",12),c.Cc(1,De,3,4,"button",13),c.Rb()),2&t){var n=c.cc(2);c.Ab(1),c.ic("ngForOf",n.tabs)}}function Le(t,e){if(1&t&&(c.Qb(0),c.Sb(1,"div",1),c.Cc(2,Te,3,1,"button",2),c.Sb(3,"h2"),c.Ec(4),c.Rb(),c.Cc(5,Ee,2,1,"span",3),c.Cc(6,Fe,3,1,"ng-template",null,4,c.Dc),c.Rb(),c.Cc(8,Ne,2,1,"div",5),c.Pb()),2&t){var n=e.$implicit,i=c.cc();c.Ab(1),c.Eb("border-bottom",0!==i.activeTabPage),c.Ab(1),c.ic("ngIf",0!==i.activeTabPage),c.Ab(2),c.Fc(i.title?i.title:0!==i.activeTabPage?i.activeTab.title:n("myProfile.header.title")),c.Ab(1),c.ic("ngIf",5===i.activeTab.id&&1===i.activeTabPage),c.Ab(3),c.ic("ngIf",0===i.activeTabPage)}}var He=function(){function t(t,e,n){var i=this;this.helper=e,this.settingsService=n,this.activeTabPage=0,this.subscriptions=[],this.subscriptions[0]=e.generalSettingsUpdated.subscribe((function(t){return i.generalSettings=t})),this.subscriptions[1]=e.tabsUpdated.subscribe((function(t){i.tabs=t,i.activeTab=i.activeTab?i.activeTab:t[0]})),this.subscriptions[2]=e.activeTabUpdated.subscribe((function(t){return i.activeTab=t})),this.subscriptions[3]=e.tabPageChanged.subscribe((function(t){i.activeTabPage=t,setTimeout((function(){i.backArrowElement?i.backArrowElement.nativeElement.focus():i.tabElements.length>0&&i.tabElements.first.nativeElement.focus()}),0)})),this.subscriptions[4]=t.userInfoUpdated.subscribe((function(t){return i.userInfo=t})),this.subscriptions[5]=e.titleUpdated.subscribe((function(t){return i.title=t})),this.settingsService.extendSession()}return t.prototype.ngOnDestroy=function(){this.subscriptions.forEach((function(t){return t.unsubscribe()}))},t.prototype.onTabClickChange=function(t){this.activeTab!=t&&this.settingsService.extendSession(),this.activeTab=t,this.helper.activeTabUpdated.next(t),this.helper.tabPageChanged.next(0),this.helper.titleUpdated.next(void 0)},t.prototype.onBackClick=function(){this.helper.tabPageChanged.next(0),this.helper.titleUpdated.next(void 0)},t.\u0275fac=function(e){return new(e||t)(c.Mb(A.a),c.Mb(lt),c.Mb(xe.a))},t.\u0275cmp=c.Gb({type:t,selectors:[["app-profile-header"]],viewQuery:function(t,e){var n;1&t&&(c.Jc(Re,!0),c.Jc(Ie,!0)),2&t&&(c.rc(n=c.ac())&&(e.backArrowElement=n.first),c.rc(n=c.ac())&&(e.tabElements=n))},decls:1,vars:0,consts:[[4,"transloco"],[1,"slideover-header"],["class","back-arrow",3,"click",4,"ngIf"],[3,"clTooltip",4,"ngIf"],["helpTooltip",""],["class","cl-tabs","role","tablist",4,"ngIf"],[1,"back-arrow",3,"click"],["backArrow",""],[1,"fas","fa-arrow-left"],[3,"clTooltip"],[1,"fas","fa-question-circle"],[1,"cl-tooltip"],["role","tablist",1,"cl-tabs"],["class","tab","role","tab",3,"active","click",4,"ngFor","ngForOf"],["role","tab",1,"tab",3,"click"],["tab",""]],template:function(t,e){1&t&&c.Cc(0,Le,9,6,"ng-container",0)},directives:[ct.c,i.k,vt.P,i.j],styles:["[_nghost-%COMP%]{-ms-flex-negative:0;flex-shrink:0}img[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:50%;margin-right:10px}.slideover-header.border-bottom[_ngcontent-%COMP%]{border-bottom:1px solid var(--color-border-dark)}.back-arrow[_ngcontent-%COMP%]{padding:0;margin-right:10px}.back-arrow[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:var(--color-primary);font-size:22px}.tab.analytics[_ngcontent-%COMP%]{margin-left:auto;margin-right:0;color:var(--color-primary);opacity:1}.tab.analytics[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{margin-right:5px;color:var(--color-primary)}h2[_ngcontent-%COMP%]{text-transform:unset;font-size:calc(var(--font-modifier) * 18px);font-weight:800}span[_ngcontent-%COMP%]{display:inline;margin-left:5px}"]}),t}(),Ue=n("gQMU"),Be=n.n(Ue),je=new c.q("WindowToken","undefined"!=typeof window&&window.document?{providedIn:"root",factory:function(){return window}}:void 0),ze=function(){var t=function(){function t(e,n){Object(g.a)(this,t),this.document=e,this.window=n,this.copySubject=new G.a,this.copyResponse$=this.copySubject.asObservable(),this.config={}}return Object(f.a)(t,[{key:"configure",value:function(t){this.config=t}},{key:"copy",value:function(t){if(!this.isSupported||!t)return this.pushCopyResponse({isSuccess:!1,content:t});var e=this.copyFromContent(t);return this.pushCopyResponse(e?{content:t,isSuccess:e}:{isSuccess:!1,content:t})}},{key:"isTargetValid",value:function(t){if(t instanceof HTMLInputElement||t instanceof HTMLTextAreaElement){if(t.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');return!0}throw new Error("Target should be input or textarea")}},{key:"copyFromInputElement",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];try{this.selectTarget(t);var n=this.copyText();return this.clearSelection(e?t:void 0,this.window),n&&this.isCopySuccessInIE11()}catch(i){return!1}}},{key:"isCopySuccessInIE11",value:function(){var t=this.window.clipboardData;return!(t&&t.getData&&!t.getData("Text"))}},{key:"copyFromContent",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.document.body;if(this.tempTextArea&&!e.contains(this.tempTextArea)&&this.destroy(this.tempTextArea.parentElement||void 0),!this.tempTextArea){this.tempTextArea=this.createTempTextArea(this.document,this.window);try{e.appendChild(this.tempTextArea)}catch(i){throw new Error("Container should be a Dom element")}}this.tempTextArea.value=t;var n=this.copyFromInputElement(this.tempTextArea,!1);return this.config.cleanUpAfterCopy&&this.destroy(this.tempTextArea.parentElement||void 0),n}},{key:"destroy",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.document.body;this.tempTextArea&&(t.removeChild(this.tempTextArea),this.tempTextArea=void 0)}},{key:"selectTarget",value:function(t){return t.select(),t.setSelectionRange(0,t.value.length),t.value.length}},{key:"copyText",value:function(){return this.document.execCommand("copy")}},{key:"clearSelection",value:function(t,e){var n;t&&t.focus(),null===(n=e.getSelection())||void 0===n||n.removeAllRanges()}},{key:"createTempTextArea",value:function(t,e){var n,i="rtl"===t.documentElement.getAttribute("dir");return(n=t.createElement("textarea")).style.fontSize="12pt",n.style.border="0",n.style.padding="0",n.style.margin="0",n.style.position="absolute",n.style[i?"right":"left"]="-9999px",n.style.top=(e.pageYOffset||t.documentElement.scrollTop)+"px",n.setAttribute("readonly",""),n}},{key:"pushCopyResponse",value:function(t){this.copySubject.next(t)}},{key:"pushCopyReponse",value:function(t){this.pushCopyResponse(t)}},{key:"isSupported",get:function(){return!!this.document.queryCommandSupported&&!!this.document.queryCommandSupported("copy")&&!!this.window}}]),t}();return t.\u0275fac=function(e){return new(e||t)(c.Wb(i.c),c.Wb(je,8))},t.\u0275prov=Object(c.Ib)({factory:function(){return new t(Object(c.Wb)(i.c),Object(c.Wb)(je,8))},token:t,providedIn:"root"}),t}();function Ve(t,e){1&t&&(c.Sb(0,"div",24),c.Nb(1,"i",25),c.Rb())}function Ge(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",26),c.Sb(1,"button",27),c.Zb("click",(function(){return c.vc(n),c.cc(2).resendVerificationEmail()})),c.Ec(2),c.Rb(),c.Sb(3,"button",27),c.Zb("click",(function(){return c.vc(n),c.cc(2).revertEmail()})),c.Ec(4),c.Rb(),c.Rb()}if(2&t){var i=c.cc().$implicit;c.Ab(1),c.Bb("aria-label",i("myProfile.general.resend")),c.Ab(1),c.Fc(i("myProfile.general.resend")),c.Ab(1),c.Bb("aria-label",i("myProfile.general.revert")),c.Ab(1),c.Fc(i("myProfile.general.revert"))}}function $e(t,e){if(1&t&&(c.Sb(0,"h3"),c.Ec(1),c.Rb()),2&t){var n=c.cc().$implicit;c.Ab(1),c.Fc(n("myProfile.general.parentCodes"))}}function Ze(t,e){1&t&&(c.Sb(0,"div",34),c.Nb(1,"i",13),c.Rb())}function We(t,e){1&t&&c.Cc(0,Ze,2,0,"div",33),2&t&&c.ic("ngIf",e.row.parent_userid)}var qe=function(t){return{label:t}};function Ye(t,e){if(1&t){var n=c.Tb();c.Sb(0,"button",41),c.Zb("click",(function(t){c.vc(n);var e=c.cc().row;return c.cc(3).displayTtip(e.codeId,t)})),c.Nb(1,"i",42),c.Rb()}if(2&t){var i=c.cc().row,o=c.sc(7),r=c.sc(5),a=c.cc(2).$implicit,s=c.cc();c.ic("clTooltip",i.codeId==s.displayCode?o:r)("clTooltipContext",c.lc(5,qe,a("common.delete")))("clTooltipPersist",i.codeId==s.displayCode)("clTooltipDisplay",i.codeId==s.displayCode),c.Bb("aria-label","delete")}}function Ke(t,e){1&t&&c.Nb(0,"div",43),2&t&&c.ic("innerText",e.$implicit.label)}function Qe(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",44),c.Zb("clClickOutside",(function(t){c.vc(n);var e=c.cc().row;return c.cc(3).displayTtip(e.codeId,t)}))("mouseleave",(function(t){c.vc(n);var e=c.cc().row;return c.cc(3).displayTtip(e.codeId,t)})),c.Sb(1,"h4"),c.Ec(2),c.Rb(),c.Sb(3,"div",45),c.Sb(4,"button",46),c.Zb("click",(function(t){c.vc(n);var e=c.cc().row;return c.cc(3).displayTtip(e.codeId,t)})),c.Ec(5),c.Rb(),c.Sb(6,"button",47),c.Zb("click",(function(){c.vc(n);var t=c.cc().row;return c.cc(3).deleteCode(t.codeId)})),c.Ec(7),c.Rb(),c.Rb(),c.Rb()}if(2&t){var i=c.cc(3).$implicit;c.Ab(2),c.Fc(i("myProfile.general.deleteCode")),c.Ab(3),c.Fc(i("common.cancel")),c.Ab(2),c.Fc(i("common.delete"))}}function Je(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",35),c.Cc(1,Ye,2,7,"button",36),c.Sb(2,"button",37),c.Zb("click",(function(){c.vc(n);var t=e.row;return c.cc(3).copyCode(t.parentcode)})),c.Nb(3,"i",38),c.Rb(),c.Cc(4,Ke,1,1,"ng-template",null,39,c.Dc),c.Cc(6,Qe,8,3,"ng-template",null,40,c.Dc),c.Rb()}if(2&t){var i=c.sc(5),o=c.cc(2).$implicit,r=c.cc();c.Ab(1),c.ic("ngIf","Student"!==r.userInfo.Role),c.Ab(1),c.ic("clTooltip",i)("clTooltipContext",c.lc(4,qe,o("common.copy"))),c.Bb("aria-label","copy")}}function Xe(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",28),c.Sb(1,"cl-data-table",29),c.Cc(2,We,1,1,"ng-template",30),c.Cc(3,Je,8,6,"ng-template",31),c.Rb(),c.Sb(4,"button",32),c.Zb("click",(function(){return c.vc(n),c.cc(2).addCode()})),c.Rb(),c.Rb()}if(2&t){var i=c.cc().$implicit,o=c.cc();c.Ab(1),c.ic("dataFields",o.parentTable)("data",o.parentCodes)("showPaginator",!1),c.Ab(3),c.ic("innerText",i("common.add"))("disabled",!o.parentCodes||o.parentCodes.length>=3)}}function tn(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",48),c.Nb(1,"cl-data-table",29),c.Sb(2,"div",49),c.Sb(3,"cl-input",50),c.Zb("valueChange",(function(t){return c.vc(n),c.cc(2).redeemCode=t})),c.Rb(),c.Sb(4,"button",51),c.Zb("click",(function(){return c.vc(n),c.cc(2).redeemStudent()})),c.Ec(5),c.Rb(),c.Rb(),c.Rb()}if(2&t){var i=c.cc().$implicit,o=c.cc();c.Ab(1),c.ic("dataFields",o.studentTable)("data",o.studentCode)("showPaginator",!1),c.Ab(2),c.ic("label",i("myProfile.general.redeemCode"))("labelVisible",!1)("value",o.redeemCode),c.Ab(1),c.ic("disabled",!o.redeemCode),c.Ab(1),c.Fc(i("myProfile.general.redeemCode"))}}var en=function(){return{id:"first-name-input"}},nn=function(){return{id:"last-name-input"}},on=function(){return{id:"display-name-input"}},rn=function(){return{id:"email-input"}};function an(t,e){if(1&t){var n=c.Tb();c.Qb(0),c.Sb(1,"div",1),c.Sb(2,"div",2),c.Sb(3,"label"),c.Ec(4),c.Rb(),c.Sb(5,"div",3),c.Zb("click",(function(){return c.vc(n),c.cc().helper.tabPageChanged.next(1)}))("keydown.Enter",(function(){return c.vc(n),c.cc().helper.tabPageChanged.next(1)}))("keydown.Space",(function(t){c.vc(n);var e=c.cc();return t.preventDefault(),e.helper.tabPageChanged.next(1)}))("focusin",(function(){return c.vc(n),c.cc().hoveredImage=!0}))("mouseenter",(function(){return c.vc(n),c.cc().hoveredImage=!0}))("mouseleave",(function(){return c.vc(n),c.cc().hoveredImage=!1}))("focusout",(function(){return c.vc(n),c.cc().hoveredImage=!1})),c.Nb(6,"img",4),c.Sb(7,"p",5),c.Ec(8),c.Rb(),c.Cc(9,Ve,2,0,"div",6),c.Rb(),c.Rb(),c.Sb(10,"div",7),c.Sb(11,"cl-input",8),c.Zb("valueChange",(function(t){return c.vc(n),c.cc().form.firstName=t})),c.Rb(),c.Sb(12,"cl-input",8),c.Zb("valueChange",(function(t){return c.vc(n),c.cc().form.lastName=t})),c.Rb(),c.Sb(13,"cl-input",8),c.Zb("valueChange",(function(t){return c.vc(n),c.cc().form.displayName=t})),c.Rb(),c.Sb(14,"div",9),c.Cc(15,Ge,5,4,"div",10),c.Sb(16,"cl-input",11),c.Zb("valueChange",(function(t){return c.vc(n),c.cc().form.email=t})),c.Rb(),c.Sb(17,"span",12),c.Nb(18,"i",13),c.Rb(),c.Rb(),c.Sb(19,"div",14),c.Sb(20,"label",15),c.Ec(21),c.Rb(),c.Sb(22,"cl-dropdown",16),c.Zb("selectionChange",(function(t){return c.vc(n),c.cc().form.languageId=t})),c.Rb(),c.Rb(),c.Sb(23,"div",14),c.Sb(24,"label",17),c.Ec(25),c.Rb(),c.Sb(26,"cl-dropdown",18),c.Zb("selectionChange",(function(t){return c.vc(n),c.cc().form.defaultTimeFormat=t})),c.Rb(),c.Rb(),c.Rb(),c.Cc(27,$e,2,1,"h3",19),c.Cc(28,Xe,5,5,"div",20),c.Cc(29,tn,6,8,"div",21),c.Rb(),c.Sb(30,"div",22),c.Sb(31,"button",23),c.Zb("click",(function(){return c.vc(n),c.cc().setGeneralSettings()})),c.Ec(32),c.Rb(),c.Rb(),c.Pb()}if(2&t){var i=e.$implicit,o=c.cc();c.Ab(4),c.Fc(i("myProfile.general.profileImage")),c.Ab(1),c.Bb("aria-label",i("myProfile.general.changeAvatar")),c.Ab(1),c.ic("src",o.userInfo.ImagePath,c.xc),c.Ab(2),c.Fc(i("header.profilePictureLabel")),c.Ab(1),c.ic("ngIf",o.hoveredImage),c.Ab(2),c.ic("value",o.form.firstName)("disabled",!!o.generalSettings.FirstName)("attributes",c.kc(46,en))("inputValidator",o.blankValidator.bind(o,"firstName"))("label",i("myProfile.general.firstName")),c.Ab(1),c.ic("value",o.form.lastName)("disabled",!!o.generalSettings.LastName)("attributes",c.kc(47,nn))("inputValidator",o.blankValidator.bind(o,"lastName"))("label",i("myProfile.general.lastName")),c.Ab(1),c.ic("value",o.form.displayName)("disabled",!!o.generalSettings.DisplayName)("attributes",c.kc(48,on))("inputValidator",o.blankValidator.bind(o,"displayName"))("label",i("myProfile.general.displayName")),c.Ab(2),c.ic("ngIf",o.generalSettings&&o.generalSettings.TempEmail),c.Ab(1),c.ic("attributes",c.kc(49,rn))("disabled",!(o.generalSettings&&o.generalSettings.IsEditUserEmail)||o.userInfo.isImpersonated||!0)("value",o.form.email)("inputValidator",o.emailValidator.bind(o))("label",i("myProfile.general.email")),c.Ab(5),c.Fc(i("myProfile.general.defaultLanguage")),c.Ab(1),c.ic("id","default-language")("selection",o.form.languageId)("bodyAppend",!0)("options",o.languages)("optionValue","LanguageId")("optionLabel","Name")("showRemove",!1),c.Ab(3),c.Fc(i("myProfile.general.defaultTime")),c.Ab(1),c.ic("id","default-time")("selection",o.form.defaultTimeFormat)("bodyAppend",!0)("options",o.timeFormats)("showRemove",!1),c.Ab(1),c.ic("ngIf","Student"===o.userInfo.Role&&o.parentCodes||"Parent"===o.userInfo.Role),c.Ab(1),c.ic("ngIf","Student"===o.userInfo.Role&&o.parentCodes),c.Ab(1),c.ic("ngIf","Parent"===o.userInfo.Role),c.Ab(2),c.ic("disabled",!o.canSaveForm())("tabindex",o.canSaveForm()?0:-1),c.Ab(1),c.Fc(i("common.save"))}}var sn=function(){function t(t,e,n,i,o,r){var a=this;this.helper=e,this.nodeApi=n,this.translationHelper=i,this.translationService=o,this.clipboardService=r,this.page=0,this.languages=[],this.hoveredImage=!1,this.timeFormats=[{label:"12 Hour",value:12},{label:"24 Hour",value:24}],this.form={firstName:"",lastName:"",displayName:"",languageId:1,defaultViewType:3,defaultTimeFormat:12,email:""},this.subscriptions=[],this.parentTable=[{header:"Parent Codes",fieldName:"parentcode",canSort:!1,canFilter:!1,columnWidth:80},{header:"Redeemed",fieldName:"",template:{name:"col2"},minWidth:90},{header:"",fieldName:"",template:{headerName:"",name:"buttons"},canSort:!1,canFilter:!1,minWidth:80,columnWidth:1}],this.studentTable=[{header:"Student",fieldName:"DisplayName",columnWidth:25},{header:"User Name",fieldName:"UserName",columnWidth:25},{header:"Code",fieldName:"ParentRedeemCode",columnWidth:50}],this.redeemCode="",this.demoCode=[{UserId:13614952,DisplayName:"43nosync",FirstName:"43nosync",LastName:"",Email:"43nosync@DTCTesting.ec2.local",UserName:"43nosync",ParentRedeemCode:"LOL-a54731ad-82ba-49b4-8593-846ddc5ddf03",RedeemcodeId:2675688,IsDefault:1}],this.userInfo=t.getUserInfo(),this.subscriptions[0]=e.generalSettingsUpdated.subscribe((function(t){a.generalSettings=t,a.parentCodes=a.generalSettings.RedeemCode,t&&a.fillForm()})),this.subscriptions[1]=o.selectTranslate("myProfile.general.12hour").subscribe((function(t){return a.timeFormats[0].label=t})),this.subscriptions[2]=o.selectTranslate("myProfile.general.24hour").subscribe((function(t){return a.timeFormats[1].label=t})),this.subscriptions[3]=o.selectTranslate("myProfile.general.parentCodes").subscribe((function(t){return a.parentTable[0].header=t})),this.subscriptions[4]=o.selectTranslate("myProfile.general.redeemCode").subscribe((function(t){return a.parentTable[1].header=t}))}return t.prototype.ngOnInit=function(){var t=this;this.redeemCode="","Parent"===this.userInfo.Role&&this.nodeApi.getstudentCodes().subscribe((function(e){1==e.status&&(t.studentCode=e.aaData)})),this.getLanguages()},t.prototype.ngOnDestroy=function(){this.subscriptions.forEach((function(t){return t.unsubscribe()}))},t.prototype.blankValidator=function(t){var e=this.form[t];return ht.a.isNullOrUndefined(e)||""!==e.trim()},t.prototype.emailValidator=function(){return(!this.generalSettings||!this.generalSettings.TempEmail)&&ht.a.isValidEmail(this.form.email)},t.prototype.canSaveForm=function(){for(var t=0,e=Object.keys(this.form);t<e.length;t++){var n=e[t];if(!this.form[n]||""===this.form[n].toString().trim())return!1}return ht.a.isValidEmail(this.form.email)},t.prototype.fillForm=function(){this.form.firstName=this.generalSettings.FirstName,this.form.lastName=this.generalSettings.LastName,this.form.displayName=this.generalSettings.DisplayName,this.form.languageId=this.generalSettings.LanguageId,this.form.defaultViewType=this.generalSettings.DefaultViewType?this.generalSettings.DefaultViewType:3,this.form.defaultTimeFormat=0===this.generalSettings.DefaultTimeFormat?12:this.generalSettings.DefaultTimeFormat,this.form.email=this.generalSettings.TempEmail?this.generalSettings.TempEmail:this.generalSettings.Email},t.prototype.getLanguages=function(){var t=this;this.nodeApi.getLanguages().subscribe((function(e){e.forEach((function(e){e.Name=t.translationService.translateObject("myProfile.general.languages."+e.ShortName)})),t.languages=L()(e,["Name"])}))},t.prototype.setGeneralSettings=function(){var t=this,e={};Object.keys(this.form).map((function(n){e[Be()(n)]=t.form[n]})),this.nodeApi.setGeneralSettings(e).subscribe((function(n){t.translationHelper.translateAndAddGenericGrowl({severity:"success"},{subject:"growl.settings",verb:"common.edited"}),t.helper.generalSettingsUpdated.next(Object(R.a)(Object(R.a)({},t.generalSettings),e))}),(function(e){t.translationHelper.translateAndAddGrowl({severity:"error",summary:"error.invalidSettings",detail:"error.invalidSettingsDetail"})}))},t.prototype.resendVerificationEmail=function(){var t=this;this.nodeApi.resendVerificationEmail().subscribe((function(e){t.translationHelper.translateAndAddGenericGrowl({severity:"success"},{subject:"myProfile.general.verificationEmail",verb:"growl.sent"})}))},t.prototype.revertEmail=function(){var t=this;this.nodeApi.revertEmail().subscribe((function(e){t.translationHelper.translateAndAddGenericGrowl({severity:"success"},{subject:"myProfile.general.email",verb:"growl.reverted"}),t.helper.getGeneralSettings()}))},t.prototype.addCode=function(){var t=this;this.nodeApi.addParentCode().subscribe((function(e){1==e.status||"Maximum limit to generate redeem code has been reached."!=e.response?1==e.status&&(t.generalSettings.RedeemCode=e.result?e.result:[],t.helper.generalSettingsUpdated.next(t.generalSettings),t.translationHelper.translateAndAddGenericGrowl({severity:"success"},{subject:"growl.code",verb:"common.added"})):t.translationHelper.translateAndAddGrowl({severity:"error",summary:"error.tooManyCodes",detail:"error.tooManyCodesDetail"})}))},t.prototype.deleteCode=function(t){var e=this;this.nodeApi.deleteParentCode(t).subscribe((function(t){1==t.status&&(e.generalSettings.RedeemCode=t.redeemCode?t.redeemCode:[],e.helper.generalSettingsUpdated.next(e.generalSettings),e.translationHelper.translateAndAddGenericGrowl({severity:"success"},{subject:"growl.code",verb:"common.deleted"}))}))},t.prototype.copyCode=function(t){this.clipboardService.copyFromContent(t)&&this.translationHelper.translateAndAddGenericGrowl({severity:"success"},{subject:"growl.code",verb:"common.copied"})},t.prototype.redeemStudent=function(){var t=this;this.nodeApi.redeemStudent(this.redeemCode).subscribe((function(e){t.nodeApi.getstudentCodes().subscribe((function(e){1==e.status&&(t.studentCode=e.aaData)}))}))},t.prototype.displayTtip=function(t,e){e&&e.stopPropagation(),this.displayCode=t===this.displayCode?null:t},t.\u0275fac=function(e){return new(e||t)(c.Mb(A.a),c.Mb(lt),c.Mb(l.a),c.Mb(J.a),c.Mb(ct.f),c.Mb(ze))},t.\u0275cmp=c.Gb({type:t,selectors:[["app-general-tab"]],decls:1,vars:0,consts:[[4,"transloco"],[1,"slideover-content"],[1,"img-sect","flex-start","column-nowrap"],["tabindex","0","role","button",1,"relative-ctnr",3,"click","keydown.Enter","keydown.Space","focusin","mouseenter","mouseleave","focusout"],["aria-describedby","profileImgDescriptor","onerror","this.src = 'assets/images/default-avatar.png'",3,"src","alt"],["id","profileImgDescriptor",1,"off-screen"],["class","cog-ctnr flex-center",4,"ngIf"],[1,"form","flex-start","column-nowrap"],[3,"value","disabled","attributes","inputValidator","label","valueChange"],[1,"email-ctnr"],["class","button-ctnr flex-start",4,"ngIf"],[1,"email-input",3,"attributes","disabled","value","inputValidator","label","valueChange"],[1,"verified-check","flex-center"],[1,"fas","fa-check"],[1,"flex-start","column-nowrap"],["for","default-language"],[3,"id","selection","bodyAppend","options","optionValue","optionLabel","showRemove","selectionChange"],["for","default-time"],[3,"id","selection","bodyAppend","options","showRemove","selectionChange"],[4,"ngIf"],["class","flex-start column-nowrap parent-codes",4,"ngIf"],["class","flex-start colum-nowrap parent-codes",4,"ngIf"],[1,"slideover-controls"],[1,"button","button-secondary","left-auto",3,"disabled","tabindex","click"],[1,"cog-ctnr","flex-center"],[1,"fas","fa-cog"],[1,"button-ctnr","flex-start"],[1,"button-text",3,"click"],[1,"flex-start","column-nowrap","parent-codes"],[3,"dataFields","data","showPaginator"],["clTemplate","col2"],["clTemplate","buttons"],[1,"button","button-primary",3,"innerText","disabled","click"],["class","flex-start col2",4,"ngIf"],[1,"flex-start","col2"],[1,"flex-end-center","buttons-ctnr"],["class","button-icon color-danger",3,"clTooltip","clTooltipContext","clTooltipPersist","clTooltipDisplay","click",4,"ngIf"],[1,"button-icon","color-primary",3,"clTooltip","clTooltipContext","click"],[1,"far","fa-copy"],["tooltip",""],["delTooltip",""],[1,"button-icon","color-danger",3,"clTooltip","clTooltipContext","clTooltipPersist","clTooltipDisplay","click"],[1,"far","fa-times"],[1,"cl-tooltip",3,"innerText"],[1,"cl-tooltip","confirmation",3,"clClickOutside","mouseleave"],[1,"buttons-ctnr"],[1,"button","button-default",3,"click"],[1,"button","button-default","text-danger",3,"click"],[1,"flex-start","colum-nowrap","parent-codes"],[1,"row-wrap"],[3,"label","labelVisible","value","valueChange"],[1,"button","button-primary",3,"disabled","click"]],template:function(t,e){1&t&&c.Cc(0,an,33,50,"ng-container",0)},directives:[ct.c,i.k,vt.w,vt.n,vt.j,vt.c,vt.P,vt.f],styles:['.img-sect[_ngcontent-%COMP%]{position:relative}.img-sect[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-bottom:5px}.img-sect[_ngcontent-%COMP%]   .off-screen[_ngcontent-%COMP%]{position:absolute;left:-10000px;top:auto;width:1px;height:1px;overflow:hidden}.img-sect[_ngcontent-%COMP%]   .relative-ctnr[_ngcontent-%COMP%]{position:relative;width:85px;height:85px;border-radius:50%;margin-bottom:20px}.img-sect[_ngcontent-%COMP%]   .relative-ctnr[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:50%}.img-sect[_ngcontent-%COMP%]   .relative-ctnr[_ngcontent-%COMP%]   .cog-ctnr[_ngcontent-%COMP%]{position:absolute;top:0;left:0;z-index:1;width:100%;height:100%;cursor:pointer}.img-sect[_ngcontent-%COMP%]   .relative-ctnr[_ngcontent-%COMP%]   .cog-ctnr[_ngcontent-%COMP%]:before{content:"";opacity:.5;position:absolute;top:0;left:0;z-index:2;border-radius:50%;width:100%;height:100%;background-color:#fff}.img-sect[_ngcontent-%COMP%]   .relative-ctnr[_ngcontent-%COMP%]   .cog-ctnr[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{font-size:28px;z-index:3;color:var(--color-primary)}.form[_ngcontent-%COMP%]{width:50%;padding:20px 0}.form[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:100%}.form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-bottom:5px}.form[_ngcontent-%COMP%]   cl-input[_ngcontent-%COMP%]{height:62px}.form[_ngcontent-%COMP%]   cl-dropdown[_ngcontent-%COMP%], .form[_ngcontent-%COMP%]   cl-input[_ngcontent-%COMP%]{margin-bottom:20px}.email-ctnr[_ngcontent-%COMP%]{position:relative;width:100%}.email-ctnr[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:var(--color-dark)}.email-ctnr[_ngcontent-%COMP%]   .button-ctnr[_ngcontent-%COMP%]{position:absolute;top:-5px;right:0;z-index:1}.email-ctnr[_ngcontent-%COMP%]   .button-ctnr[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-of-type{margin-right:20px}.email-ctnr[_ngcontent-%COMP%]   .button-ctnr[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:after, .email-ctnr[_ngcontent-%COMP%]   .button-ctnr[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:before{top:0;height:100%}.email-ctnr[_ngcontent-%COMP%]   .verified-check[_ngcontent-%COMP%]{position:absolute;top:32px;right:20px}.email-ctnr[_ngcontent-%COMP%]   .verified-check[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{font-size:18px;color:var(--color-success)}.bottom-20[_ngcontent-%COMP%]{margin-bottom:20px}.parent-codes[_ngcontent-%COMP%]{-ms-flex-flow:column nowrap;flex-flow:column nowrap}.parent-codes[_ngcontent-%COMP%]   .row-wrap[_ngcontent-%COMP%]{width:100%;margin-top:15px}.parent-codes[_ngcontent-%COMP%]   .row-wrap[_ngcontent-%COMP%]   cl-input[_ngcontent-%COMP%]{max-width:300px;margin-right:20px}.parent-codes[_ngcontent-%COMP%]   cl-data-table[_ngcontent-%COMP%]{margin-top:20px;overflow-x:hidden;padding:15px 10px 10px;border-radius:5px;border:2px solid #ddd}.parent-codes[_ngcontent-%COMP%]   .buttons-ctnr[_ngcontent-%COMP%]{width:100%}.parent-codes[_ngcontent-%COMP%]   .buttons-ctnr[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:calc(var(--font-modifier) * 20px);margin-right:15px}.parent-codes[_ngcontent-%COMP%] > .button-primary[_ngcontent-%COMP%]{margin-top:10px;-ms-flex-item-align:start;align-self:start}.col2[_ngcontent-%COMP%]{width:100%}.col2[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:var(--color-success);font-size:20px}.buttons[_ngcontent-%COMP%]{width:100%}.buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:calc(var(--font-modifier) * 20px);margin-right:15px}']}),t}(),cn=function(){function t(){this.recoverySelectionChanged=new V.a(0),this.twoFactorSelectionChanged=new V.a(0),this.progress=new T.a({selectAvatar:!1,customizeTheme:!1,passwordRecovery:!1,twoFactorAuth:!1}),this.modalVisible=new T.a({visible:!1}),this.initialRunSettingsUpdated=new G.a}return t.prototype.ngOnDestroy=function(){},t.\u0275prov=c.Ib({token:t,factory:t.\u0275fac=function(e){return new(e||t)},providedIn:"root"}),t}(),ln=n("rIor"),pn=["fileInput"];function un(t,e){if(1&t&&(c.Sb(0,"div",13),c.Sb(1,"h3"),c.Ec(2),c.Rb(),c.Rb()),2&t){var n=c.cc().$implicit;c.Ab(2),c.Fc(n("myProfile.general.selectAvatar.description"))}}function dn(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",14),c.Sb(1,"button",15),c.Zb("click",(function(){return c.vc(n),c.cc(2).showTooltip=!0}))("clTooltipDisplayChange",(function(){c.vc(n);var t=c.cc(2);return t.showTooltip=!t.showTooltip})),c.Ec(2),c.Rb(),c.Rb()}if(2&t){var i=c.cc().$implicit,o=c.sc(13),r=c.cc();c.Ab(1),c.ic("clTooltip",o)("clTooltipDisplay",r.showTooltip)("clTooltipPersist",!0),c.Ab(1),c.Gc(" ",i("myProfile.general.selectAvatar.resetLabel")," ")}}function bn(t,e){if(1&t){var n=c.Tb();c.Sb(0,"input",16,17),c.Zb("change",(function(t){return c.vc(n),c.cc(2).onImageUpload(t)})),c.Rb()}}function gn(t,e){if(1&t){var n=c.Tb();c.Qb(0),c.Sb(1,"div",18),c.Sb(2,"button",19),c.Zb("click",(function(){return c.vc(n),c.cc(2).clickInput()})),c.Nb(3,"i",20),c.Rb(),c.Rb(),c.Pb()}if(2&t){var i=c.cc().$implicit;c.Ab(2),c.Bb("aria-label",i("myProfile.general.selectAvatar.uploadLabel"))}}var fn=function(t){return{selected:t}};function hn(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",21),c.Zb("keydown.space",(function(){c.vc(n);var t=e.$implicit;return c.cc(2).selectAvatar(t.key)}))("keydown.Enter",(function(){c.vc(n);var t=e.$implicit;return c.cc(2).selectAvatar(t.key)}))("click",(function(){c.vc(n);var t=e.$implicit;return c.cc(2).selectAvatar(t.key)})),c.Nb(1,"img",22),c.Rb()}if(2&t){var i=e.$implicit,o=c.cc().$implicit,r=c.cc();c.Bb("aria-selected",r.selectedImage===i.key),c.Ab(1),c.ic("src",i.url,c.xc)("alt",o("imageLabels.avatars."+i.key))("ngClass",c.lc(4,fn,r.selectedImage===i.key))}}function mn(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",23),c.Sb(1,"h4"),c.Ec(2),c.Rb(),c.Sb(3,"div",24),c.Sb(4,"button",25),c.Zb("click",(function(){return c.vc(n),c.cc(2).showTooltip=!1})),c.Ec(5),c.Rb(),c.Sb(6,"button",26),c.Zb("click",(function(){return c.vc(n),c.cc(2).resetImage()})),c.Ec(7),c.Rb(),c.Rb(),c.Rb()}if(2&t){var i=c.cc().$implicit;c.Ab(2),c.Fc(i("myProfile.general.selectAvatar.resetConfirmation")),c.Ab(3),c.Fc(i("common.cancel")),c.Ab(2),c.Fc(i("growl.reset"))}}var vn=function(t){return{padding:t}};function yn(t,e){if(1&t){var n=c.Tb();c.Qb(0),c.Sb(1,"div",2),c.Cc(2,un,3,1,"div",3),c.Cc(3,dn,3,4,"div",4),c.Cc(4,bn,2,0,"input",5),c.Sb(5,"div",6),c.Cc(6,gn,4,1,"ng-container",7),c.Cc(7,hn,2,6,"div",8),c.Rb(),c.Rb(),c.Sb(8,"cl-modal",9),c.Zb("visibleChange",(function(t){return c.vc(n),c.cc().showImageModal=t})),c.Sb(9,"image-cropper",10),c.Zb("imageLoaded",(function(){return c.vc(n),c.cc().resetInputImage()}))("imageCropped",(function(t){return c.vc(n),c.cc().onImageCrop(t)})),c.Rb(),c.Sb(10,"button",11),c.Zb("click",(function(){return c.vc(n),c.cc().uploadImage()})),c.Ec(11),c.Rb(),c.Rb(),c.Cc(12,mn,8,3,"ng-template",null,12,c.Dc),c.Pb()}if(2&t){var i=e.$implicit,o=c.cc(),r=c.sc(2);c.Ab(2),c.ic("ngIf",!o.initialRun)("ngIfElse",r),c.Ab(1),c.ic("ngIf",!o.initialRun),c.Ab(1),c.ic("ngIf",o.generalSettings&&o.generalSettings.IsUserAllowToChangeAvatar),c.Ab(1),c.ic("ngStyle",c.lc(11,vn,o.initialRun?"10px":"0")),c.Ab(1),c.ic("ngIf",o.generalSettings&&o.generalSettings.IsUserAllowToChangeAvatar),c.Ab(1),c.ic("ngForOf",o.images),c.Ab(1),c.ic("visible",o.showImageModal),c.Ab(1),c.ic("imageChangedEvent",o.imageUploadEvent),c.Ab(1),c.Bb("aria-label",i("myProfile.general.selectAvatar.uploadCropped")),c.Ab(1),c.Fc(i("myProfile.general.selectAvatar.upload"))}}function Cn(t,e){if(1&t&&(c.Sb(0,"div",28),c.Nb(1,"img",29),c.Sb(2,"label",30),c.Ec(3),c.Rb(),c.Rb()),2&t){var n=e.$implicit,i=c.cc(2);c.Ab(1),c.ic("src",i.userInfo.ImagePath,c.xc),c.Ab(2),c.Fc(n("myProfile.general.profileImage"))}}function wn(t,e){1&t&&c.Cc(0,Cn,4,2,"div",27)}var xn=function(){function t(t,e,n,i,o){var r=this;this.helper=t,this.nodeApi=e,this.translationHelper=n,this.sessionService=i,this.initialRunHelper=o,this.initialRun=!1,this.showImageModal=!1,this.images=[],this.showTooltip=!1,this.selectedImage="",this.subscriptions=[],this.validFileTypes=["image/png","image/jpeg","image/jpg"],this.subscriptions[0]=t.generalSettingsUpdated.subscribe((function(t){return r.generalSettings=t})),this.subscriptions[1]=i.userInfoUpdated.subscribe((function(t){return r.userInfo=t}))}return t.prototype.ngOnInit=function(){this.getProfileImages()},t.prototype.ngOnDestroy=function(){this.subscriptions.forEach((function(t){return t.unsubscribe()}))},t.prototype.getProfileImages=function(){var t=this;this.nodeApi.getProfileImages().subscribe((function(e){t.images=e}))},t.prototype.selectAvatar=function(t){var e=this;this.nodeApi.selectPremadeAvatar(t).subscribe((function(n){e.selectedImage=t,e.updateSettings(n),e.initialRun&&e.updateInitialRunProgress()}))},t.prototype.updateSettings=function(t){this.userInfo.ImagePath=t.url,this.sessionService.setUserInfo(this.userInfo),this.initialRun||(this.helper.tabPageChanged.next(0),this.translationHelper.translateAndAddGenericGrowl({severity:"success"},{subject:"myProfile.general.selectAvatar.avatar",verb:"common.edited"}))},t.prototype.clickInput=function(){this.fileInput.nativeElement.click()},t.prototype.onImageUpload=function(t){var e=this,n=this.fileInput.nativeElement.files[0];n&&ht.a.getRealFileType(n).subscribe((function(i){return e.validFileTypes.includes(i)?n.size>5e5?(e.translationHelper.translateAndAddGrowl({severity:"error",summary:"error.fileTooLarge",detail:"error.fileTooLargeDetail"}),void e.resetInputImage()):void e.nodeApi.uploadFullImage(n).subscribe((function(n){e.fullImageDetails=n,e.imageUploadEvent=t,e.showImageModal=!0}),(function(t){e.translationHelper.translateAndAddGrowl({severity:"error",summary:"error.errorUploading",detail:"error.errorUploadingDetail"})})):(e.translationHelper.translateAndAddGrowl({severity:"error",summary:"error.invalidFileType",detail:"error.invalidFileTypeDetail"}),void e.resetInputImage())}))},t.prototype.resetInputImage=function(){this.fileInput.nativeElement.value=null},t.prototype.onImageCrop=function(t){this.croppedPosition=t.imagePosition},t.prototype.uploadImage=function(){var t=this;this.nodeApi.uploadCroppedImage(this.fullImageDetails.key,this.croppedPosition).subscribe((function(e){t.updateSettings(e),t.initialRun&&(t.showImageModal=!1,t.updateInitialRunProgress())}))},t.prototype.resetImage=function(){var t=this;this.nodeApi.resetAvatar().subscribe((function(e){t.updateSettings({key:e.key,url:K.a.cloudDriveCdn+"/"+e.key})}))},t.prototype.updateInitialRunProgress=function(){var t=this.initialRunHelper.progress.value;t.selectAvatar=!0,this.initialRunHelper.progress.next(t)},t.\u0275fac=function(e){return new(e||t)(c.Mb(lt),c.Mb(l.a),c.Mb(J.a),c.Mb(A.a),c.Mb(cn))},t.\u0275cmp=c.Gb({type:t,selectors:[["app-select-avatar"]],viewQuery:function(t,e){var n;1&t&&c.Jc(pn,!0),2&t&&c.rc(n=c.ac())&&(e.fileInput=n.first)},inputs:{initialRun:"initialRun"},decls:3,vars:0,consts:[[4,"transloco"],["avatarSelectorHelper",""],[1,"slideover-content"],["class","slideover-info",4,"ngIf","ngIfElse"],["class","btn-wrapper",4,"ngIf"],["class","file-input","type","file","accept",".jpg, .jpeg, .png",3,"change",4,"ngIf"],["clKeyboardNav","",1,"icon-ctnr",3,"ngStyle"],[4,"ngIf"],["class","icon","role","button","tabindex","0","clItem","",3,"keydown.space","keydown.Enter","click",4,"ngFor","ngForOf"],[1,"modal-medium","white",3,"visible","visibleChange"],[3,"imageChangedEvent","imageLoaded","imageCropped"],[1,"button","button-secondary",3,"click"],["resetTooltip",""],[1,"slideover-info"],[1,"btn-wrapper"],[1,"button","button-text",3,"clTooltip","clTooltipDisplay","clTooltipPersist","click","clTooltipDisplayChange"],["type","file","accept",".jpg, .jpeg, .png",1,"file-input",3,"change"],["fileInput",""],[1,"icon"],["clItem","",1,"flex-center",3,"click"],[1,"far","fa-upload"],["role","button","tabindex","0","clItem","",1,"icon",3,"keydown.space","keydown.Enter","click"],[3,"src","alt","ngClass"],[1,"cl-tooltip","confirmation"],[1,"buttons-ctnr"],[1,"button","button-default",3,"click"],[1,"button","button-danger",3,"click"],["class","selection-wrapper",4,"transloco"],[1,"selection-wrapper"],["aria-describedby","profile-label","onerror","this.src = 'assets/images/default-avatar.png'",1,"selection-img",3,"src"],["id","profile-label"]],template:function(t,e){1&t&&(c.Cc(0,yn,14,13,"ng-container",0),c.Cc(1,wn,1,0,"ng-template",null,1,c.Dc))},directives:[ct.c,i.k,vt.y,i.l,i.j,vt.A,ln.a,vt.P,vt.C,i.i],styles:["img[_ngcontent-%COMP%]{border-radius:50%;width:75px;height:75px}.file-input[_ngcontent-%COMP%]{display:none}.slideover-content[_ngcontent-%COMP%]{overflow-y:unset!important}.slideover-content[_ngcontent-%COMP%]   .slideover-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:var(--color-dark);font-size:calc(var(--font-modifier) * 13px);font-weight:600;line-height:16px}.slideover-content[_ngcontent-%COMP%]   .btn-wrapper[_ngcontent-%COMP%]{position:relative;top:-20px}.icon-ctnr[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(75px,1fr));grid-gap:20px}.icon-ctnr[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{justify-self:center;-ms-flex-item-align:center;align-self:center;cursor:pointer}.icon-ctnr[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   img.selected[_ngcontent-%COMP%]{border:4px solid #008ad7}.icon-ctnr[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:3px solid var(--color-bg-dark);width:75px;height:75px;border-radius:50%}.icon-ctnr[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{font-size:24px;color:var(--color-primary)}.icon-ctnr[_ngcontent-%COMP%]   .icon.remove[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:var(--color-danger)}button.button-secondary[_ngcontent-%COMP%]{-ms-flex-item-align:end;align-self:flex-end}image-cropper[_ngcontent-%COMP%]{margin-bottom:20px;height:100%}.selection-wrapper[_ngcontent-%COMP%]{padding:15px;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;margin-bottom:30px}.selection-wrapper[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-size:calc(var(--font-modifier)*14px);font-weight:700}.selection-wrapper[_ngcontent-%COMP%]   .selection-img[_ngcontent-%COMP%]{border-radius:50%;width:85px;height:85px;margin-right:25px}"]}),t}(),Pn=function(t){function e(e){return t.call(this,e)||this}return Object(R.c)(e,t),e.prototype.getUserNotifications=function(){return this.generateRequest("get",this.generateRequestUrl("/myNotifications/v1.0/notifications",void 0,K.a.notificationsUrl),(function(t){return t.body.notifications}))},e.prototype.readNotification=function(t){return this.generateRequest("post",this.generateRequestUrl("/myNotifications/v1.0/notifications/"+t+"/markRead",void 0,K.a.notificationsUrl),this.basicBodyMapFunction)},e.prototype.adminPasswordResetNotification=function(){return this.generateRequest("post",this.generateRequestUrl("/notification/v1.0/adminPasswordChange",void 0,K.a.notificationsUrl),this.basicBodyMapFunction)},e.\u0275fac=function(t){return new(t||e)(c.Wb(W.b))},e.\u0275prov=c.Ib({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(Z.a);function Sn(t,e){1&t&&c.Nb(0,"cl-progress-spinner",10),2&t&&c.ic("strokeWidth",5)}var On=function(t){return{autocomplete:"username",type:"text","aria-hidden":!0,tabindex:t}},Mn=function(){return{autocomplete:"current-password",id:"old-password",type:"password"}},An=function(){return{autocomplete:"new-password",id:"new-password",type:"password"}},kn=function(){return{autocomplete:"new-password",id:"confirm-password",type:"password"}};function _n(t,e){if(1&t){var n=c.Tb();c.Qb(0),c.Sb(1,"div",1),c.Nb(2,"div",2),c.Sb(3,"form"),c.Sb(4,"button",3),c.Zb("click",(function(){return c.vc(n),c.cc().savePassword()})),c.Rb(),c.Sb(5,"cl-input",4),c.Zb("valueChange",(function(t){return c.vc(n),c.cc().form.username=t})),c.Rb(),c.Sb(6,"cl-input",5),c.Zb("valueChange",(function(t){return c.vc(n),c.cc().form.oldPass=t})),c.Rb(),c.Sb(7,"cl-input",5),c.Zb("valueChange",(function(t){return c.vc(n),c.cc().form.newPass=t})),c.Rb(),c.Sb(8,"cl-input",5),c.Zb("valueChange",(function(t){return c.vc(n),c.cc().form.confirmPass=t})),c.Rb(),c.Rb(),c.Rb(),c.Sb(9,"div",6),c.Sb(10,"button",7),c.Zb("click",(function(){return c.vc(n),c.cc().helper.tabPageChanged.next(0)})),c.Ec(11),c.Rb(),c.Sb(12,"button",8),c.Zb("click",(function(){return c.vc(n),c.cc().savePassword()})),c.Cc(13,Sn,1,1,"cl-progress-spinner",9),c.Ec(14),c.Rb(),c.Rb(),c.Pb()}if(2&t){var i=e.$implicit,o=c.cc();c.Ab(2),c.ic("innerHTML",o.resetPolicy,c.wc),c.Ab(3),c.ic("value",o.form.username)("attributes",c.lc(23,On,-1)),c.Ab(1),c.ic("value",o.form.oldPass)("label",i("myProfile.general.passwordReset.oldPassword"))("showPasswordEye",!0)("attributes",c.kc(25,Mn)),c.Ab(1),c.ic("value",o.form.newPass)("label",i("myProfile.general.passwordReset.newPassword"))("showPasswordEye",!0)("attributes",c.kc(26,An)),c.Ab(1),c.ic("value",o.form.confirmPass)("label",i("myProfile.general.passwordReset.confirmPassword"))("showPasswordEye",!0)("attributes",c.kc(27,kn)),c.Ab(2),c.Bb("aria-label",i("common.goBack")),c.Ab(1),c.Fc(i("common.goBack")),c.Ab(1),c.Eb("disabled",!o.canSavePassword()||o.saving),c.ic("tabindex",!o.canSavePassword()||o.saving?-1:0),c.Bb("aria-label",i("common.save")),c.Ab(1),c.ic("ngIf",o.saving),c.Ab(1),c.Gc(" ",i("common.save")," ")}}var Rn=function(){function t(t,e,n,i,o,r,a,s){var c=this;this.helper=t,this.tmsService=e,this.nodeApi=n,this.translationHelper=i,this.sessionService=o,this.transloco=r,this.notificationsService=a,this.saving=!1,this.form={username:"",oldPass:"",newPass:"",confirmPass:""},this.subscriptions=[],this.subscriptions[0]=t.generalSettingsUpdated.subscribe((function(t){0===t.UserType&&0===t.AuthenticationType?r.selectTranslate("error.emailPasswordResetFailDetail").subscribe((function(t){return c.resetPolicy="<p>"+t+"</p>"})):c.resetPolicy=s.bypassSecurityTrustHtml(t.ResetPasswordPolicy)})),this.subscriptions[1]=o.settingsUpdated.subscribe((function(t){return c.settings=t})),this.subscriptions[2]=o.useTMSUpdated.subscribe((function(t){c.TMSSettings=t}))}return t.prototype.ngOnChanges=function(t){t.userInfo&&this.userInfo&&(this.form.username=this.userInfo.LoginId)},t.prototype.ngOnDestroy=function(){this.subscriptions.forEach((function(t){return t.unsubscribe()}))},t.prototype.canSavePassword=function(){return""!==this.form.oldPass.trim()&&""!==this.form.newPass.trim()&&""!==this.form.confirmPass.trim()},t.prototype.savePassword=function(){this.canSavePassword()&&(this.form.newPass===this.form.confirmPass?(this.saving=!0,this.userInfo.isADUser?this.checkTms():this.nodeApiReset()):this.translationHelper.translateAndAddGrowl({severity:"error",summary:"error.passwordError",detail:"error.passwordErrorDetail"}))},t.prototype.checkTms=function(){this.TMSSettings.useTMS?this.tmsReset():this.nodeApiReset()},t.prototype.tmsReset=function(){var t=this;this.tmsService.resetPassword(this.form.oldPass,this.form.newPass,0==+this.userInfo.AuthenticationType).subscribe((function(e){t.saving=!1,t.adminNotification(),t.translationHelper.translateAndAddGenericGrowl({severity:"success"},{subject:"myProfile.passwords.password",verb:"common.changed"}),t.helper.tabPageChanged.next(0)}),(function(e){t.saving=!1}))},t.prototype.nodeApiReset=function(){var t=this;this.nodeApi.resetPassword(this.form.oldPass,this.form.newPass,this.userInfo.isADUser?1:0).subscribe((function(e){if(t.saving=!1,1===e.status)t.adminNotification(),t.translationHelper.translateAndAddGenericGrowl({severity:"success"},{subject:"myProfile.passwords.password",verb:"common.changed"}),t.helper.tabPageChanged.next(0);else{if("incorrect_old_password"===e.message)return void t.translationHelper.translateAndAddGrowl({severity:"error",summary:"error.incorrectOldPassword",detail:"error.incorrectOldPasswordDetail"});if("Password reset failed."===e.message)return void t.translationHelper.translateAndAddGrowl({severity:"error",summary:"error.passwordResetFail",detail:"error.passwordResetFailDetail"});t.translationHelper.translateAndAddGrowl("Please match the requested format new password"===e.message?{severity:"error",summary:"error.emailPasswordResetFail",detail:"error.emailPasswordResetFailDetail"}:{severity:"error",summary:"error.passwordResetFail"})}}),(function(e){t.saving=!1}))},t.prototype.adminNotification=function(){this.userInfo.roleLevel<=1&&this.notificationsService.adminPasswordResetNotification().subscribe((function(t){console.log(t)}),(function(t){console.log(t)}))},t.\u0275fac=function(e){return new(e||t)(c.Mb(lt),c.Mb(we),c.Mb(l.a),c.Mb(J.a),c.Mb(A.a),c.Mb(ct.f),c.Mb(Pn),c.Mb(te.b))},t.\u0275cmp=c.Gb({type:t,selectors:[["app-password-reset"]],inputs:{userInfo:"userInfo"},features:[c.yb],decls:1,vars:0,consts:[[4,"transloco"],[1,"slideover-content"],[1,"slideover-info",3,"innerHTML"],["tabindex","-1","type","submit",1,"display-none",3,"click"],[1,"display-none",3,"value","attributes","valueChange"],[3,"value","label","showPasswordEye","attributes","valueChange"],[1,"slideover-controls"],[1,"button","button-default",3,"click"],[1,"button","button-secondary","spinner-button",3,"tabindex","click"],[3,"strokeWidth",4,"ngIf"],[3,"strokeWidth"]],template:function(t,e){1&t&&c.Cc(0,_n,15,28,"ng-container",0)},directives:[ct.c,Oe.p,Oe.j,Oe.k,vt.w,i.k,vt.F],styles:[".slideover-info[_ngcontent-%COMP%]{height:auto!important;-ms-flex-preferred-size:auto!important;flex-basis:auto!important;min-height:80px;padding:20px 50px!important}cl-input[_ngcontent-%COMP%]{height:62px;margin-bottom:20px}cl-input.hide[_ngcontent-%COMP%]{height:0;width:0}"]}),t}(),In=["*"],Tn=function(){function t(){}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=c.Gb({type:t,selectors:[["app-dropdown-menu"]],ngContentSelectors:In,decls:1,vars:0,template:function(t,e){1&t&&(c.hc(),c.gc(0))},styles:['app-dropdown-menu{position:absolute;top:0;left:0;display:-ms-flexbox;display:flex;-ms-flex-flow:column nowrap;flex-flow:column nowrap;-ms-flex-pack:start;justify-content:flex-start;-ms-flex-align:center;align-items:center;width:100%;z-index:1000;background-color:var(--color-white);padding:10px 20px;border-radius:5px;box-shadow:0 0 30px rgba(0,0,0,.25)}app-dropdown-menu>img.title-img{margin:0 0 20px;-ms-flex-item-align:end;align-self:flex-end}app-dropdown-menu .divider{width:100%;height:1px;background-color:var(--color-border-light);margin:5px 0}app-dropdown-menu .dropdown-item{display:-ms-flexbox;display:flex;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-pack:start;justify-content:flex-start;-ms-flex-align:center;align-items:center;position:relative;width:100%;font-size:calc(var(--font-modifier) * 13px);font-weight:600;padding:10px;white-space:nowrap;text-overflow:ellipsis;border-radius:5px;cursor:pointer}app-dropdown-menu .dropdown-item:after,app-dropdown-menu .dropdown-item:before{content:"";position:absolute;opacity:0;border:2px solid var(--color-primary);border-radius:5px;z-index:0;transition:all .1s ease-in-out;pointer-events:none;top:0;left:0;height:100%}app-dropdown-menu .dropdown-item:before{left:-10px;width:4px}app-dropdown-menu .dropdown-item:after{width:100%}app-dropdown-menu .dropdown-item:focus:after{-webkit-animation:pulse 2s infinite;animation:pulse 2s infinite}app-dropdown-menu .dropdown-item.active:before{opacity:1}app-dropdown-menu .dropdown-item.active,app-dropdown-menu .dropdown-item.active span.icon-ctnr>svg,app-dropdown-menu .dropdown-item.primary-color,app-dropdown-menu .dropdown-item.primary-color span.icon-ctnr>svg{color:var(--color-primary)}app-dropdown-menu .dropdown-item:hover{opacity:1;box-shadow:inset 0 0 3px var(--color-medium);color:#181818}app-dropdown-menu .dropdown-item span.icon-ctnr{width:40px;height:100%}app-dropdown-menu .dropdown-item span.icon-ctnr>svg{font-size:20px;color:var(--color-dark)}'],encapsulation:2}),t}(),En=["fileInput"],Fn=["tabpanel"],Dn=["placeholder"],Nn=["tabitem"];function Ln(t,e){if(1&t&&(c.Sb(0,"p"),c.Ec(1),c.Rb()),2&t){var n=e.item,i=c.cc().$implicit;c.Ab(1),c.Fc(i(n.label))}}function Hn(t,e){if(1&t&&(c.Sb(0,"span",16),c.Nb(1,"i"),c.Rb(),c.Ec(2)),2&t){var n=e.item,i=c.cc().$implicit;c.Ab(1),c.Cb(n.icon),c.Ab(1),c.Gc(" ",i(n.label)," ")}}function Un(t,e){if(1&t&&(c.Sb(0,"p"),c.Ec(1),c.Rb()),2&t){var n=e.item,i=c.cc(2).$implicit;c.Ab(1),c.Fc(i(n.label))}}var Bn=function(t){return{"font-size.px":t}};function jn(t,e){if(1&t&&(c.Sb(0,"span",16),c.Nb(1,"i",19),c.Rb(),c.Ec(2)),2&t){var n=e.item,i=e.index,o=c.cc(2).$implicit;c.Ab(1),c.ic("ngStyle",c.lc(2,Bn,0===i?16:1===i?20:24)),c.Ab(1),c.Gc(" ",o(n.label)," ")}}function zn(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div"),c.Sb(1,"label",17),c.Ec(2),c.Rb(),c.Sb(3,"cl-dropdown",18),c.Zb("selectionChange",(function(t){return c.vc(n),c.cc(2).selections.iconSize=t}))("selectionChange",(function(t){return c.vc(n),c.cc(2).onSelectionChange("iconSize",t)}))("click",(function(t){c.vc(n);var e=c.cc(2);return e.hideMenus(t,e.iconHandle)})),c.Cc(4,Un,2,1,"ng-template",5),c.Cc(5,jn,3,4,"ng-template",6),c.Rb(),c.Rb()}if(2&t){var i=c.cc().$implicit,o=c.cc();c.Ab(2),c.Fc(i("editBar.appSize")),c.Ab(1),c.ic("id","app-size-selection")("selection",o.selections.iconSize)("options",o.sizeOptions)("showRemove",!1)}}function Vn(t,e){if(1&t&&(c.Sb(0,"p"),c.Ec(1),c.Rb()),2&t){var n=e.item,i=c.cc(2).$implicit;c.Ab(1),c.Fc(i(n.label))}}function Gn(t,e){if(1&t&&(c.Sb(0,"span",16),c.Ec(1,"A"),c.Rb(),c.Ec(2)),2&t){var n=e.item,i=e.index,o=c.cc(2).$implicit;c.Eb("text-bg",0===i)("text-shadow",1===i),c.Ab(2),c.Gc(" ",o(n.label)," ")}}function $n(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div"),c.Sb(1,"label",20),c.Ec(2),c.Rb(),c.Sb(3,"cl-dropdown",18),c.Zb("selectionChange",(function(t){return c.vc(n),c.cc(2).selections.fontBackgroundTreatment=t}))("selectionChange",(function(t){return c.vc(n),c.cc(2).onSelectionChange("fontBackgroundTreatment",t)}))("click",(function(t){c.vc(n);var e=c.cc(2);return e.hideMenus(t,e.fontHandle)})),c.Cc(4,Vn,2,1,"ng-template",5),c.Cc(5,Gn,3,5,"ng-template",6),c.Rb(),c.Rb()}if(2&t){var i=c.cc().$implicit,o=c.cc();c.Ab(2),c.Fc(i("editBar.fontStyle")),c.Ab(1),c.ic("id","font-style-selection")("selection",o.selections.fontBackgroundTreatment)("options",o.fontStyleOptions)("showRemove",!1)}}function Zn(t,e){if(1&t&&(c.Sb(0,"div",21),c.Sb(1,"p"),c.Ec(2),c.Rb(),c.Rb()),2&t){var n=c.cc().$implicit;c.Ab(2),c.Fc(n("myProfile.themes.wizardTip"))}}function Wn(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",28),c.Zb("focus",(function(){c.vc(n);var t=e.$implicit;return c.cc(3).onColorFocus(t)}))("keydown.Enter",(function(){c.vc(n);var t=e.$implicit;return c.cc(3).onSelectionChange("paletteColor",t)}))("keydown.space",(function(){c.vc(n);var t=e.$implicit;return c.cc(3).onSelectionChange("paletteColor",t)}))("click",(function(){c.vc(n);var t=e.$implicit;return c.cc(3).onSelectionChange("paletteColor",t)})),c.Sb(1,"p",29),c.Ec(2),c.Rb(),c.Rb()}if(2&t){var i=e.$implicit,o=c.cc(3);c.Ac("background-color",i),c.Bb("tabindex",o.showPalettes?0:-1)("aria-describedby",i)("aria-label",i),c.Ab(1),c.ic("id",i),c.Ab(1),c.Fc(i)}}var qn=function(){return{"background-color":"var(--color-nav)"}};function Yn(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",9),c.Sb(1,"label",22),c.Ec(2),c.Rb(),c.Sb(3,"div",23,24),c.Zb("keydown.Enter",(function(t){c.vc(n);var e=c.cc(2);return e.hideMenus(t,e.paletteHandle),e.toggleShowPalettes()}))("keydown.space",(function(t){c.vc(n);var e=c.cc(2);return e.hideMenus(t,e.paletteHandle),e.toggleShowPalettes()}))("click",(function(t){c.vc(n);var e=c.cc(2);return e.hideMenus(t,e.paletteHandle),e.toggleShowPalettes()})),c.Sb(5,"app-dropdown-menu",25),c.Sb(6,"div",26),c.Cc(7,Wn,3,7,"div",27),c.Rb(),c.Rb(),c.Rb(),c.Rb()}if(2&t){var i=c.cc().$implicit,o=c.cc();c.Ab(2),c.Fc(i("editBar.palette")),c.Ab(1),c.ic("ngStyle",c.kc(8,qn)),c.Bb("aria-expanded",o.showPalettes),c.Ab(2),c.Eb("visible",o.showPalettes),c.Bb("aria-hidden",!o.showPalettes)("aria-activedescendant",o.focusedColor),c.Ab(2),c.ic("ngForOf",o.paletteColors)}}function Kn(t,e){1&t&&(c.Qb(0),c.Nb(1,"i",43),c.Pb())}function Qn(t,e){if(1&t&&c.Nb(0,"img",46),2&t){var n=c.cc(4);c.ic("src",n.selections.backgroundValue,c.xc)}}function Jn(t,e){if(1&t&&(c.Cc(0,Qn,1,1,"img",44),c.Sb(1,"p",45),c.Ec(2),c.Rb()),2&t){var n=c.cc(2).$implicit,i=c.cc();c.ic("ngIf","image"===i.settings.customUISettings.backgroundType),c.Ab(2),c.Fc(n("myProfile.themes.wallpaperAlt"))}}function Xn(t,e){if(1&t){var n=c.Tb();c.Sb(0,"img",50),c.Zb("keydown.Enter",(function(t){c.vc(n);var i=e.$implicit,o=c.cc(4);return t.stopPropagation(),o.onWallpaperChange("image",i.link)}))("keydown.space",(function(t){c.vc(n);var i=e.$implicit,o=c.cc(4);return t.preventDefault(),t.stopPropagation(),o.onWallpaperChange("image",i.link)}))("click",(function(){c.vc(n);var t=e.$implicit;return c.cc(4).onWallpaperChange("image",t.link)})),c.Rb()}if(2&t){var i=e.$implicit,o=c.cc(3).$implicit,r=c.cc();c.ic("src",i.display,c.xc)("alt",o("imageLabels.wallpaper."+i.key)),c.Bb("tabindex",r.showBackgrounds?0:-1)}}function ti(t,e){if(1&t&&(c.Sb(0,"div",47,48),c.Cc(2,Xn,1,3,"img",49),c.Rb()),2&t){var n=c.cc(3);c.Ab(2),c.ic("ngForOf",n.wallpapers)("ngForTrackBy",n.wallpaperTrackBy)}}function ei(t,e){if(1&t){var n=c.Tb();c.Sb(0,"input",54,55),c.Zb("change",(function(){return c.vc(n),c.cc(4).onImageUpload()})),c.Rb()}}function ni(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",56),c.Zb("keydown.enter",(function(){return c.vc(n),c.cc(4).clickInput()}))("keydown.space",(function(t){c.vc(n);var e=c.cc(4);return t.preventDefault(),e.clickInput()}))("click",(function(){return c.vc(n),c.cc(4).clickInput()})),c.Nb(1,"i",57),c.Rb()}}function ii(t,e){if(1&t){var n=c.Tb();c.Sb(0,"img",50),c.Zb("keydown.Enter",(function(t){c.vc(n);var i=e.$implicit,o=c.cc(4);return t.stopPropagation(),o.onWallpaperChange("image",i.link)}))("keydown.space",(function(t){c.vc(n);var i=e.$implicit,o=c.cc(4);return t.preventDefault(),t.stopPropagation(),o.onWallpaperChange("image",i.link)}))("click",(function(){c.vc(n);var t=e.$implicit;return c.cc(4).onWallpaperChange("image",t.link)})),c.Rb()}if(2&t){var i=e.$implicit,o=c.cc(3).$implicit,r=c.cc();c.ic("src",i.display,c.xc)("alt",o("editBar.customWallpaper")),c.Bb("tabindex",r.showBackgrounds?0:-1)}}function oi(t,e){if(1&t&&(c.Sb(0,"div",51,48),c.Cc(2,ei,2,0,"input",52),c.Cc(3,ni,2,0,"div",53),c.Cc(4,ii,1,3,"img",49),c.Rb()),2&t){var n=c.cc(3);c.Ab(2),c.ic("ngIf",n.settings.userInfo.roleLevel<=1),c.Ab(1),c.ic("ngIf",n.settings.userInfo.roleLevel<=1),c.Ab(1),c.ic("ngForOf",n.customWallpapers)("ngForTrackBy",n.wallpaperTrackBy)}}function ri(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",58,48),c.Sb(2,"span",59),c.Zb("clColorPickerChange",(function(t){return c.vc(n),c.cc(3).wallpaperColor=t}))("clColorPickerChange",(function(){return c.vc(n),c.cc(3).onColorChange()})),c.Rb(),c.Rb()}if(2&t){var i=c.cc(3);c.Ab(2),c.ic("clColorPicker",i.wallpaperColor)("cpSaveClickOutside",!1)("cpWidth","330px")("cpDialogDisplay","inline")("cpToggle",!0)("cpUseRootViewContainer",!0)}}var ai=function(t){return{"background-color":t}};function si(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",9),c.Sb(1,"label",30),c.Ec(2),c.Rb(),c.Sb(3,"div",31,24),c.Zb("keydown.Enter",(function(t){c.vc(n);var e=c.cc(2);return e.hideMenus(t,e.backgroundHandle),e.toggleShowBackgrounds()}))("keydown.space",(function(t){c.vc(n);var e=c.cc(2);return e.hideMenus(t,e.backgroundHandle),e.toggleShowBackgrounds()}))("click",(function(t){c.vc(n);var e=c.cc(2);return e.hideMenus(t,e.backgroundHandle),e.toggleShowBackgrounds()})),c.Cc(5,Kn,2,0,"ng-container",32),c.Cc(6,Jn,3,2,"ng-template",null,33,c.Dc),c.Sb(8,"app-dropdown-menu",34),c.Zb("click",(function(t){return c.vc(n),t.stopPropagation()})),c.Sb(9,"div",35),c.Sb(10,"button",36,37),c.Zb("keyup",(function(t){return c.vc(n),c.cc(2).nav(t,0)}))("keydown.tab",(function(){return c.vc(n),c.cc(2).focusPanel()}))("keydown.Enter",(function(){return c.vc(n),c.cc(2).wallpaperTab=0}))("keydown.Space",(function(){return c.vc(n),c.cc(2).wallpaperTab=0}))("click",(function(){return c.vc(n),c.cc(2).wallpaperTab=0})),c.Ec(12),c.Rb(),c.Sb(13,"button",38,37),c.Zb("keyup",(function(t){return c.vc(n),c.cc(2).nav(t,1)}))("keydown.tab",(function(){return c.vc(n),c.cc(2).focusPanel()}))("keydown.Enter",(function(){return c.vc(n),c.cc(2).wallpaperTab=1}))("keydown.Space",(function(){return c.vc(n),c.cc(2).wallpaperTab=1}))("click",(function(){return c.vc(n),c.cc(2).wallpaperTab=1})),c.Ec(15),c.Rb(),c.Sb(16,"button",39,37),c.Zb("keyup",(function(t){return c.vc(n),c.cc(2).nav(t,2)}))("keydown.tab",(function(){return c.vc(n),c.cc(2).focusPanel()}))("keydown.Enter",(function(){return c.vc(n),c.cc(2).wallpaperTab=2}))("keydown.Space",(function(){return c.vc(n),c.cc(2).wallpaperTab=2}))("click",(function(){return c.vc(n),c.cc(2).wallpaperTab=2})),c.Ec(18),c.Rb(),c.Rb(),c.Cc(19,ti,3,2,"div",40),c.Cc(20,oi,5,4,"div",41),c.Cc(21,ri,3,6,"div",42),c.Rb(),c.Rb(),c.Rb()}if(2&t){var i=c.sc(7),o=c.cc().$implicit,r=c.cc();c.Ab(2),c.Fc(o("editBar.customWallpaper")),c.Ab(1),c.ic("ngStyle",c.lc(23,ai,"color"===r.settings.customUISettings.backgroundType?r.wallpaperColor:"")),c.Bb("aria-expanded",r.showBackgrounds),c.Ab(2),c.ic("ngIf",!r.selections.backgroundValue)("ngIfElse",i),c.Ab(3),c.Eb("visible",r.showBackgrounds),c.Bb("aria-hidden",!r.showBackgrounds),c.Ab(2),c.Eb("active",0===r.wallpaperTab),c.Bb("aria-selected",0===r.wallpaperTab),c.Ab(2),c.Gc(" ",o("editBar.default")," "),c.Ab(1),c.Eb("active",1===r.wallpaperTab),c.Bb("aria-selected",1===r.wallpaperTab),c.Ab(2),c.Gc(" ",o("editBar.custom")," "),c.Ab(1),c.Eb("active",2===r.wallpaperTab),c.Bb("aria-selected",2===r.wallpaperTab),c.Ab(2),c.Gc(" ",o("editBar.color")," "),c.Ab(1),c.ic("ngIf",0===r.wallpaperTab),c.Ab(1),c.ic("ngIf",1===r.wallpaperTab),c.Ab(1),c.ic("ngIf",2===r.wallpaperTab)}}var ci=function(t){return{disabled:t}};function li(t,e){if(1&t){var n=c.Tb();c.Qb(0),c.Sb(1,"div",1),c.Sb(2,"div",2),c.Sb(3,"div"),c.Sb(4,"label",3),c.Ec(5),c.Rb(),c.Sb(6,"cl-dropdown",4),c.Zb("selectionChange",(function(t){return c.vc(n),c.cc().selections.theme=t}))("selectionChange",(function(t){return c.vc(n),c.cc().onSelectionChange("theme",t)}))("click",(function(t){c.vc(n);var e=c.cc();return e.hideMenus(t,e.themeHandle)})),c.Cc(7,Ln,2,1,"ng-template",5),c.Cc(8,Hn,3,3,"ng-template",6),c.Rb(),c.Rb(),c.Cc(9,zn,6,5,"div",7),c.Cc(10,$n,6,5,"div",7),c.Cc(11,Zn,3,1,"ng-template",null,8,c.Dc),c.Sb(13,"div",9),c.Sb(14,"cl-slide-toggle",10),c.Zb("toggledChange",(function(t){return c.vc(n),c.cc().selections.highContrast=t}))("toggledChange",(function(t){return c.vc(n),c.cc().onSelectionChange("highContrastSelected",t)})),c.Ec(15),c.Rb(),c.Rb(),c.Sb(16,"div",11),c.Sb(17,"cl-slide-toggle",10),c.Zb("toggledChange",(function(t){return c.vc(n),c.cc().selections.showFirstTime=t}))("toggledChange",(function(t){return c.vc(n),c.cc().onSelectionChange("showFirstTime",t)})),c.Ec(18),c.Rb(),c.Rb(),c.Cc(19,Yn,8,9,"div",12),c.Cc(20,si,22,25,"div",12),c.Rb(),c.Sb(21,"div",13),c.Sb(22,"label"),c.Ec(23),c.Rb(),c.Sb(24,"div",14),c.Nb(25,"application",15),c.Rb(),c.Rb(),c.Rb(),c.Pb()}if(2&t){var i=e.$implicit,o=c.sc(12),r=c.cc();c.Ab(5),c.Fc(i("editBar.theme")),c.Ab(1),c.ic("id","theme-selection")("selection",r.selections.theme)("options",r.themeOptions)("showRemove",!1)("ngClass",c.lc(19,ci,!r.settings.userInfo.canSetTheme)),c.Ab(3),c.ic("ngIf",r.selections.theme!==r.Themes.Primary),c.Ab(1),c.ic("ngIf",r.selections.theme===r.Themes.Default),c.Ab(4),c.ic("id","high-contrast-toggle")("toggled",r.selections.highContrast),c.Ab(1),c.Fc(i("header.highContrast")),c.Ab(1),c.ic("clTooltip",o),c.Ab(1),c.ic("id","show-wizard-toggle")("toggled",r.selections.showFirstTime),c.Ab(1),c.Fc(i("myProfile.themes.showWizard")),c.Ab(1),c.ic("ngIf",r.selections.theme!==r.Themes.Primary),c.Ab(1),c.ic("ngIf",r.desktopSettings&&r.desktopSettings.is_allow_change_wallpaper&&r.selections.theme===r.Themes.Default),c.Ab(3),c.Fc(i("myProfile.themes.preview")),c.Ab(2),c.ic("app",r.exampleApp)}}var pi=function(){function t(t,e,n,i,o,r,a,s,c,l,p){var u=this;this.sessionService=t,this.settingsService=e,this.nodeApi=n,this.menuHelper=i,this.settingsHelper=o,this.layoutService=r,this.translationHelper=a,this.renderer=s,this.viewContainerRef=c,this.cdr=l,this.translocoService=p,this.Themes=pt.a,this.exampleApp={name:"Application Name",icon:K.a.coreCDN+"/assets/images/default-app-icon.png"},this.selections={theme:1,iconSize:"",fontBackgroundTreatment:"",showFirstTime:!1,highContrast:!1,paletteColor:"",backgroundValue:""},this.themeOptions=[{label:"editBar.classic",value:1,icon:"far fa-user"},{label:"editBar.primary",value:2,icon:"far fa-child"},{label:"editBar.professional",value:3,icon:"far fa-user-tie"}],this.sizeOptions=[{label:"editBar.small",value:"small"},{label:"editBar.default",value:"medium"},{label:"editBar.large",value:"large"}],this.fontStyleOptions=[{label:"editBar.textBackground",value:"solid-block"},{label:"editBar.textShadow",value:"text-shadow"}],this.paletteColors=["#0054FF","#00D796","#2BA700","#B1AA00","#D78100","#D72700","#D7005A","#D300D7","#7800D7","#5A32FB","#081163","#062638","#082B1F","#24230B","#2C0D06","#434343","#313131","#171717"],this.wallpaperTab=0,this.showPalettes=!1,this.showBackgrounds=!1,this.focusedColor="",this.subscriptions=[],this.subscriptions[0]=t.settingsUpdated.subscribe((function(t){return u.onSettingsUpdate(t)})),this.subscriptions[1]=o.desktopSettingsUpdated.subscribe((function(t){return u.desktopSettings=t})),this.subscriptions[2]=r.documentClicked.subscribe((function(){return u.menuHelper.closeAllMenus()})),this.subscriptions[3]=r.windowResized.subscribe((function(){return u.onWindowResize()})),this.subscriptions[4]=t.gwsTokenSet.subscribe((function(){return u.getAllWallpapers()})),this.paletteHandle=this.menuHelper.registerMenu((function(){return u.showPalettes=!1})),this.backgroundHandle=this.menuHelper.registerMenu((function(){return u.showBackgrounds=!1})),this.exampleApp.name=p.translate("apps.appName")}return t.prototype.ngAfterViewInit=function(){var t=this;this.backgroundElement=document.querySelector("#background-container"),this.subscriptions[5]=this.dropdowns.changes.subscribe((function(e){t.onDropdownUpdate()})),this.onDropdownUpdate(),this.onWindowResize()},t.prototype.ngOnDestroy=function(){this.subscriptions.forEach((function(t){return t.unsubscribe()})),this.wallpaperTimer&&this.wallpaperTimer.unsubscribe()},t.prototype.onDropdownUpdate=function(){var t=this.dropdowns.toArray();t[0]&&(this.menuHelper.unregisterMenu(this.themeHandle),this.themeHandle=this.menuHelper.registerMenu((function(){return t[0].hideDropdown()}))),t[1]&&(this.menuHelper.unregisterMenu(this.iconHandle),this.iconHandle=this.menuHelper.registerMenu((function(){return t[1].hideDropdown()}))),t[2]&&(this.menuHelper.unregisterMenu(this.fontHandle),this.fontHandle=this.menuHelper.registerMenu((function(){return t[2].hideDropdown()}))),t[3]&&(this.menuHelper.unregisterMenu(this.wizardHandle),this.wizardHandle=this.menuHelper.registerMenu((function(){return t[3].hideDropdown()}))),this.cdr.detectChanges()},t.prototype.onWindowResize=function(){},t.prototype.getAllWallpapers=function(){var t=this;this.nodeApi.getWallpaperLinks().subscribe((function(e){return t.wallpapers=e})),this.nodeApi.getCustomWallpaperLinks().subscribe((function(e){return t.customWallpapers=e}))},t.prototype.onSettingsUpdate=function(t){this.settings=t;var e=t.customUISettings;this.selections.theme=e.theme,this.selections.iconSize=e.iconSize,this.selections.showFirstTime=e.showFirstTime,this.selections.fontBackgroundTreatment=e.fontBackgroundTreatment,this.selections.paletteColor=e.paletteColor,this.selections.backgroundValue=e.backgroundValue,this.selections.highContrast=e.highContrastSelected,"color"===e.backgroundType&&(this.wallpaperColor=e.backgroundValue)},t.prototype.onWallpaperChange=function(t,e){this.settings.customUISettings.backgroundType=t,this.onSelectionChange("backgroundValue",e)},t.prototype.onSelectionChange=function(t,e){"theme"===t&&e!==this.settings.customUISettings.theme&&this.settingsHelper.themeUpdated.next(e),this.settings.customUISettings[t]=e,this.sessionService.setSettings(this.settings),this.settingsService.setSettings(this.settings).subscribe((function(t){}))},t.prototype.onColorChange=function(){var t=this;this.settings.customUISettings.backgroundType="color",this.renderer.setStyle(this.backgroundElement,"background-color",this.wallpaperColor),this.wallpaperTimer&&this.wallpaperTimer.unsubscribe(),this.wallpaperTimer=Object(u.a)(200).subscribe((function(){t.onSelectionChange("backgroundValue",t.wallpaperColor)}))},t.prototype.hideMenus=function(t,e){t.stopPropagation(),this.menuHelper.closeAllOtherMenus(e)},t.prototype.toggleShowPalettes=function(){this.showPalettes=!this.showPalettes},t.prototype.toggleShowBackgrounds=function(){this.showBackgrounds=!this.showBackgrounds},t.prototype.wallpaperTrackBy=function(t,e){return e.link},t.prototype.clickInput=function(){this.fileInput.nativeElement.click()},t.prototype.onImageUpload=function(){var t=this,e=this.settingsHelper.onImageUpload(this.fileInput.nativeElement);e&&e.subscribe((function(e){return t.customWallpapers=e}))},t.prototype.onColorFocus=function(t){this.focusedColor=t},t.prototype.nav=function(t,e){var n,i=this.tabElements.toArray();if("ArrowRight"===t.key)n=e===i.length-1?0:e+1;else{if("ArrowLeft"!==t.key)return;n=0===e?i.length-1:e-1}i[e].nativeElement.tabIndex="-1",i[n].nativeElement.tabIndex="0",i[n].nativeElement.focus()},t.prototype.focusPanel=function(){for(var t=this.tabElements.toArray(),e=0;e<t.length;e++)t[e].nativeElement.tabIndex=e===this.wallpaperTab?0:-1;this.tabPanel.nativeElement.focus()},t.\u0275fac=function(e){return new(e||t)(c.Mb(A.a),c.Mb(xe.a),c.Mb(l.a),c.Mb(gt),c.Mb(M.a),c.Mb(vt.z),c.Mb(J.a),c.Mb(c.E),c.Mb(c.P),c.Mb(c.h),c.Mb(ct.f))},t.\u0275cmp=c.Gb({type:t,selectors:[["app-themes-tab"]],viewQuery:function(t,e){var n;1&t&&(c.Jc(En,!0),c.Jc(Fn,!0),c.Jc(Dn,!0),c.Jc(Tn,!0,c.l),c.Jc(vt.n,!0),c.Jc(Nn,!0)),2&t&&(c.rc(n=c.ac())&&(e.fileInput=n.first),c.rc(n=c.ac())&&(e.tabPanel=n.first),c.rc(n=c.ac())&&(e.placeholders=n),c.rc(n=c.ac())&&(e.dropdownMenus=n),c.rc(n=c.ac())&&(e.dropdowns=n),c.rc(n=c.ac())&&(e.tabElements=n))},decls:1,vars:0,consts:[[4,"transloco"],[1,"slideover-content","row-nowrap"],[1,"options","flex-start","column-nowrap"],["for","theme-selection"],[3,"id","selection","options","showRemove","ngClass","selectionChange","click"],["clTemplate","selectedItem"],["clTemplate","item"],[4,"ngIf"],["wizardTooltip",""],[1,"auto-width"],[3,"id","toggled","toggledChange"],[1,"auto-width",3,"clTooltip"],["class","auto-width",4,"ngIf"],[1,"example","flex-start","column-nowrap"],[1,"background-ctnr","flex-center"],[1,"cl-app",3,"app"],[1,"icon-ctnr"],["for","app-size-selection"],[3,"id","selection","options","showRemove","selectionChange","click"],[1,"far","fa-square",3,"ngStyle"],["for","font-style-selection"],[1,"cl-tooltip"],["id","palette-label","for","palette-selection"],["role","button","tabindex","0","id","palette-selection","aria-haspopup","true","aria-labelledby","palette-label",1,"placeholder","flex-center",3,"ngStyle","keydown.Enter","keydown.space","click"],["placeholder",""],["aria-labelledby","palette-label","aria-orientation","horizontal","tabindex","-1","role","menu",1,"palette"],[1,"color-ctnr","flex-start"],["role","button menuitem","class","color cl-focusable",3,"background-color","focus","keydown.Enter","keydown.space","click",4,"ngFor","ngForOf"],["role","button menuitem",1,"color","cl-focusable",3,"focus","keydown.Enter","keydown.space","click"],[1,"off-screen",3,"id"],["id","wallpaper-label","for","wallpaper-selection"],["role","button","tabindex","0","aria-describedby","wallpaperAltText","id","wallpaper-selection",1,"placeholder","flex-center",3,"ngStyle","keydown.Enter","keydown.space","click"],[4,"ngIf","ngIfElse"],["bg",""],["aria-orientation","horizontal","aria-labelledby","wallpaper-label",1,"wallpaper","bottom",3,"click"],["role","tablist","aria-labelledby","wallpaper-label",1,"tabs","flex-start-center"],["role","tab","id","defaultTab","clItem","","tabindex","0","aria-controls","defaultWallpaper",3,"keyup","keydown.tab","keydown.Enter","keydown.Space","click"],["tabitem",""],["role","tab","id","customTab","clItem","","tabindex","-1","aria-controls","customWallpaper",3,"keyup","keydown.tab","keydown.Enter","keydown.Space","click"],["role","tab","id","colorTab","clItem","","tabindex","-1","aria-controls","colorWallpaper",3,"keyup","keydown.tab","keydown.Enter","keydown.Space","click"],["class","wallpaper flex-start custom-scroll","role","tabpanel","id","defaultWallpaper","aria-labelledby","defaultTab",4,"ngIf"],["class","wallpaper flex-start custom-scroll","role","tabpanel","id","customWallpaper","aria-labelledby","customTab",4,"ngIf"],["role","tabpanel","id","colorWallpaper","aria-labelledby","colorTab",4,"ngIf"],[1,"fas","fa-image"],["alt","","onerror","this.src = 'assets/images/default-background.png'",3,"src",4,"ngIf"],["id","wallpaperAltText",1,"off-screen"],["alt","","onerror","this.src = 'assets/images/default-background.png'",3,"src"],["role","tabpanel","id","defaultWallpaper","aria-labelledby","defaultTab",1,"wallpaper","flex-start","custom-scroll"],["tabpanel",""],["role","button",3,"src","alt","keydown.Enter","keydown.space","click",4,"ngFor","ngForOf","ngForTrackBy"],["role","button",3,"src","alt","keydown.Enter","keydown.space","click"],["role","tabpanel","id","customWallpaper","aria-labelledby","customTab",1,"wallpaper","flex-start","custom-scroll"],["type","file","accept",".jpg, .jpeg, .png",3,"change",4,"ngIf"],["role","button","tabindex","0","class","upload-placeholder flex-center",3,"keydown.enter","keydown.space","click",4,"ngIf"],["type","file","accept",".jpg, .jpeg, .png",3,"change"],["fileInput",""],["role","button","tabindex","0",1,"upload-placeholder","flex-center",3,"keydown.enter","keydown.space","click"],[1,"far","fa-plus"],["role","tabpanel","id","colorWallpaper","aria-labelledby","colorTab"],[1,"inline-picker",3,"clColorPicker","cpSaveClickOutside","cpWidth","cpDialogDisplay","cpToggle","cpUseRootViewContainer","clColorPickerChange"]],template:function(t,e){1&t&&c.Cc(0,li,26,21,"ng-container",0)},directives:[ct.c,vt.n,i.i,vt.c,i.k,vt.J,vt.P,Bt,i.l,Tn,i.j,vt.C,vt.g],styles:[".slideover-content[_ngcontent-%COMP%]{height:100%}.options[_ngcontent-%COMP%]{width:calc(50% - 10px);margin-right:10px}.options[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-flow:column nowrap;flex-flow:column nowrap;width:100%;margin-bottom:20px}.options[_ngcontent-%COMP%] > div.auto-width[_ngcontent-%COMP%]{width:auto}.options[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:calc(var(--font-modifier) * 13px);margin-bottom:5px}.options[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   cl-dropdown[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;width:100%}.example[_ngcontent-%COMP%]{width:calc(50% - 10px);margin-left:10px;padding-left:20px}.example[_ngcontent-%COMP%]   .background-ctnr[_ngcontent-%COMP%]{background-color:var(--color-bg-dark);padding:10px 30px 30px}.item.selected[_ngcontent-%COMP%]   .icon-ctnr.text-bg[_ngcontent-%COMP%]{background-color:var(--color-primary)}.icon-ctnr[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center;margin-right:10px;width:25px;font-size:calc(var(--font-modifier) * 20px)}.placeholder[_ngcontent-%COMP%]{position:relative;width:232px;height:130.5px;background-color:var(--color-bg-dark);border-radius:5px;cursor:pointer;z-index:auto}.placeholder[_ngcontent-%COMP%]:hover{opacity:1}.placeholder[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{height:100%;width:100%;border-radius:5px}.placeholder[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{font-size:30px;opacity:.3}app-dropdown-menu[_ngcontent-%COMP%]{display:none;top:100%;cursor:auto}app-dropdown-menu.visible[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;opacity:1;pointer-events:all}app-dropdown-menu.bottom[_ngcontent-%COMP%]{top:unset;bottom:100%}.off-screen[_ngcontent-%COMP%]{position:absolute;left:-10000px;top:auto;width:1px;height:1px;overflow:hidden}"]}),t}();function ui(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",6),c.Sb(1,"img",7),c.Zb("error",(function(t){return c.vc(n),c.cc(2).handleImage(t)})),c.Rb(),c.Rb(),c.Sb(2,"div",8),c.Sb(3,"p",9),c.Ec(4),c.Rb(),c.Sb(5,"p"),c.Ec(6),c.Rb(),c.Rb()}if(2&t){var i=e.row;c.Ab(1),c.ic("src",i.defaultUrl,c.xc),c.Ab(3),c.Fc(i.appName),c.Ab(2),c.Fc(i.appDescription)}}var di=function(t,e){return{"color-success":t,"color-danger":e}};function bi(t,e){if(1&t&&(c.Sb(0,"p",10),c.Ec(1),c.Rb()),2&t){var n=e.row,i=c.cc().$implicit;c.ic("ngClass",c.mc(2,di,n.lockerStatus,!n.lockerStatus)),c.Ab(1),c.Fc(i(n.lockerStatus?"myProfile.passwords.set":"myProfile.passwords.notSet"))}}var gi=function(t){return{app:t}};function fi(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",11),c.Sb(1,"button",12),c.Zb("click",(function(){c.vc(n);var t=e.row;return c.cc(2).openLocker(t)})),c.Nb(2,"i",13),c.Rb(),c.Rb()}if(2&t){var i=e.row,o=c.cc().$implicit;c.Ab(1),c.Bb("aria-label",o("myProfile.passwords.editLabel",c.lc(1,gi,i.appName)))}}function hi(t,e){if(1&t){var n=c.Tb();c.Qb(0),c.Sb(1,"div",1),c.Sb(2,"cl-data-table",2),c.Zb("pageEvent",(function(t){return c.vc(n),c.cc().onPage(t)}))("filterEvent",(function(t){return c.vc(n),c.cc().onFilter(t)})),c.Cc(3,ui,7,3,"ng-template",3),c.Cc(4,bi,2,5,"ng-template",4),c.Cc(5,fi,3,3,"ng-template",5),c.Rb(),c.Rb(),c.Pb()}if(2&t){var i=c.cc();c.Ab(2),c.ic("data",i.data)("dataFields",i.fields)("length",i.length)("filterable",!0)}}var mi=function(){function t(t,e,n,i){this.nodeApi=t,this.appsService=e,this.helper=n,this.translationService=i,this.fields=[{header:"App Name",fieldName:"appName",canFilter:!0,template:{name:"col1"}},{header:"Status",fieldName:"",columnWidth:20,minWidth:100,template:{name:"col2"}},{header:"",fieldName:"",columnWidth:5,minWidth:25,template:{name:"buttons"}}],this.length=0,this.filters={offset:0,limit:25,search:""},this.fields[0].header=i.translate("apps.appName"),this.fields[1].header=i.translate("myProfile.passwords.status")}return t.prototype.ngOnInit=function(){this.getPasswordApps()},t.prototype.getPasswordApps=function(){var t=this;this.appsService.getPasswordLockerApps(this.filters).subscribe((function(e){t.data=e.apps,t.length=e.count}))},t.prototype.onPage=function(t){this.filters.offset=t.pageIndex*t.pageSize,this.filters.limit=t.pageSize,this.getPasswordApps()},t.prototype.onFilter=function(t){this.filters.search=t[0]?t[0].filterValue:"",this.getPasswordApps()},t.prototype.openLocker=function(t){var e=15===t.appType?1:3;this.helper.passwordLockerAppSelected.next(t),this.helper.tabPageChanged.next(e)},t.prototype.handleImage=function(t){t.target.src=K.a.coreCDN+"/assets/images/default-app-icon.png"},t.\u0275fac=function(e){return new(e||t)(c.Mb(l.a),c.Mb($.a),c.Mb(lt),c.Mb(ct.f))},t.\u0275cmp=c.Gb({type:t,selectors:[["app-passwords-tab"]],decls:1,vars:0,consts:[[4,"transloco"],[1,"slideover-content"],[3,"data","dataFields","length","filterable","pageEvent","filterEvent"],["clTemplate","col1"],["clTemplate","col2"],["clTemplate","buttons"],[1,"img-border","application","flex-center"],["alt","",3,"src","error"],[1,"flex-start","column-nowrap"],[1,"app-name"],[1,"heavier",3,"ngClass"],[1,"flex-end-center","edit-ctnr"],[1,"edit",3,"click"],[1,"far","fa-edit"]],template:function(t,e){1&t&&c.Cc(0,hi,6,4,"ng-container",0)},directives:[ct.c,vt.j,vt.c,i.i],styles:['.edit-ctnr[_ngcontent-%COMP%]{width:100%}.edit-ctnr[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:0}.edit-ctnr[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:var(--color-primary);font-size:20px}p.heavier[_ngcontent-%COMP%]{font-weight:600}div.img-border.application.flex-center[_ngcontent-%COMP%]{position:relative;margin-right:15px;height:50px;width:50px;-ms-flex:0 0 50px;flex:0 0 50px;min-width:50px;min-height:50px;filter:drop-shadow(5px 5px 5px var(--color-medium))}div.img-border.application.flex-center[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:47px;height:47px;-webkit-clip-path:url(#squareCircle);clip-path:url(#squareCircle)}div.img-border.application.flex-center[_ngcontent-%COMP%]:before{content:"";position:absolute;top:3px;left:3px;width:calc(100% - 6px);height:calc(100% - 6px);border-radius:20px;box-shadow:0 0 10px rgba(0,0,0,.2)}div.flex-start.column-nowrap[_ngcontent-%COMP%]   .app-name[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;text-align:center;font-size:calc(var(--font-modifier) * 13px);font-weight:600}div.flex-start.column-nowrap[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:calc(var(--font-modifier) * 12px);font-weight:400;letter-spacing:0;word-spacing:0}']}),t}(),vi=n("l5mm"),yi=n("1G5W");function Ci(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",6),c.Sb(1,"button",7),c.Zb("click",(function(){c.vc(n);var t=e.row;return c.cc(2).editLocker(t)})),c.Nb(2,"i",8),c.Rb(),c.Sb(3,"button",9),c.Zb("clTooltipDisplayChange",(function(){return c.vc(n),c.cc(2).activeLockerIndex=void 0}))("click",(function(){c.vc(n);var t=e.rowIndex;return c.cc(2).activeLockerIndex=t})),c.Nb(4,"i",10),c.Rb(),c.Rb()}if(2&t){var i=e.row,o=e.rowIndex,r=c.cc().$implicit,a=c.sc(10),s=c.cc();c.Ab(1),c.Bb("aria-label",r("myProfile.passwords.editLabel")),c.Ab(2),c.ic("clTooltip",a)("clTooltipContext",i)("clTooltipDirection","left")("clTooltipPersist",!0)("clTooltipDisplay",s.activeLockerIndex===o),c.Bb("aria-label",r("common.delete"))}}function wi(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",11),c.Sb(1,"h4"),c.Ec(2),c.Rb(),c.Sb(3,"p"),c.Ec(4),c.Rb(),c.Sb(5,"div",12),c.Sb(6,"button",13),c.Zb("click",(function(){return c.vc(n),c.cc(2).activeLockerIndex=void 0})),c.Ec(7),c.Rb(),c.Sb(8,"button",14),c.Zb("click",(function(){c.vc(n);var t=e.$implicit;return c.cc(2).deleteLocker(t)})),c.Ec(9),c.Rb(),c.Rb(),c.Rb()}if(2&t){var i=c.cc().$implicit;c.Ab(2),c.Fc(i("myProfile.passwords.deleteLocker")),c.Ab(2),c.Fc(i("myProfile.passwords.deleteDescription")),c.Ab(3),c.Fc(i("common.no")),c.Ab(2),c.Fc(i("common.yes"))}}function xi(t,e){if(1&t){var n=c.Tb();c.Qb(0),c.Sb(1,"div",1),c.Sb(2,"button",2),c.Zb("click",(function(){return c.vc(n),c.cc().addLocker()})),c.Ec(3),c.Rb(),c.Sb(4,"h3"),c.Ec(5),c.dc(6,"uppercase"),c.Rb(),c.Sb(7,"cl-data-table",3),c.Zb("filterEvent",(function(t){return c.vc(n),c.cc().onFilter(t)})),c.Cc(8,Ci,5,7,"ng-template",4),c.Cc(9,wi,10,4,"ng-template",null,5,c.Dc),c.Rb(),c.Rb(),c.Pb()}if(2&t){var i=e.$implicit,o=c.cc();c.Ab(2),c.Bb("aria-label",i("myProfile.passwords.addLocker")),c.Ab(1),c.Fc(i("myProfile.passwords.addLocker")),c.Ab(2),c.Fc(c.ec(6,8,i("myProfile.passwords.locker"))),c.Ab(2),c.ic("data",o.data)("dataFields",o.fields)("trackByFn",o.trackByFn)("filterable",!0)("length",o.length)}}var Pi=function(){function t(t,e,n,i){var o=this;this.nodeApi=t,this.helper=e,this.translationService=n,this.translationHelper=i,this.fields=[{fieldName:"name",header:"",columnWidth:90,canSort:!1,canFilter:!0},{fieldName:"",header:"",minWidth:100,template:{name:"buttons"}}],this.length=0,this.filters={offset:0,limit:25,term:""},this.subscriptions=[],this.subscriptions[0]=this.helper.passwordLockerAppSelected.subscribe((function(t){o.activeAppId=t?o.helper.isPasswordLockerApp(t)?t.appId:t.id:void 0;var e=o.helper.isPasswordLockerApp(t)?t.appName:t.name;o.getLockers();var n=o.translationService.translate("myProfile.passwords.passwordsTitle",{name:e});o.helper.titleUpdated.next(n)}))}return t.prototype.ngOnDestroy=function(){this.subscriptions.forEach((function(t){return t.unsubscribe()}))},t.prototype.retryGetLockers=function(){var t=this;this.getLockers();var e=Object(vi.a)(1e3),n=Object(u.a)(3e3);e.pipe(Object(yi.a)(n)).subscribe((function(){return t.getLockers()}))},t.prototype.getLockers=function(){var t=this;this.nodeApi.getLockersForApp(this.activeAppId,this.filters).subscribe((function(e){t.length=e.count,t.data=e.lockers,t.selectors=e.selectors,t.canShowPassword=e.canShowPassword}))},t.prototype.onFilter=function(t){this.filters.term=t[0]?t[0].filterValue:"",this.getLockers()},t.prototype.trackByFn=function(t,e){return e.id},t.prototype.addLocker=function(){this.helper.lockerSelected.next({canShowPassword:this.canShowPassword,selectors:this.selectors,locker:void 0}),this.helper.tabPageChanged.next(2)},t.prototype.editLocker=function(t){this.helper.lockerSelected.next({canShowPassword:this.canShowPassword,selectors:this.selectors,locker:t}),this.helper.tabPageChanged.next(2)},t.prototype.deleteLocker=function(t){var e=this;this.nodeApi.deleteLockerForApp(this.activeAppId,t.id).subscribe((function(t){e.translationHelper.translateAndAddGenericGrowl({severity:"success"},{subject:"myProfile.passwords.locker",verb:"common.deleted"}),e.retryGetLockers()}))},t.\u0275fac=function(e){return new(e||t)(c.Mb(l.a),c.Mb(lt),c.Mb(ct.f),c.Mb(J.a))},t.\u0275cmp=c.Gb({type:t,selectors:[["app-app-locker-list"]],decls:1,vars:0,consts:[[4,"transloco"],[1,"slideover-content"],[1,"button-text",3,"click"],[3,"data","dataFields","trackByFn","filterable","length","filterEvent"],["clTemplate","buttons"],["tooltip",""],[1,"buttons","flex-end-center"],[1,"edit",3,"click"],[1,"far","fa-edit"],[1,"delete",3,"clTooltip","clTooltipContext","clTooltipDirection","clTooltipPersist","clTooltipDisplay","clTooltipDisplayChange","click"],[1,"far","fa-times"],[1,"cl-tooltip","confirmation"],[1,"buttons-ctnr"],[1,"button","button-default",3,"click"],[1,"button","button-default","text-danger",3,"click"]],template:function(t,e){1&t&&c.Cc(0,xi,11,10,"ng-container",0)},directives:[ct.c,vt.j,vt.c,vt.P],pipes:[i.r],styles:[".button-text[_ngcontent-%COMP%]{margin-bottom:40px;padding-left:0;-ms-flex-item-align:start;align-self:flex-start}.buttons[_ngcontent-%COMP%]{width:100%}.buttons[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{font-size:20px;width:20px}.buttons[_ngcontent-%COMP%]   .edit[_ngcontent-%COMP%]{color:var(--color-primary)}.buttons[_ngcontent-%COMP%]   .delete[_ngcontent-%COMP%]{color:var(--color-danger)}.row-modal[_ngcontent-%COMP%]{margin-top:105px;margin-left:20px}"]}),t}(),Si=n("Jlc5"),Oi=n.n(Si),Mi=n("O7iK"),Ai=n.n(Mi),ki=function(t,e,n){return{"aria-label":t,required:!0,type:e,autocomplete:n}};function _i(t,e){if(1&t){var n=c.Tb();c.Sb(0,"cl-input",12),c.Zb("valueChange",(function(t){return c.vc(n),e.$implicit.value=t})),c.Rb()}if(2&t){var i=e.$implicit,o=c.cc(2);c.ic("value",i.value)("label",i.label)("attributes",c.nc(4,ki,i.label,i.type,"password"===i.type?"current-password":i.label.toLocaleLowerCase()))("showPasswordEye","password"===i.type&&o.canShowPassword)}}var Ri=function(t){return{required:!0,type:"text","aria-label":t}},Ii=function(t){return{type:"text","aria-label":t}};function Ti(t,e){if(1&t){var n=c.Tb();c.Qb(0),c.Sb(1,"div",1),c.Sb(2,"cl-input",2),c.Zb("valueChange",(function(t){return c.vc(n),c.cc().form.title=t})),c.Rb(),c.Sb(3,"cl-input",3),c.Zb("valueChange",(function(t){return c.vc(n),c.cc().form.url=t})),c.Rb(),c.Sb(4,"h3"),c.Ec(5),c.Rb(),c.Nb(6,"input",4),c.Nb(7,"input",5),c.Nb(8,"input",6),c.Nb(9,"input",7),c.Cc(10,_i,1,8,"cl-input",8),c.Rb(),c.Sb(11,"div",9),c.Sb(12,"button",10),c.Zb("click",(function(){return c.vc(n),c.cc().helper.tabPageChanged.next(1)})),c.Ec(13),c.Rb(),c.Sb(14,"button",11),c.Zb("click",(function(){return c.vc(n),c.cc().saveLocker()})),c.Ec(15),c.Rb(),c.Rb(),c.Pb()}if(2&t){var i=e.$implicit,o=c.cc();c.Ab(2),c.ic("value",o.form.title)("label",i("myProfile.passwords.lockerName"))("attributes",c.lc(13,Ri,i("myProfile.passwords.lockerName"))),c.Ab(1),c.ic("value",o.form.url)("label",i("myProfile.passwords.urlLabel"))("inputValidator",o.isValidUrl.bind(o))("attributes",c.lc(15,Ii,i("myProfile.passwords.urlLabel"))),c.Ab(2),c.Fc(i("myProfile.passwords.credentials")),c.Ab(5),c.ic("ngForOf",o.form.credentials),c.Ab(3),c.Fc(i("common.goBack")),c.Ab(1),c.ic("disabled",!o.canSaveLocker())("tabindex",o.canSaveLocker()?0:-1),c.Ab(1),c.Fc(i("common.save"))}}var Ei=function(){function t(t,e,n,i,o){var r=this;this.nodeApi=t,this.helper=e,this.translationHelper=n,this.translationService=i,this.sessionservice=o,this.canShowPassword=!1,this.form={title:"",url:"",credentials:[]},this.subscriptions=[],this.userInfo=this.sessionservice.getUserInfo(),this.subscriptions[0]=this.helper.lockerSelected.subscribe((function(t){r.activeLocker=t.locker?t.locker:{id:0,lpapplication_id:-1,name:"",redirectUrl:"",selectors:[],user_id:""},r.form.title=r.activeLocker.name,r.form.url=r.activeLocker.redirectUrl?r.activeLocker.redirectUrl:"",r.canShowPassword=t.canShowPassword;var e=[];t.locker&&St()(r.activeLocker.selectors,(function(t){t.value||e.push(t.extensionSsoConfigId)})),e.length>0?Object(E.a)(r.nodeApi.getPasswordsForLocker(r.activeLocker.id,e)).subscribe((function(e){var n=Ai()(e);r.activeLocker.selectors.forEach((function(t,e){t.value||(t.value=n[t.extensionSsoConfigId])})),r.initForm(t)})):r.initForm(t)})),this.subscriptions[1]=this.helper.passwordLockerAppSelected.subscribe((function(t){r.activeAppId=t?r.helper.isPasswordLockerApp(t)?t.appId:t.id:void 0;var e=r.helper.isPasswordLockerApp(t)?t.appName:t.name,n=r.translationService.translate("myProfile.passwords.passwordsTitle",{name:e});r.helper.titleUpdated.next(n)}))}return t.prototype.initForm=function(t){var e=this;this.form.title=this.activeLocker.name,this.form.url=this.activeLocker.redirectUrl?this.activeLocker.redirectUrl:"";var n=0!==this.activeLocker.id?this.activeLocker.selectors:t.selectors;this.form.credentials=L()(n.map((function(t){return t.value=t.value?e.helper.decryptResponse(t.value):"",t})),["order","label"]),this.form.credentials.forEach((function(t){var n="email"===t.label.toLocaleLowerCase()?"myProfile.general.email":"myProfile.passwords."+t.label.toLocaleLowerCase(),i=e.translationService.translate(n);t.label=i===n?st()(t.label):i}))},t.prototype.ngOnDestroy=function(){this.subscriptions.forEach((function(t){return t.unsubscribe()}))},t.prototype.isValidUrl=function(){return""===this.form.url||ht.a.isValidUrl(this.form.url)},t.prototype.canSaveLocker=function(){return""!==this.form.title.trim()&&(""===this.form.url||ht.a.isValidUrl(this.form.url))&&Oi()(this.form.credentials,(function(t){return""!==t.value.trim()}))},t.prototype.saveLocker=function(){var t=this;this.activeLocker.lpapplication_id=this.activeAppId,this.activeLocker.name=this.form.title,this.activeLocker.redirectUrl=""===this.form.url?"":"http"!==this.form.url.substring(0,4)?"http://"+this.form.url:this.form.url,this.activeLocker.selectors=this.form.credentials;var e=D()(this.activeLocker);this.nodeApi.addLockerForApp(this.activeAppId,e).subscribe((function(e){t.translationHelper.translateAndAddGenericGrowl({severity:"success"},{subject:"myProfile.passwords.locker",verb:"common."+(0===t.activeLocker.id?"added":"edited")}),t.helper.tabPageChanged.next(1)}))},t.prototype.getPassword=function(t){console.log(t)},t.\u0275fac=function(e){return new(e||t)(c.Mb(l.a),c.Mb(lt),c.Mb(J.a),c.Mb(ct.f),c.Mb(A.a))},t.\u0275cmp=c.Gb({type:t,selectors:[["app-edit-locker"]],decls:1,vars:0,consts:[[4,"transloco"],[1,"slideover-content"],[3,"value","label","attributes","valueChange"],[3,"value","label","inputValidator","attributes","valueChange"],["type","password","name","pass-manager-bad1","id","pass-manager-bad1","type","password",2,"display","none"],["type","password","name","pass-manager-bad2","id","pass-manager-bad2","type","password",2,"display","none"],["type","password","name","pass-manager-bad3","id","pass-manager-bad3","type","password",2,"display","none"],["type","password","name","pass-manager-bad3","id","pass-manager-bad4","type","password",2,"display","none"],[3,"value","label","attributes","showPasswordEye","valueChange",4,"ngFor","ngForOf"],[1,"slideover-controls"],[1,"button","button-default",3,"click"],[1,"button","button-secondary",3,"disabled","tabindex","click"],[3,"value","label","attributes","showPasswordEye","valueChange"]],template:function(t,e){1&t&&c.Cc(0,Ti,16,17,"ng-container",0)},directives:[ct.c,vt.w,i.j],styles:["cl-input[_ngcontent-%COMP%]{height:62px;width:50%;margin-bottom:20px}h3[_ngcontent-%COMP%]{margin:40px 0 20px}.relative-ctnr[_ngcontent-%COMP%]{position:relative;width:50%}.relative-ctnr[_ngcontent-%COMP%] > cl-input[_ngcontent-%COMP%]{width:100%}.relative-ctnr[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;position:absolute;right:0;top:22px;height:40px;padding:10px}.relative-ctnr[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{font-size:20px;width:20px}"]}),t}();function Fi(t,e){if(1&t&&(c.Qb(0),c.Sb(1,"h3",7),c.Ec(2),c.Rb(),c.Pb()),2&t){var n=c.cc().$implicit;c.Ab(2),c.Fc(n("myProfile.passwords.nothingToFill"))}}var Di=function(t,e,n,i){return{"aria-label":t,required:e,type:n,autocomplete:i}};function Ni(t,e){if(1&t){var n=c.Tb();c.Sb(0,"cl-input",10),c.Zb("valueChange",(function(t){return c.vc(n),c.cc().$implicit.value=t})),c.Rb()}if(2&t){var i=c.cc().$implicit,o=c.cc(3);c.ic("value",i.value)("label",i.label)("inputValidator",o.inputValidator.bind(o,i.required))("attributes",c.oc(5,Di,i.label,i.required,i.type,"password"===i.type?"current-password":i.label.toLocaleLowerCase()))("showPasswordEye","password"===i.type&&o.canShowPassword)}}function Li(t,e){if(1&t&&(c.Qb(0),c.Cc(1,Ni,1,10,"cl-input",9),c.Pb()),2&t){var n=e.$implicit;c.Ab(1),c.ic("ngIf",!n.hidden)}}function Hi(t,e){if(1&t&&(c.Sb(0,"h3"),c.Ec(1),c.Rb(),c.Cc(2,Li,2,1,"ng-container",8)),2&t){var n=c.cc().$implicit,i=c.cc();c.Ab(1),c.Fc(n("myProfile.passwords.credentials")),c.Ab(1),c.ic("ngForOf",i.form)}}function Ui(t,e){if(1&t){var n=c.Tb();c.Qb(0),c.Sb(1,"div",1),c.Cc(2,Fi,3,1,"ng-container",2),c.Cc(3,Hi,3,2,"ng-template",null,3,c.Dc),c.Rb(),c.Sb(5,"div",4),c.Sb(6,"button",5),c.Zb("click",(function(){return c.vc(n),c.cc().deleteLocker()})),c.Ec(7),c.Rb(),c.Sb(8,"button",6),c.Zb("click",(function(){return c.vc(n),c.cc().saveLocker()})),c.Ec(9),c.Rb(),c.Rb(),c.Pb()}if(2&t){var i=e.$implicit,o=c.sc(4),r=c.cc();c.Ab(2),c.ic("ngIf",r.showBlankPage())("ngIfElse",o),c.Ab(5),c.Fc(i("common.delete")),c.Ab(1),c.ic("disabled",!r.canSaveLocker())("tabindex",r.canSaveLocker()?0:-1),c.Ab(1),c.Fc(i("common.save"))}}var Bi=function(){function t(t,e,n){var i=this;this.nodeApi=t,this.helper=e,this.translationHelper=n,this.form=[],this.canShowPassword=!1,this.subscriptions=[],this.subscriptions[0]=this.helper.passwordLockerAppSelected.subscribe((function(t){i.activeAppId=t?i.helper.isPasswordLockerApp(t)?t.appId:t.id:void 0;var e=i.helper.isPasswordLockerApp(t)?t.appName:t.name;i.helper.titleUpdated.next(e+" Passwords"),i.getLockerDetails()}))}return t.prototype.ngOnDestroy=function(){this.subscriptions.forEach((function(t){return t.unsubscribe()}))},t.prototype.showBlankPage=function(){return Oi()(this.form,(function(t){return t.hidden}))},t.prototype.getLockerDetails=function(){var t=this;this.nodeApi.getLockerDetails(this.activeAppId).subscribe((function(e){t.appDetails=e,t.canShowPassword=t.appDetails.IsEnablePasswordLockerEye,t.parseXML(t.appDetails.ConnectorCode),t.fillInCredentials(t.appDetails.UserCredentials)}))},t.prototype.parseXML=function(t){for(var e=(new DOMParser).parseFromString(t,"text/xml").getElementsByTagName("form_control"),n=0;n<e.length;n++){var i=e[n];this.form[n]={hidden:"hidden"===this.extractValFromAttr(i,"user_input_type"),required:"0"!==this.extractValFromAttr(i,"input_required"),order:parseInt(this.extractValFromAttr(i,"user_input_order")),label:this.extractValFromAttr(i,"label"),formName:this.extractValFromAttr(i,"name"),value:"",type:this.extractValFromAttr(i,"user_input_type")},this.form=L()(this.form,"order")}},t.prototype.extractValFromAttr=function(t,e){var n=t.attributes.getNamedItem(e);return n?n.nodeValue:""},t.prototype.inputValidator=function(t,e){return!t||t&&""!==e.trim()},t.prototype.fillInCredentials=function(t){this.form=this.form.map((function(e){var n=j()(t,(function(t){return t.SsoField===e.formName}));return e.value=n?n.SsoValue:"",e}))},t.prototype.canSaveLocker=function(){return Oi()(this.form,(function(t){return!t.required||""!==t.value.trim()}))},t.prototype.saveLocker=function(){var t=this,e=this.form.map((function(t){return{SsoField:t.formName,SsoValue:t.value}}));this.nodeApi.updateLockerDetails(this.activeAppId,e).subscribe((function(e){t.translationHelper.translateAndAddGenericGrowl({severity:"success"},{subject:"myProfile.passwords.locker",verb:"common.added"}),t.helper.tabPageChanged.next(0)}))},t.prototype.deleteLocker=function(){var t=this;this.nodeApi.deleteLockerDetails(this.activeAppId).subscribe((function(e){t.translationHelper.translateAndAddGenericGrowl({severity:"success"},{subject:"myProfile.passwords.locker",verb:"common.removed"}),t.helper.tabPageChanged.next(0)}))},t.\u0275fac=function(e){return new(e||t)(c.Mb(l.a),c.Mb(lt),c.Mb(J.a))},t.\u0275cmp=c.Gb({type:t,selectors:[["app-edit-non-sso-locker"]],decls:1,vars:0,consts:[[4,"transloco"],[1,"slideover-content"],[4,"ngIf","ngIfElse"],["nonBlank",""],[1,"slideover-controls"],[1,"button","button-danger",3,"click"],[1,"button","button-secondary",3,"disabled","tabindex","click"],[1,"center"],[4,"ngFor","ngForOf"],[3,"value","label","inputValidator","attributes","showPasswordEye","valueChange",4,"ngIf"],[3,"value","label","inputValidator","attributes","showPasswordEye","valueChange"]],template:function(t,e){1&t&&c.Cc(0,Ui,10,6,"ng-container",0)},directives:[ct.c,i.k,i.j,vt.w],styles:["cl-input[_ngcontent-%COMP%]{height:62px;width:50%}cl-input[_ngcontent-%COMP%], h3[_ngcontent-%COMP%]{margin-bottom:20px}h3.center[_ngcontent-%COMP%]{text-align:center}.relative-ctnr[_ngcontent-%COMP%]{position:relative;width:50%}.relative-ctnr[_ngcontent-%COMP%] > cl-input[_ngcontent-%COMP%]{width:100%}.relative-ctnr[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;position:absolute;right:0;top:22px;height:40px;padding:10px}.relative-ctnr[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{font-size:20px;width:20px}"]}),t}();function ji(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",7),c.Sb(1,"img",8),c.Zb("error",(function(t){return c.vc(n),c.cc(2).handleImage(t)})),c.Rb(),c.Rb(),c.Sb(2,"div",9),c.Sb(3,"p",10),c.Ec(4),c.Rb(),c.Sb(5,"p"),c.Ec(6),c.Rb(),c.Rb()}if(2&t){var i=e.row;c.Ab(1),c.ic("src",i.icon,c.xc),c.Ab(3),c.Fc(i.displayName),c.Ab(2),c.Fc(i.displayDesc)}}function zi(t,e){if(1&t&&(c.Sb(0,"div",13),c.Sb(1,"p"),c.Ec(2),c.Rb(),c.Rb()),2&t){var n=c.cc(2).$implicit;c.Ab(2),c.Fc(n("myProfile.autoLaunch.tooltip"))}}function Vi(t,e){if(1&t){var n=c.Tb();c.Sb(0,"cl-slide-toggle",11),c.Zb("toggledChange",(function(t){c.vc(n);var i=e.row;return c.cc(2).setAutoLaunch(i,t)})),c.Ec(1),c.Rb(),c.Cc(2,zi,3,1,"ng-template",null,12,c.Dc)}if(2&t){var i=e.row,o=c.sc(3),r=c.cc().$implicit,a=c.cc();c.ic("disabled",a.disableToggle(i))("clTooltip",i.admin_auto_launch?o:void 0)("toggled",i.jointEnabled)("textPosition","right"),c.Ab(1),c.Fc(r(i.jointEnabled?"myProfile.autoLaunch.enabled":"myProfile.autoLaunch.disabled"))}}var Gi=function(t){return{limit:t}},$i=function(){return{sort:"jointEnabled",orderBy:"desc",limit:25,offset:0}};function Zi(t,e){if(1&t&&(c.Qb(0),c.Sb(1,"div",1),c.Sb(2,"div",2),c.Sb(3,"h3",3),c.Ec(4),c.Rb(),c.Rb(),c.Sb(5,"cl-data-table",4),c.Cc(6,ji,7,3,"ng-template",5),c.Cc(7,Vi,4,5,"ng-template",6),c.Rb(),c.Rb(),c.Pb()),2&t){var n=e.$implicit,i=c.cc();c.Ab(4),c.Fc(n("myProfile.autoLaunch.description",c.lc(8,Gi,i.autoLaunchLimit))),c.Ab(1),c.ic("data",i.data)("dataFields",i.fields)("tableFilters",c.kc(10,$i))("useInternalFilters",!0)("trackByFn",i.rowTrackBy)("filterable",!0)("sortable",!0)}}var Wi=function(){function t(t,e,n,i,o,r){var a=this;this.appsHelper=t,this.nodeApi=e,this.translationHelper=n,this.titlePipe=i,this.sessionService=o,this.translocoService=r,this.optionsFilters=[{label:"Enabled",value:!0},{label:"Disabled",value:!1}],this.userAmountSelected=0,this.autoLaunchLimit=5,this.data=[],this.fields=[{header:"App Name",fieldName:"displayName",canFilter:!0,canSort:!0,template:{name:"col1"}},{header:"Status",fieldName:"jointEnabled",canFilter:!0,canSort:!0,columnWidth:20,template:{name:"col2"},optionsFilters:this.optionsFilters}],this.subscriptions=[],this.subscriptions[0]=t.appsUpdated.subscribe((function(t){a.apps=t,a.data=L()(a.appsHelper.flattenApps(a.apps).map((function(t){return a.appMap(t)})),(function(t){return t.displayName.toLowerCase()})),a.userAmountSelected=P()(a.data,(function(t){return t.user_auto_launch})).length})),this.subscriptions[1]=o.settingsUpdated.subscribe((function(t){return a.autoLaunchLimit=t.tenantSettings.autoLaunchLimit})),this.optionsFilters[0].label=r.translate("common.enabled"),this.optionsFilters[1].label=r.translate("common.disabled"),this.fields[0].header=r.translate("apps.appName")}return t.prototype.appMap=function(t){return t.displayName=this.titlePipe.transform(t.name),t.displayDesc=this.titlePipe.transform(t.appdesc?t.appdesc:"",100),t.jointEnabled=Boolean(t.user_auto_launch||t.admin_auto_launch),t},t.prototype.ngOnDestroy=function(){this.subscriptions.forEach((function(t){return t.unsubscribe()}))},t.prototype.setAutoLaunch=function(t,e){t.user_auto_launch=e,t.jointEnabled=e,t.user_auto_launch?this.addAutoLaunch(t):this.removeAutoLaunch(t),j()(this.appsHelper.flattenApps(this.apps),(function(e){return e.id===t.id})).user_auto_launch=e,this.userAmountSelected=P()(this.data,(function(t){return t.user_auto_launch})).length},t.prototype.rowTrackBy=function(t,e){return e.id},t.prototype.disableToggle=function(t){return t.admin_auto_launch||!t.user_auto_launch&&this.userAmountSelected>=this.autoLaunchLimit},t.prototype.addAutoLaunch=function(t){var e=this;this.nodeApi.addAutoLaunch(t).subscribe((function(t){e.translationHelper.translateAndAddGenericGrowl({severity:"success"},{subject:"myProfile.autoLaunch.autoLaunch",verb:"common.added"}),e.appsHelper.appsUpdated.next(e.apps)}))},t.prototype.removeAutoLaunch=function(t){var e=this;this.nodeApi.removeAutoLaunch(t).subscribe((function(t){e.translationHelper.translateAndAddGenericGrowl({severity:"success"},{subject:"myProfile.autoLaunch.autoLaunch",verb:"common.removed"}),e.appsHelper.appsUpdated.next(e.apps)}))},t.prototype.handleImage=function(t){t.target.src=K.a.coreCDN+"/assets/images/default-app-icon.png"},t.\u0275fac=function(e){return new(e||t)(c.Mb(p.a),c.Mb(l.a),c.Mb(J.a),c.Mb(kt.a),c.Mb(A.a),c.Mb(ct.f))},t.\u0275cmp=c.Gb({type:t,selectors:[["app-auto-launch-tab"]],decls:1,vars:0,consts:[[4,"transloco"],[1,"slideover-content"],[1,"slideover-info"],[1,"autolaunch-heading"],[3,"data","dataFields","tableFilters","useInternalFilters","trackByFn","filterable","sortable"],["clTemplate","col1"],["clTemplate","col2"],[1,"img-border","application","flex-center"],["alt","",3,"src","error"],[1,"flex-start","column-nowrap"],[1,"app-name"],[3,"disabled","clTooltip","toggled","textPosition","toggledChange"],["tooltip",""],[1,"cl-tooltip"]],template:function(t,e){1&t&&c.Cc(0,Zi,8,11,"ng-container",0)},directives:[ct.c,vt.j,vt.c,vt.J,vt.P],styles:['.slideover-info[_ngcontent-%COMP%]   h3.autolaunch-heading[_ngcontent-%COMP%]{color:var(--color-dark);font-size:calc(var(--font-modifier) * 13px);font-weight:600;line-height:16px}div.img-border.application.flex-center[_ngcontent-%COMP%]{position:relative;margin-right:15px;height:50px;width:50px;-ms-flex:0 0 50px;flex:0 0 50px;min-width:50px;min-height:50px;filter:drop-shadow(5px 5px 5px var(--color-medium))}div.img-border.application.flex-center[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:47px;height:47px;-webkit-clip-path:url(#squareCircle);clip-path:url(#squareCircle)}div.img-border.application.flex-center[_ngcontent-%COMP%]:before{content:"";position:absolute;top:3px;left:3px;width:calc(100% - 6px);height:calc(100% - 6px);border-radius:20px;box-shadow:0 0 10px rgba(0,0,0,.2)}div.flex-start.column-nowrap[_ngcontent-%COMP%]   .app-name[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;text-align:center;font-size:calc(var(--font-modifier) * 13px);font-weight:600}div.flex-start.column-nowrap[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:calc(var(--font-modifier) * 12px);font-weight:400;letter-spacing:0;word-spacing:0}']}),t}(),qi=n("qPyV"),Yi=n.n(qi);function Ki(t,e){if(1&t&&(c.Qb(0),c.Nb(1,"img",12),c.Pb()),2&t){var n=c.cc().$implicit,i=c.cc(2);c.Ab(1),c.ic("src",i.lpUrl+"/qrcode.png?id="+n.Id,c.xc)}}var Qi=function(t){return{opacity:t}};function Ji(t,e){if(1&t&&(c.Sb(0,"span",13),c.Nb(1,"i"),c.Rb()),2&t){var n=c.cc().$implicit;c.ic("ngStyle",c.lc(3,Qi,null!==n.Id?1:.25)),c.Ab(1),c.Cb(n.Icon)}}var Xi=function(t){return{item:t}};function to(t,e){if(1&t&&(c.Sb(0,"button",15),c.Zb("click",(function(){return e.$implicit.handler()})),c.Nb(1,"i"),c.Rb()),2&t){var n=e.$implicit,i=c.cc(2).$implicit,o=c.cc().$implicit;c.Bb("aria-label",o(n.label,c.lc(3,Xi,i.CloudLink))),c.Ab(1),c.Cb(n.icon)}}function eo(t,e){if(1&t&&(c.Qb(0),c.Cc(1,to,2,5,"button",14),c.Pb()),2&t){var n=c.cc().$implicit;c.Ab(1),c.ic("ngForOf",n.Actions)}}function no(t,e){if(1&t){var n=c.Tb();c.Sb(0,"button",18),c.Zb("click",(function(){c.vc(n);var t=c.cc(2).index;return c.cc(2).deleteWarningIx=t}))("clTooltipDisplayChange",(function(){return c.vc(n),c.cc(4).deleteWarningIx=-1})),c.Nb(1,"i",19),c.Rb()}if(2&t){var i=c.cc(2),o=i.index,r=i.$implicit,a=c.sc(13),s=c.cc(2);c.ic("clTooltip",a)("clTooltipDirection","bottom")("clTooltipPersist",!0)("clTooltipDisplay",s.deleteWarningIx===o),c.Bb("aria-label",r.CloudLink)}}function io(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",20),c.Zb("keydown.enter",(function(){c.vc(n);var t=c.cc(2).$implicit;return c.cc(2).linkOption(t)}))("click",(function(){c.vc(n);var t=c.cc(2).$implicit;return c.cc(2).linkOption(t)})),c.Nb(1,"i",21),c.Rb()}if(2&t){var i=c.cc(2).$implicit,o=c.cc().$implicit;c.Bb("aria-label",o("myProfile.signIn.link",c.lc(1,Xi,i.CloudLink)))}}function oo(t,e){if(1&t&&(c.Qb(0),c.Cc(1,no,2,5,"button",16),c.Cc(2,io,2,3,"div",17),c.Pb()),2&t){var n=c.cc().$implicit;c.Ab(1),c.ic("ngIf",null!==n.Id),c.Ab(1),c.ic("ngIf",null===n.Id)}}function ro(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",22),c.Sb(1,"h4"),c.Ec(2),c.Rb(),c.Sb(3,"p"),c.Ec(4),c.Rb(),c.Sb(5,"div",23),c.Sb(6,"button",24),c.Zb("click",(function(){return c.vc(n),c.cc(3).deleteWarningIx=-1})),c.Ec(7),c.Rb(),c.Sb(8,"button",25),c.Zb("click",(function(){c.vc(n);var t=c.cc().$implicit,e=c.cc(2);return e.unlinkOption(t),e.deleteWarningIx=-1})),c.Ec(9),c.Rb(),c.Rb(),c.Rb()}if(2&t){var i=c.cc(2).$implicit;c.Ab(2),c.Fc(i("myProfile.signIn.unlinkTitle")),c.Ab(2),c.Fc(i("myProfile.signIn.unlinkDescription")),c.Ab(3),c.Fc(i("common.cancel")),c.Ab(2),c.Fc(i("myProfile.signIn.unlink"))}}var ao=function(t){return{color:t}};function so(t,e){if(1&t&&(c.Sb(0,"div",4),c.Sb(1,"div",5),c.Cc(2,Ki,2,1,"ng-container",6),c.Cc(3,Ji,2,5,"ng-template",null,7,c.Dc),c.Sb(5,"h3"),c.Ec(6),c.Rb(),c.Sb(7,"p",8),c.Ec(8),c.Rb(),c.Sb(9,"div",9),c.Cc(10,eo,2,1,"ng-container",10),c.Cc(11,oo,3,2,"ng-container",10),c.Cc(12,ro,10,4,"ng-template",null,11,c.Dc),c.Rb(),c.Rb(),c.Rb()),2&t){var n=e.$implicit,i=c.sc(4),o=c.cc().$implicit,r=c.cc();c.Ab(2),c.ic("ngIf",(6===n.CloudLinkId||8===n.CloudLinkId)&&null!==n.Id)("ngIfElse",i),c.Ab(4),c.Fc(n.CloudLink),c.Ab(1),c.ic("ngStyle",c.lc(7,ao,null!==n.Id?"var(--color-success)":"var(--color-danger)")),c.Ab(1),c.Fc(null!==n.Id?1==n.CloudLinkId||2==n.CloudLinkId?n.Email:o("myProfile.signIn.connected"):o("myProfile.signIn.disconnected")),c.Ab(2),c.ic("ngIf",null!==n.Id),c.Ab(1),c.ic("ngIf",-1!==n.CloudLinkId&&!(6==n.CloudLinkId&&"Student"==r.settings.userInfo.Role))}}function co(t,e){if(1&t&&(c.Qb(0),c.Sb(1,"div",1),c.Sb(2,"div",2),c.Cc(3,so,14,9,"div",3),c.Rb(),c.Rb(),c.Pb()),2&t){var n=c.cc();c.Ab(3),c.ic("ngForOf",n.options)("ngForTrackBy",n.trackByFn)}}var lo=function(){function t(t,e,n,i,o){var r=this;this.nodeApi=t,this.helper=e,this.sessionService=n,this.translationService=i,this.translationHelper=o,this.adOption={Actions:[],CloudLinkId:-1,CloudLink:"LDAP/Active Directory",CloudLinkImg:"",IsCloudDomainUser:!1,Icon:"fab fa-windows",Id:"-1",Email:"",Name:""},this.options=[],this.deleteWarningIx=-1,this.openedWindows=[],this.subscriptions=[],this.subscriptions[0]=n.settingsUpdated.subscribe((function(t){r.settings=t,r.setOptions(r.options)}))}return Object.defineProperty(t.prototype,"lpUrl",{get:function(){return K.a.launchpadUrl},enumerable:!1,configurable:!0}),t.prototype.ngOnInit=function(){this.getSignInOptions()},t.prototype.ngOnDestroy=function(){this.subscriptions.forEach((function(t){return t.unsubscribe()})),this.closeOpenWindows(),this.deleteWarningIx=-1},t.prototype.closeOpenWindows=function(){this.openedWindows.forEach((function(t){t.window.close(),t.timer.unsubscribe()}))},t.prototype.getSignInOptions=function(){var t=this;this.nodeApi.getSignInOptions().subscribe((function(e){t.setOptions(e)}))},t.prototype.setOptions=function(t){var e=!j()(t,(function(t){return-1===t.CloudLinkId}))&&this.settings.userInfo.isADUser?Object(R.e)([this.adOption],t):t;this.options=L()(Yi()(e,"CloudLinkId"),"CloudLink"),this.attachHandlers()},t.prototype.attachHandlers=function(){for(var t=this,e=function(e){switch(e.CloudLinkId){case-1:e.Actions=[{icon:"far fa-user-check",label:"common.editItem",handler:function(){t.helper.tabPageChanged.next(1);var e=t.translationService.translate("myProfile.security.networkPassword.activeDirectoryCredentials");t.helper.titleUpdated.next(e)}}];break;case 6:e.Actions=[{icon:"far fa-print",label:"myProfile.signIn.print",handler:function(){return window.open(K.a.launchpadUrl+"/qrprint?id="+e.Id)}},{icon:"far fa-sync-alt",label:"myProfile.signIn.refresh",handler:function(){return t.linkOption(e,!0)}}],"Student"==n.settings.userInfo.Role&&e.Actions.pop();break;case 7:e.Actions=[{icon:"far fa-edit",label:"common.editItem",handler:function(){return window.open(K.a.launchpadUrl+"/face/manage")}}];break;case 8:e.Actions=[{icon:"far fa-sync-alt",label:"myProfile.signIn.refresh",handler:function(){return t.linkOption(e,!0)}}]}},n=this,i=0,o=this.options;i<o.length;i++)e(o[i])},t.prototype.unlinkOption=function(t){var e=this;this.nodeApi.unlinkOption(t).subscribe((function(t){"Permission Denied"===t.message?e.translationHelper.translateAndAddGrowl({severity:"error",summary:"error.permissionDenied",detail:"error.permissionDeniedDetail"}):(e.translationHelper.translateAndAddGenericGrowl({severity:"success"},{subject:"myProfile.signIn.signInOption",verb:"common.removed"}),e.retrySignInOptions())}))},t.prototype.linkOption=function(t,e){var n=this;void 0===e&&(e=!1),1!==t.CloudLinkId&&2!==t.CloudLinkId?this.nodeApi.linkOption(t).subscribe((function(t){var i={subject:"myProfile.signIn.signInOption",verb:"growl.linked"};e&&(i.subject="myProfile.signIn.qrCode",i.verb="growl.reset"),n.translationHelper.translateAndAddGenericGrowl({severity:"success"},i),n.retrySignInOptions()})):this.openSsoWindow(t.CloudLinkId)},t.prototype.retrySignInOptions=function(){var t=this;this.getSignInOptions();var e=Object(vi.a)(1e3),n=Object(u.a)(3e3);e.pipe(Object(yi.a)(n)).subscribe((function(){return t.getSignInOptions()}))},t.prototype.trackByFn=function(t,e){return e.CloudLinkId.toString()+(e.Id?e.Id:"").toString()},t.prototype.openSsoWindow=function(t){var e=this,n=window.location.origin.includes("localhost")?"https://betamyapps.classlink.com":window.location.origin,i=encodeURIComponent(n+"/redirects/"+(1===t?"google":"microsoft")),o=window.open(1===t?"https://accounts.google.com/o/oauth2/v2/auth?client_id="+K.a.googleClientId+"&response_type=code&redirect_uri="+i+"&access_type=offline&scope=https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.profile%20openid%20email%20profile":"https://login.microsoftonline.com/common/oauth2/v2.0/authorize?scope=User.Read&client_id="+K.a.microsoftClientId+"&response_type=code&redirect_uri="+i+"&response_mode=query",1===t?"CLGoogleSSO":"ClMicrosoftSSO","height=400,width=800,modal=yes,alwaysRaised=yes,scrollbars=yes,resizable=yes"),r=Object(u.a)(0,500).subscribe((function(n){return e.pollWindow(o,r,t,n)}));this.openedWindows.push({window:o,timer:r})},t.prototype.pollWindow=function(t,e,n,i){var o=this;if(t.closed||120===i)return t.close(),void e.unsubscribe();this.nodeApi.getSignInOptions().subscribe((function(i){var r=j()(i,(function(t){return t.CloudLinkId===n}));(r.Id||r.Email)&&(t.close(),e.unsubscribe(),o.setOptions(i))}))},t.\u0275fac=function(e){return new(e||t)(c.Mb(l.a),c.Mb(lt),c.Mb(A.a),c.Mb(ct.f),c.Mb(J.a))},t.\u0275cmp=c.Gb({type:t,selectors:[["app-sign-in-tab"]],decls:1,vars:0,consts:[[4,"transloco"],[1,"slideover-content"],[1,"option-ctnr"],["class","option-item flex-start-center",4,"ngFor","ngForOf","ngForTrackBy"],[1,"option-item","flex-start-center"],[1,"option","flex-start-center","column-nowrap"],[4,"ngIf","ngIfElse"],["icon",""],[1,"connected-display",3,"ngStyle"],[1,"buttons-ctnr","flex-start-center"],[4,"ngIf"],["confirmation",""],["alt","",3,"src"],[3,"ngStyle"],[3,"click",4,"ngFor","ngForOf"],[3,"click"],["class","unlink",3,"clTooltip","clTooltipDirection","clTooltipPersist","clTooltipDisplay","click","clTooltipDisplayChange",4,"ngIf"],["role","link","class","sign-in-link cl-focusable","tabindex","0",3,"keydown.enter","click",4,"ngIf"],[1,"unlink",3,"clTooltip","clTooltipDirection","clTooltipPersist","clTooltipDisplay","click","clTooltipDisplayChange"],[1,"far","fa-unlink"],["role","link","tabindex","0",1,"sign-in-link","cl-focusable",3,"keydown.enter","click"],[1,"far","fa-link"],[1,"cl-tooltip","confirmation"],[1,"buttons-ctnr"],[1,"button","button-default",3,"click"],[1,"button","button-default","text-danger",3,"click"]],template:function(t,e){1&t&&c.Cc(0,co,4,2,"ng-container",0)},directives:[ct.c,i.j,i.k,i.l,vt.P],styles:[".option-ctnr[_ngcontent-%COMP%]{width:100%;display:grid;grid-gap:20px;grid-template-columns:repeat(auto-fill,minmax(250px,1fr));grid-auto-rows:250px}.option-ctnr[_ngcontent-%COMP%]   .option-item[_ngcontent-%COMP%]   .option[_ngcontent-%COMP%]{border:1px solid var(--color-border-light);background-color:var(--color-white);border-radius:5px;height:100%;width:250px;padding:20px}.option-ctnr[_ngcontent-%COMP%]   .option-item[_ngcontent-%COMP%]   .option[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{font-size:80px;margin-bottom:40px}.option-ctnr[_ngcontent-%COMP%]   .option-item[_ngcontent-%COMP%]   .option[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{height:80px;margin-bottom:40px}.option-ctnr[_ngcontent-%COMP%]   .option-item[_ngcontent-%COMP%]   .option[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{text-transform:none;font-size:calc(var(--font-modifier) * 16px);font-weight:700;margin-bottom:5px}.option-ctnr[_ngcontent-%COMP%]   .option-item[_ngcontent-%COMP%]   .option[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:calc(var(--font-modifier) * 13px);font-weight:600}.option-ctnr[_ngcontent-%COMP%]   .option-item[_ngcontent-%COMP%]   .option[_ngcontent-%COMP%]   .buttons-ctnr[_ngcontent-%COMP%]{margin-top:auto}.option-ctnr[_ngcontent-%COMP%]   .option-item[_ngcontent-%COMP%]   .option[_ngcontent-%COMP%]   .buttons-ctnr[_ngcontent-%COMP%]   div.sign-in-link[_ngcontent-%COMP%]{cursor:pointer;margin:0 5px}.option-ctnr[_ngcontent-%COMP%]   .option-item[_ngcontent-%COMP%]   .option[_ngcontent-%COMP%]   .buttons-ctnr[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0 5px;padding:0}.option-ctnr[_ngcontent-%COMP%]   .option-item[_ngcontent-%COMP%]   .option[_ngcontent-%COMP%]   .buttons-ctnr[_ngcontent-%COMP%]   button.unlink[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:var(--color-danger)}.option-ctnr[_ngcontent-%COMP%]   .option-item[_ngcontent-%COMP%]   .option[_ngcontent-%COMP%]   .buttons-ctnr[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{font-size:20px;width:20px;color:var(--color-primary)}.connected-display[_ngcontent-%COMP%]{white-space:nowrap;text-overflow:ellipsis;max-width:100%;line-height:20px;word-break:break-all}"]}),t}(),po=function(t){return{type:"password","aria-label":t}};function uo(t,e){if(1&t){var n=c.Tb();c.Qb(0),c.Sb(1,"div",1),c.Sb(2,"h3"),c.Ec(3),c.Rb(),c.Sb(4,"label"),c.Ec(5),c.Rb(),c.Sb(6,"div",2),c.Sb(7,"cl-input",3),c.Zb("valueChange",(function(t){return c.vc(n),c.cc().form.password.value=t})),c.Rb(),c.Rb(),c.Sb(8,"label"),c.Ec(9),c.Rb(),c.Sb(10,"div",2),c.Sb(11,"cl-input",3),c.Zb("valueChange",(function(t){return c.vc(n),c.cc().form.confirm.value=t})),c.Rb(),c.Rb(),c.Rb(),c.Sb(12,"div",4),c.Sb(13,"button",5),c.Zb("click",(function(){return c.vc(n),c.cc().helper.tabPageChanged.next(0)})),c.Ec(14),c.Rb(),c.Sb(15,"button",6),c.Zb("click",(function(){return c.vc(n),c.cc().verifyPassword()})),c.Ec(16),c.Rb(),c.Rb(),c.Pb()}if(2&t){var i=e.$implicit,o=c.cc();c.Ab(3),c.Fc(i("myProfile.security.networkPassword.please")),c.Ab(2),c.Fc(i("myProfile.general.password")),c.Ab(2),c.ic("value",o.form.password.value)("attributes",c.lc(14,po,i("myProfile.general.password")))("showPasswordEye",!0),c.Ab(2),c.Fc(i("myProfile.general.passwordReset.confirmPassword")),c.Ab(2),c.ic("value",o.form.confirm.value)("attributes",c.lc(16,po,i("myProfile.general.passwordReset.confirmPassword")))("showPasswordEye",!0),c.Ab(3),c.Fc(i("common.goBack")),c.Ab(1),c.Eb("disabled",!o.canSavePassword()),c.ic("tabindex",o.canSavePassword()?0:-1),c.Ab(1),c.Fc(i("common.save"))}}var bo=function(){function t(t,e,n,i,o){this.nodeApi=t,this.translationHelper=e,this.helper=n,this.tmsService=i,this.sessionService=o,this.form={password:{value:""},confirm:{value:""}}}return t.prototype.canSavePassword=function(){return this.form.password.value&&this.form.confirm.value&&this.form.password.value===this.form.confirm.value},t.prototype.verifyPassword=function(){var t=this;this.tmsService.isUsingTms(this.userInfo.BuildingId).subscribe((function(e){e.useTMS?t.tmsService.updateNetwork(t.form.password.value).subscribe((function(e){t.translationHelper.translateAndAddGenericGrowl({severity:"success"},{subject:"myProfile.passwords.credentials",verb:"common.edited"})}),(function(e){e.status>299?t.translationHelper.translateAndAddGrowl({severity:"error",summary:"error.invalidCredentials",detail:"error.invalidCredentialsDetail",displayIdentifier:e.error.errorCode}):t.translationHelper.translateAndAddGenericGrowl({severity:"success"},{subject:"myProfile.passwords.credentials",verb:"common.edited"})})):t.nodeApi.verifyAd(t.form.password.value).subscribe((function(e){e.Token||e.TWSToken||e.Password?(t.translationHelper.translateAndAddGenericGrowl({severity:"success"},{subject:"myProfile.passwords.credentials",verb:"common.edited"}),t.helper.tabPageChanged.next(0)):t.translationHelper.translateAndAddGrowl({severity:"error",summary:"error.invalidCredentials",detail:"error.invalidCredentialsDetail"})}))}))},t.\u0275fac=function(e){return new(e||t)(c.Mb(l.a),c.Mb(J.a),c.Mb(lt),c.Mb(we),c.Mb(A.a))},t.\u0275cmp=c.Gb({type:t,selectors:[["app-verify-password"]],inputs:{userInfo:"userInfo"},decls:1,vars:0,consts:[[4,"transloco"],[1,"slideover-content"],[1,"input-ctnr"],[3,"value","attributes","showPasswordEye","valueChange"],[1,"slideover-controls"],[1,"button","button-default",3,"click"],[1,"button","button-secondary",3,"tabindex","click"]],template:function(t,e){1&t&&c.Cc(0,uo,17,18,"ng-container",0)},directives:[ct.c,vt.w],styles:["cl-input[_ngcontent-%COMP%]{margin-bottom:20px;height:40px;width:50%}.slideover-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:40px}"]}),t}(),go=function(t){function e(e){var n=t.call(this,e)||this;return e&&Object.assign(n,e),n.Date=Y()(n.Date),n.Type>=n.types.length&&(n.Type=n.types.length-1),n.Browser||(n.Browser="Unknown"),n}return Object(R.c)(e,t),e.prototype.browserIcon=function(){return ht.a.browserIcon(this.Browser)},e.prototype.methodIcon=function(){return ht.a.methodIcon(this.Type)},e.prototype.reasonIcon=function(){switch(this.Reason){case"401.0":return"/assets/icons/failedLogins/401.0.svg";case"401.1":return"/assets/icons/failedLogins/401.1.svg";case"401.3":return"/assets/icons/failedLogins/401.3.svg";case"406.0":return"/assets/icons/failedLogins/406.0.svg";case"401.7":return"/assets/icons/failedLogins/401.7.svg";case"403.3":return"/assets/icons/failedLogins/403.3.svg";case"429.0":return"/assets/icons/failedLogins/429.0.svg";default:return"/assets/icons/unknown_icon.png"}},e}(n("csUY").a),fo=function(){return{"margin-right.px":10}};function ho(t,e){if(1&t){var n=c.Tb();c.Sb(0,"cl-slide-toggle",15),c.Zb("toggledChange",(function(t){return c.vc(n),c.cc(3).twoFactor.is_eanabled=t}))("toggledChange",(function(t){return c.vc(n),c.cc(3).toggle2FA(t)})),c.Rb()}if(2&t){var i=c.cc(3);c.ic("ngStyle",c.kc(3,fo))("toggled",i.twoFactor.is_eanabled)("disabled",i.twoFactorRequired)}}var mo=function(t){return{"text-danger":t}};function vo(t,e){if(1&t&&(c.Sb(0,"span",18),c.Ec(1),c.Rb()),2&t){var n=c.cc().item,i=c.cc(2).$implicit;c.ic("ngClass",c.lc(2,mo,!(null!=n&&n.verifyFunc()))),c.Ab(1),c.Fc(null!=n&&n.verifyFunc()?i("enabled"):i("disabled"))}}function yo(t,e){if(1&t&&(c.Sb(0,"p",16),c.Ec(1),c.Cc(2,vo,2,4,"span",17),c.Rb()),2&t){var n=e.item,i=c.cc(2).$implicit;c.Ab(1),c.Fc(i(n&&n.label?n.label:"selectOne")),c.Ab(1),c.ic("ngIf",n)}}function Co(t,e){if(1&t&&(c.Sb(0,"p",19),c.Ec(1),c.Rb()),2&t){var n=e.item,i=c.cc(2).$implicit;c.Ab(1),c.Fc(n?i(n.label):"")}}function wo(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",5),c.Sb(1,"div",6),c.Cc(2,ho,1,4,"cl-slide-toggle",7),c.Sb(3,"label",8),c.Ec(4),c.Rb(),c.Rb(),c.Sb(5,"p",9),c.Ec(6),c.Sb(7,"span",10),c.Ec(8),c.Rb(),c.Ec(9),c.Rb(),c.Sb(10,"cl-dropdown",11),c.Zb("selectionChange",(function(t){return c.vc(n),c.cc(2).selectedOption=t}))("selectionChange",(function(){return c.vc(n),c.cc(2).setTwoFactorType()})),c.Cc(11,yo,3,2,"ng-template",12),c.Cc(12,Co,2,1,"ng-template",13),c.Rb(),c.Sb(13,"button",14),c.Zb("click",(function(){return c.vc(n),c.cc(2).onConfigure2FA()})),c.Ec(14),c.Rb(),c.Rb()}if(2&t){var i=c.cc().$implicit,o=c.cc();c.Ab(2),c.ic("ngIf",o.enable2faToggle),c.Ab(2),c.Fc(i("enableTwoFactor")),c.Ab(2),c.Gc("",i("twoFactorOne")," "),c.Ab(2),c.Fc(i("one")),c.Ab(1),c.Gc(" ",i("twoFactorTwo"),""),c.Ab(1),c.Eb("disabled",!(o.twoFactor&&o.twoFactor.is_eanabled)),c.ic("selection",o.selectedOption)("options",o.twoFactorOptions)("showRemove",!1),c.Bb("aria-disabled",!(o.twoFactor&&o.twoFactor.is_eanabled)),c.Ab(3),c.Eb("disabled",!(o.twoFactor&&o.twoFactor.is_eanabled&&o.twoFactor.type)),c.ic("disabled",!(o.twoFactor&&o.twoFactor.is_eanabled&&o.twoFactor.type)),c.Ab(1),c.Fc(i("configure"))}}function xo(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",21),c.Zb("click",(function(){c.vc(n);var t=c.cc().index;return c.cc(2).onOptionSelect(t)}))("keydown.Enter",(function(){c.vc(n);var t=c.cc().index;return c.cc(2).onOptionSelect(t)})),c.Nb(1,"i"),c.Sb(2,"div",22),c.Sb(3,"h4"),c.Ec(4),c.Rb(),c.Sb(5,"p",18),c.Ec(6),c.Rb(),c.Rb(),c.Rb()}if(2&t){var i=c.cc().$implicit,o=c.cc().$implicit;c.Ab(1),c.Cb(i.icon),c.Ab(3),c.Fc(o(i.title)),c.Ab(1),c.ic("ngClass",c.lc(5,mo,!i.isEnabled())),c.Ab(1),c.Fc(i.isEnabled()?o("enabled"):o("disabled"))}}function Po(t,e){1&t&&c.Cc(0,xo,7,7,"div",20),2&t&&c.ic("ngIf",e.$implicit.show())}function So(t,e){if(1&t&&(c.Qb(0),c.Cc(1,wo,15,15,"div",3),c.Cc(2,Po,1,1,"ng-template",null,4,c.Dc),c.Pb()),2&t){var n=c.cc();c.Ab(1),c.ic("ngIf",n.generalSettings&&n.generalSettings.EnableTwofactor)}}function Oo(t,e){if(1&t&&c.Nb(0,"p",33),2&t){var n=c.cc(3).$implicit;c.ic("innerText",n("myProfile.security.sessions.currentSession"))}}function Mo(t,e){if(1&t&&(c.Sb(0,"div"),c.Nb(1,"p",31),c.Cc(2,Oo,1,1,"p",32),c.Rb()),2&t){var n=e.row,i=c.cc(3);c.Ab(1),c.ic("innerText",n.TokenAssignTime.format("MMM D, Y h:mm A")),c.Ab(1),c.ic("ngIf",n.Token==i.gwsToken)}}function Ao(t,e){if(1&t&&(c.Sb(0,"div",34),c.Nb(1,"img",35),c.Nb(2,"p",31),c.Rb()),2&t){var n=e.row,i=c.cc(2).$implicit;c.Ab(1),c.ic("src",n.browserIcon(),c.xc),c.Ab(1),c.ic("innerText",i(null!=n.Browser&&n.Browser.length?"myProfile.security.methods."+n.Browser:"myProfile.security.methods.Unknown"))}}function ko(t,e){if(1&t&&(c.Sb(0,"div",34),c.Nb(1,"img",35),c.Nb(2,"p",31),c.Rb()),2&t){var n=e.row,i=c.cc(2).$implicit;c.Ab(1),c.ic("src",n.methodIcon(),c.xc),c.Ab(1),c.ic("innerText",i(n.types[n.LoginSourceId].key))}}var _o=function(){return[5,10,15]};function Ro(t,e){if(1&t){var n=c.Tb();c.Sb(0,"cl-data-table",27),c.Zb("tableFiltersChange",(function(t){return c.vc(n),c.cc(2).filter=t}))("pageEvent",(function(t){return c.vc(n),c.cc(2).handlePage(t)}))("selectionChange",(function(t){return c.vc(n),c.cc(2).selectedSessions=t})),c.Cc(1,Mo,3,2,"ng-template",28),c.Cc(2,Ao,3,2,"ng-template",29),c.Cc(3,ko,3,2,"ng-template",30),c.Rb()}if(2&t){var i=c.cc(2);c.ic("dataFields",i.sessionFields)("data",i.userSessions)("selectable",!0)("tableFilters",i.filter)("length",i.sessionCounts.total)("pageSizes",c.kc(10,_o))("trackByFn",i.trackBy)("selection",i.selectedSessions)("selectionField","Token")("disabledSelection",i.currentSession)}}function Io(t,e){if(1&t){var n=c.Tb();c.Sb(0,"button",36),c.Zb("click",(function(){return c.vc(n),c.cc(2).killSessions()})),c.Rb()}if(2&t){var i=c.cc(2);c.ic("innerText",i.killText())("disabled",!i.userSessions||i.sessionCounts.total<2||i.loadingSessions)}}function To(t,e){if(1&t&&(c.Sb(0,"div"),c.Nb(1,"p",31),c.Rb()),2&t){var n=e.row;c.Ab(1),c.ic("innerText",n.Date.format("MMM D, Y h:mm A"))}}function Eo(t,e){if(1&t&&(c.Sb(0,"div",34),c.Nb(1,"img",35),c.Nb(2,"p",31),c.Rb()),2&t){var n=e.row,i=c.cc(3).$implicit;c.Ab(1),c.ic("src",n.browserIcon(),c.xc),c.Ab(1),c.ic("innerText",i("myProfile.security.methods."+n.Browser))}}function Fo(t,e){if(1&t&&(c.Sb(0,"div",34),c.Nb(1,"img",35),c.Nb(2,"p",31),c.Rb()),2&t){var n=e.row,i=c.cc(3).$implicit;c.Ab(1),c.ic("src",n.methodIcon(),c.xc),c.Ab(1),c.ic("innerText",i(n.types[n.Type].key))}}function Do(t,e){if(1&t&&(c.Sb(0,"div",42),c.Nb(1,"p",43),c.Rb()),2&t){var n=c.cc().row;c.Ab(1),c.ic("innerText",n.ReasonName)}}function No(t,e){if(1&t&&(c.Sb(0,"div",34),c.Nb(1,"img",40),c.Cc(2,Do,2,1,"ng-template",null,41,c.Dc),c.Rb()),2&t){var n=e.row,i=c.sc(3);c.Ab(1),c.ic("src",n.reasonIcon(),c.xc)("alt",n.ReasonName)("clTooltip",i)}}function Lo(t,e){if(1&t&&(c.Sb(0,"cl-data-table",38),c.Cc(1,To,2,1,"ng-template",28),c.Cc(2,Eo,3,2,"ng-template",29),c.Cc(3,Fo,3,2,"ng-template",30),c.Cc(4,No,4,3,"ng-template",39),c.Rb()),2&t){var n=c.cc(3);c.ic("dataFields",n.loginFields)("data",n.logins)("useInternalFilters",!0)("pageSizes",c.kc(5,_o))("trackByFn",n.trackBy)}}function Ho(t,e){if(1&t&&(c.Sb(0,"div",23),c.Sb(1,"h3"),c.Ec(2),c.Rb(),c.Cc(3,Lo,5,6,"cl-data-table",37),c.Rb()),2&t){var n=c.cc().$implicit,i=c.cc();c.Ab(2),c.Fc(n("myProfile.security.logins.failedLogins")),c.Ab(1),c.ic("ngIf",i.sessionsVisible)}}function Uo(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",23),c.Sb(1,"h3"),c.Ec(2,"Forget Remembered Devices"),c.Rb(),c.Sb(3,"div",44),c.Sb(4,"button",45),c.Zb("click",(function(){return c.vc(n),c.cc(2).deleteAllDevices()})),c.Ec(5,"Forget All Devices"),c.Rb(),c.Sb(6,"button",46),c.Zb("click",(function(){return c.vc(n),c.cc(2).deleteThisDevices()})),c.Ec(7,"Forget This Device"),c.Rb(),c.Rb(),c.Rb()}if(2&t){var i=c.cc(2);c.Ab(6),c.ic("disabled",null===i.deviceId)}}function Bo(t,e){if(1&t&&(c.Qb(0),c.Sb(1,"div",23),c.Sb(2,"h3"),c.Ec(3),c.Rb(),c.Cc(4,Ro,4,11,"cl-data-table",24),c.Cc(5,Io,1,2,"button",25),c.Rb(),c.Cc(6,Ho,4,2,"div",26),c.Cc(7,Uo,8,1,"div",26),c.Pb()),2&t){var n=e.$implicit,i=c.cc();c.Ab(3),c.Fc(n("myProfile.security.sessionTitle")),c.Ab(1),c.ic("ngIf",i.sessionsVisible),c.Ab(1),c.ic("ngIf",i.sessionsVisible),c.Ab(1),c.ic("ngIf",1==i.TMSSettings.useTMS),c.Ab(1),c.ic("ngIf",i.showForgetDevices)}}var jo=function(){function t(t,e,n,i,o,r,a,s,c){var l=this;this.helper=t,this.nodeApi=e,this.translationHelper=n,this.settingsService=i,this.sessionService=o,this.growlService=r,this.translationService=a,this.tmsService=s,this.http=c,this.twoFactor={created_datetime:"",gauth_set:!1,id:null,image1:null,is_eanabled:!1,type:0},this.twoFactorRequired=!0,this.yubikeyRegistered=!1,this.pinConfigured=!1,this.selectedOption=this.twoFactor.type,this.twoFactorOptions=[],this.sessionCounts={total:0,current:0},this.sessionsVisible=!1,this.selectedSessions=[],this.currentSession=[],this.filter={limit:5,offset:0,sort:"TokenAssignTime",orderBy:"desc"},this.sessionFields=[{header:"date",fieldName:"TokenAssignTime",template:{name:"date"},minWidth:225},{header:"browser",fieldName:"Browser",template:{name:"browser"},minWidth:100},{header:"method",fieldName:"LoginSourceId",template:{name:"method"},minWidth:150},{header:"ipAddress",fieldName:"IPAddress",minWidth:100}],this.logins=[],this.loginFields=[{header:"date",fieldName:"Date",template:{name:"date"},minWidth:250},{header:"browser",fieldName:"Browser",template:{name:"browser"},minWidth:100},{header:"method",fieldName:"Type",template:{name:"method"},minWidth:100},{header:"ipAddress",fieldName:"IP",minWidth:100},{header:"reason",fieldName:"Reason",minWidth:100,template:{name:"reason"}}],this.loadingSessions=!1,this.deviceId=null,this.showForgetDevices=!0,this.enable2faToggle=!0,this.subscriptions=[],St()(this.sessionFields,(function(t,e){l.sessionFields[e].header=a.translate("myProfile.security.sessions."+t.header)})),St()(this.loginFields,(function(t,e){l.loginFields[e].header=a.translate("myProfile.security.sessions."+t.header)})),this.subscriptions[0]=t.generalSettingsUpdated.subscribe((function(t){l.gwsToken=l.sessionService.getGwsToken(),l.currentSession=[l.gwsToken],l.generalSettings=t,l.twoFactorOptions=[],t.EnableTwofactorSMS&&l.twoFactorOptions.push({label:"mobileSms",value:1,verifyFunc:function(){return l.is2FAPhoneEnabled()}}),t.EnableTwofactorImage&&l.twoFactorOptions.push({label:"image",value:2,verifyFunc:function(){return l.is2FAImageEnabled()}}),t.EnableTwofactorMobile&&l.twoFactorOptions.push({label:"authenticator",value:3,verifyFunc:function(){return l.is2FAAuthenticatorEnabled()}}),t.EnableTwofactorDuo&&l.twoFactorOptions.push({label:"duoPush",value:4,verifyFunc:function(){return l.is2FADuoPushEnabled()}}),t.EnableTwofactorYubikey&&l.twoFactorOptions.push({label:"yubikey",value:6,verifyFunc:function(){return l.is2FAYubikeyEnabled()}}),t.EnableTwofactorPIN&&l.twoFactorOptions.push({label:"pin",value:7,verifyFunc:function(){return l.is2FAPinEnabled()}})})),this.subscriptions[1]=o.useTMSUpdated.subscribe((function(t){l.TMSSettings=t}))}return t.prototype.ngOnInit=function(){var t=this;if(this.TMSSettings){this.tmsService.getMFARequired().subscribe((function(e){t.twoFactorRequired=e}),(function(){t.twoFactorRequired=!1}));var e=this.sessionService.getUserInfo();3059==+e.TenantId&&+e.roleLevel<=3&&(this.enable2faToggle=!1),this.getTwoFactor(),this.TMSSettings.useTMS&&this.getLogins(),this.getSessions(this.filter)}else this.tmsService.isUsingTms(this.sessionService.getUserInfo().BuildingId).subscribe((function(e){t.TMSSettings=e,t.sessionService.useTMSUpdated.next(e),e?t.ngOnInit():t.getTwoFactor()}))},t.prototype.ngOnDestroy=function(){this.subscriptions.forEach((function(t){return t.unsubscribe()}))},t.prototype.getTwoFactor=function(){var t=this;this.nodeApi.getTwoFactor().subscribe((function(e){t.twoFactor=e||t.twoFactor,t.selectedOption=5===t.twoFactor.type?6:t.twoFactor.type,t.twoFactor&&t.generalSettings.EnableTwofactorSMS&&t.getPhoneSetting(),t.twoFactor&&t.generalSettings.EnableTwofactorYubikey&&t.getYubikeySetting(),t.twoFactor&&t.generalSettings.EnableTwofactorPIN&&t.getPinSettings()}))},t.prototype.getPhoneSetting=function(){var t=this;this.nodeApi.getPhoneSeting().subscribe((function(e){t.twoFactorPhone=e}))},t.prototype.getYubikeySetting=function(){var t=this;this.nodeApi.checkYubikeyRegistration().subscribe((function(e){return t.yubikeyRegistered=1===e.status}),(function(){return t.yubikeyRegistered=!1}))},t.prototype.getPinSettings=function(){var t=this;this.tmsService.getStoredMfa("pin").subscribe((function(e){e.length&&(t.pinConfigured=!0)}))},t.prototype.toggle2FA=function(t){var e=this;this.twoFactor.is_eanabled=t,this.nodeApi.updateTwoFactor(this.twoFactor).subscribe((function(n){e.translationHelper.translateAndAddGenericGrowl({severity:"success"},{subject:"myProfile.security.twoFactorAuthentication",verb:t?"common.enabled":"common.disabled"})}),(function(n){e.twoFactor.is_eanabled=!t}))},t.prototype.setTwoFactorType=function(){var t=this;this.twoFactor.type=this.selectedOption,this.twoFactorOptions.find((function(e){return e.value===t.selectedOption})).verifyFunc()?this.nodeApi.updateTwoFactor(this.twoFactor).subscribe((function(t){})):this.onConfigure2FA()},t.prototype.onOptionSelect=function(t){this.helper.securityIndexChanged.next(t),this.helper.tabPageChanged.next(1)},t.prototype.onConfigure2FA=function(){this.helper.securityIndexChanged.next(this.selectedOption),this.helper.tabPageChanged.next(2)},t.prototype.base2FAEnabled=function(){return this.twoFactor&&this.twoFactor.is_eanabled},t.prototype.is2FAPhoneEnabled=function(){return this.base2FAEnabled()&&this.twoFactorPhone&&this.twoFactorPhone.is_verified},t.prototype.is2FAImageEnabled=function(){return this.base2FAEnabled()&&this.twoFactor.image1&&""!==this.twoFactor.image1},t.prototype.is2FAAuthenticatorEnabled=function(){return this.base2FAEnabled()&&this.twoFactor.gauth_set},t.prototype.is2FADuoPushEnabled=function(){return this.base2FAEnabled()&&4===this.twoFactor.type},t.prototype.is2FAYubikeyEnabled=function(){return this.base2FAEnabled()&&this.yubikeyRegistered},t.prototype.is2FAPinEnabled=function(){return this.base2FAEnabled()&&this.pinConfigured},t.prototype.getLogins=function(t){var e=this;this.settingsService.getLogins().subscribe((function(t){e.logins=t.map((function(t){return new go(t)}))}))},t.prototype.getSessions=function(t){var e=this;this.settingsService.getSessions(t).subscribe((function(t){e.userSessions=t.data,e.sessionCounts={total:t.totalRows,current:t.rows},e.sessionsVisible=!0,e.loadingSessions=!1,e.getThisDeviceId()}))},t.prototype.handlePage=function(t){this.getSessions(this.filter)},t.prototype.killSessions=function(){var t=this;this.loadingSessions=!0,this.settingsService.killSessions(this.selectedSessions).subscribe((function(){setTimeout((function(){t.growlService.add.next({severity:"success",summary:t.translationService.translate("myProfile.security.sessions.sessionKill"),detail:t.translationService.translate("myProfile.security.sessions.sessionKillSuccess",{count:t.selectedSessions.length?t.selectedSessions.length:t.sessionCounts.total-1})}),t.filter.offset=0,t.selectedSessions=[],t.getSessions(t.filter)}),200)}))},t.prototype.trackBy=function(t){return t.Token},t.prototype.killText=function(){return this.selectedSessions.length?this.translationService.translate(this.selectedSessions.length>1?"myProfile.security.sessions.sessionGrowl_plural":"myProfile.security.sessions.sessionGrowl",{count:this.selectedSessions.length}):this.translationService.translate("myProfile.security.sessions.sessionGrowlAll")},t.prototype.getThisDeviceId=function(){var t,e=this;this.deviceId=null;for(var n=0,i=this.userSessions;n<i.length;n++){var o=i[n];o.Token===this.gwsToken&&(t=o.IPAddress)}this.tmsService.getAllDevices().subscribe((function(n){if(n.length>0)for(var i=0,o=n;i<o.length;i++){var r=o[i];r.ipAddress===t&&(e.deviceId=r.rememberedDeviceId)}else e.showForgetDevices=!1}))},t.prototype.deleteAllDevices=function(){var t=this;this.tmsService.deleteAllDevices().subscribe((function(e){t.getThisDeviceId(),t.growlService.add.next({severity:"success",summary:"Devices Forgotten",detail:"All devices forgotten."})}),(function(e){t.growlService.add.next({severity:"Error",summary:"Somthing Went Wrong",detail:"Please try again later."})}))},t.prototype.deleteThisDevices=function(){var t=this;this.tmsService.deleteThisDevice(this.deviceId).subscribe((function(e){t.getThisDeviceId(),t.growlService.add.next({severity:"success",summary:"Device Forgotten",detail:"This device was forgotten."})}),(function(e){t.growlService.add.next({severity:"Error",summary:"Somthing Went Wrong",detail:"Please try again later."})}))},t.\u0275fac=function(e){return new(e||t)(c.Mb(lt),c.Mb(l.a),c.Mb(J.a),c.Mb(xe.a),c.Mb(A.a),c.Mb(vt.v),c.Mb(ct.f),c.Mb(we),c.Mb(W.b))},t.\u0275cmp=c.Gb({type:t,selectors:[["app-security-tab"]],decls:3,vars:1,consts:[[1,"slideover-content"],[4,"transloco","translocoRead"],[4,"transloco"],["class","column-nowrap flex-start",4,"ngIf"],["optionTemplate",""],[1,"column-nowrap","flex-start"],[1,"toggle-wrapper"],["class","bold-label","id","enable2FAToggle","aria-describedby","toggleInstructions",3,"ngStyle","toggled","disabled","toggledChange",4,"ngIf"],["for","enable2FAToggle"],["id","toggleInstructions"],[1,"bold"],[3,"selection","options","showRemove","selectionChange"],["clTemplate","selectedItem"],["clTemplate","item"],[1,"button-text",3,"disabled","click"],["id","enable2FAToggle","aria-describedby","toggleInstructions",1,"bold-label",3,"ngStyle","toggled","disabled","toggledChange"],[1,"drop-template"],[3,"ngClass",4,"ngIf"],[3,"ngClass"],[1,"h2","no-margin"],["class","option","role","button","tabindex","0",3,"click","keydown.Enter",4,"ngIf"],["role","button","tabindex","0",1,"option",3,"click","keydown.Enter"],[1,"flex-start","column-nowrap","title-ctnr"],[1,"column-nowrap","flex-start","sessions"],[3,"dataFields","data","selectable","tableFilters","length","pageSizes","trackByFn","selection","selectionField","disabledSelection","tableFiltersChange","pageEvent","selectionChange",4,"ngIf"],["class","button button-danger",3,"innerText","disabled","click",4,"ngIf"],["class","column-nowrap flex-start sessions",4,"ngIf"],[3,"dataFields","data","selectable","tableFilters","length","pageSizes","trackByFn","selection","selectionField","disabledSelection","tableFiltersChange","pageEvent","selectionChange"],["clTemplate","date"],["clTemplate","browser"],["clTemplate","method"],[1,"no-margin",3,"innerText"],["class","no-margin current-session",3,"innerText",4,"ngIf"],[1,"no-margin","current-session",3,"innerText"],[1,"image-p"],["alt","",3,"src"],[1,"button","button-danger",3,"innerText","disabled","click"],[3,"dataFields","data","useInternalFilters","pageSizes","trackByFn",4,"ngIf"],[3,"dataFields","data","useInternalFilters","pageSizes","trackByFn"],["clTemplate","reason"],[3,"src","alt","clTooltip"],["reason",""],[1,"cl-tooltip"],[3,"innerText"],[1,"mfa-btn-row"],[1,"button","button-default",3,"click"],[1,"button","button-default",3,"disabled","click"]],template:function(t,e){1&t&&(c.Sb(0,"div",0),c.Cc(1,So,4,1,"ng-container",1),c.Cc(2,Bo,8,5,"ng-container",2),c.Rb()),2&t&&(c.Ab(1),c.ic("translocoRead","myProfile.security"))},directives:[ct.c,i.k,vt.n,vt.c,vt.J,i.l,i.i,vt.j,vt.P],styles:[".slideover-content[_ngcontent-%COMP%]{height:100%!important}.slideover-content[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin-bottom:50px}cl-slide-toggle[_ngcontent-%COMP%]{margin-bottom:5px}.toggle-wrapper[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex}.toggle-wrapper[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:800!important;font-size:calc(var(--font-modifier) * 14px)}p[_ngcontent-%COMP%]{font-size:calc(var(--font-modifier) * 13px);margin-bottom:20px}p.no-margin[_ngcontent-%COMP%]{margin-bottom:0}cl-dropdown[_ngcontent-%COMP%]{width:50%}p.drop-template[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;margin:0;width:100%;max-width:unset!important;font-weight:700}p.drop-template[_ngcontent-%COMP%], p.drop-template[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:calc(var(--font-modifier) * 13px)}p.drop-template[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:auto;color:var(--color-primary);font-weight:600}.bold[_ngcontent-%COMP%]{font-weight:700}.button-text[_ngcontent-%COMP%]{margin-top:20px}.option-ctnr[_ngcontent-%COMP%]{width:calc(100% + 20px);margin:0 -10px}.option-ctnr[_ngcontent-%COMP%]   .option[_ngcontent-%COMP%]{min-width:250px;position:relative;display:-ms-flexbox;display:flex;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-pack:start;justify-content:flex-start;-ms-flex-align:center;align-items:center;padding:20px;border-radius:5px;border:1px solid var(--color-border-dark);height:120px;-ms-flex:0 0 calc(33.333% - 20px);flex:0 0 calc(33.333% - 20px);margin:0 10px 10px}.option-ctnr[_ngcontent-%COMP%]   .option[_ngcontent-%COMP%]:hover{box-shadow:0 0 20px rgba(0,0,0,.1);opacity:1}.option-ctnr[_ngcontent-%COMP%]   .option[_ngcontent-%COMP%] > svg[_ngcontent-%COMP%]{font-size:60px;width:60px;opacity:.05;margin-right:auto}.option-ctnr[_ngcontent-%COMP%]   .option[_ngcontent-%COMP%]   .title-ctnr[_ngcontent-%COMP%]{margin-right:auto}.option-ctnr[_ngcontent-%COMP%]   .option[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:calc(var(--font-modifier) * 13px);font-weight:600;color:var(--color-primary)}.sessions[_ngcontent-%COMP%]{padding-bottom:50px;margin-bottom:0!important}.sessions[_ngcontent-%COMP%]   cl-data-table[_ngcontent-%COMP%]{margin-top:20px;overflow-x:hidden;padding:15px 10px 10px;border-radius:5px;border:2px solid #ddd}.sessions[_ngcontent-%COMP%] > .button-danger[_ngcontent-%COMP%]{margin-top:10px;-ms-flex-item-align:end;align-self:end}.sessions[_ngcontent-%COMP%]   .mfa-btn-row[_ngcontent-%COMP%]{margin-top:20px;-ms-flex-flow:row;flex-flow:row;-ms-flex-pack:justify;justify-content:space-between;width:350px}.image-p[_ngcontent-%COMP%], .sessions[_ngcontent-%COMP%]   .mfa-btn-row[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}.image-p[_ngcontent-%COMP%]{-ms-flex-flow:row nowrap;flex-flow:row nowrap;height:50px;max-height:50px}.image-p[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:40px;max-width:40px;margin:5px}.current-session[_ngcontent-%COMP%]{font-size:calc(var(--font-modifier) * 12px);color:var(--color-success)}"]}),t}(),zo=n("LvDl");function Vo(t,e){if(1&t&&(c.Sb(0,"div",9),c.Nb(1,"i",10),c.Sb(2,"p",11),c.Ec(3),c.Rb(),c.Rb()),2&t){var n=c.cc().$implicit;c.Ab(3),c.Fc(n("myProfile.security.passwordRecovery.unlinkOtherPhoneMessage"))}}function Go(t,e){if(1&t&&(c.Sb(0,"p"),c.Ec(1),c.Rb()),2&t){var n=c.cc(2).$implicit;c.Ab(1),c.Fc(n("myProfile.security.passwordRecovery.checkPhone"))}}function $o(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div"),c.Cc(1,Go,2,1,"p",4),c.Sb(2,"cl-input",12),c.Zb("valueChange",(function(t){return c.vc(n),c.cc(2).unlinkPhoneCode=t})),c.Rb(),c.Sb(3,"p",13),c.Sb(4,"button",14),c.Zb("click",(function(){return c.vc(n),c.cc(2).resendCode()})),c.Ec(5),c.Rb(),c.Ec(6),c.Rb(),c.Rb()}if(2&t){var i=c.cc().$implicit,o=c.cc();c.Ab(1),c.ic("ngIf",2===o.unlinkStep),c.Ab(1),c.ic("value",o.unlinkPhoneCode)("label",i("myProfile.security.verification")),c.Ab(3),c.Fc(i("myProfile.security.resendCode")),c.Ab(1),c.Gc(" ",i("myProfile.security.passwordRecovery.ifNotReceived"),"")}}function Zo(t,e){if(1&t){var n=c.Tb();c.Sb(0,"button",15),c.Zb("click",(function(){return c.vc(n),c.cc(2).sendCode()})),c.Ec(1),c.Rb()}if(2&t){var i=c.cc().$implicit;c.Ab(1),c.Fc(i("myProfile.security.passwordRecovery.unlink"))}}function Wo(t,e){if(1&t){var n=c.Tb();c.Sb(0,"button",15),c.Zb("click",(function(){return c.vc(n),c.cc(2).unlinkPhone()})),c.Ec(1),c.Rb()}if(2&t){var i=c.cc().$implicit;c.Ab(1),c.Fc(i("myProfile.security.passwordRecovery.unlink"))}}function qo(t,e){if(1&t){var n=c.Tb();c.Qb(0),c.Sb(1,"div",2),c.Sb(2,"h3"),c.Ec(3),c.Rb(),c.Rb(),c.Cc(4,Vo,4,1,"div",3),c.Cc(5,$o,7,5,"div",4),c.Sb(6,"div",5),c.Sb(7,"button",6,7),c.Zb("click",(function(){return c.vc(n),c.cc().visibleChange(!1)})),c.Ec(9),c.Rb(),c.Cc(10,Zo,2,1,"button",8),c.Cc(11,Wo,2,1,"button",8),c.Rb(),c.Pb()}if(2&t){var i=e.$implicit,o=c.cc();c.Ab(3),c.Fc(i("myProfile.security.passwordRecovery.unlinkOtherPhone")),c.Ab(1),c.ic("ngIf",1===o.unlinkStep),c.Ab(1),c.ic("ngIf",2===o.unlinkStep),c.Ab(4),c.Fc(i("common.cancel")),c.Ab(1),c.ic("ngIf",1===o.unlinkStep),c.Ab(1),c.ic("ngIf",2===o.unlinkStep)}}var Yo=function(){function t(t){var e=this;this.profileHelper=t,this.unlinkCode=new c.n,this.resend=new c.n,this.visible=!1,this.sub=t.unlinkModal.subscribe((function(t){e.visible=t.open,e.visible&&(e.unlinkStep=1)}))}return t.prototype.ngOnInit=function(){this.unlinkStep=1},t.prototype.ngOnDestroy=function(){this.sub.unsubscribe()},t.prototype.unlinkPhone=function(){this.unlinkCode.emit(this.unlinkPhoneCode)},t.prototype.sendCode=function(){this.resend.emit(!1),this.unlinkStep=2},t.prototype.resendCode=function(){this.resend.emit(!0)},t.prototype.visibleChange=function(t){this.profileHelper.unlinkModal.next({open:t})},t.\u0275fac=function(e){return new(e||t)(c.Mb(lt))},t.\u0275cmp=c.Gb({type:t,selectors:[["app-unlink-modal"]],outputs:{unlinkCode:"unlinkCode",resend:"resend"},decls:2,vars:1,consts:[[1,"modal-small","unlink-modal",3,"visible","visibleChange"],[4,"transloco"],[1,"modal-header"],["class","warning",4,"ngIf"],[4,"ngIf"],[1,"modal-controls"],[1,"button","button-default",3,"click"],["focusButton",""],["class","button button-success",3,"click",4,"ngIf"],[1,"warning"],[1,"far","fa-exclamation-triangle"],[1,"unlink-warning"],[1,"resend",3,"value","label","valueChange"],[1,"resend"],[1,"resend-button",3,"click"],[1,"button","button-success",3,"click"]],template:function(t,e){1&t&&(c.Sb(0,"cl-modal",0),c.Zb("visibleChange",(function(t){return e.visible=t}))("visibleChange",(function(t){return e.visibleChange(t)})),c.Cc(1,qo,12,6,"ng-container",1),c.Rb()),2&t&&c.ic("visible",e.visible)},directives:[vt.A,ct.c,i.k,vt.w],styles:["div.warning[_ngcontent-%COMP%]{width:100%;-ms-flex-flow:row wrap;flex-flow:row wrap;margin-bottom:10px}.unlink-warning[_ngcontent-%COMP%]{-ms-flex:1;flex:1}.resend[_ngcontent-%COMP%]{margin-top:15px}button.resend-button[_ngcontent-%COMP%]{color:var(--color-primary);padding:0;margin:0}button.resend-button[_ngcontent-%COMP%]:after{width:calc(100% + 8px);height:calc(100% + 8px);top:-4px;left:-4px}"]}),t}();function Ko(t,e){if(1&t&&(c.Nb(0,"div"),c.Ec(1)),2&t){var n=e.item;c.Cb("flag "+n.lowerName),c.Ab(1),c.Gc(" (",n.countryCallingCodes[0],") ")}}function Qo(t,e){if(1&t&&(c.Nb(0,"div"),c.Ec(1),c.Sb(2,"span",4),c.Ec(3),c.Rb()),2&t){var n=e.item;c.Cb("flag "+n.lowerName),c.Ab(1),c.Gc(" ",n.name," "),c.Ab(2),c.Gc("(",n.countryCallingCodes[0],")")}}var Jo=function(t,e,n){return{type:"tel",tabIndex:t,disabled:e,"aria-label":n}},Xo=function(){function t(){this.input={countryCode:"+1",number:""},this.disabled=!1,this.inputChange=new c.n,this.enter=new c.n,this.disabledClass=!1,this.selection="United States",this.inputVal="",this.countryData=P()(it,(function(t){return"deleted"!==t.status&&t.countryCallingCodes.length>0})).map((function(t){return t.lowerName=t.alpha2.toLowerCase(),t}))}return t.prototype.ngOnChanges=function(t){var e=this;if(t.input){this.inputVal=this.input.number;var n=j()(this.countryData,(function(t){return t.countryCallingCodes[0]===e.input.countryCode}));this.selection=n?n.name:"United States"}t.disabled&&(this.disabledClass=this.disabled)},t.prototype.onCountrySelected=function(){var t=this;this.input.countryCode=j()(this.countryData,(function(e){return e.name===t.selection})).countryCallingCodes[0],this.inputChange.emit(this.input)},t.prototype.onInputChange=function(){this.input.number=this.inputVal,this.inputChange.emit(this.input)},t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=c.Gb({type:t,selectors:[["app-phone-input"]],hostVars:2,hostBindings:function(t,e){2&t&&c.Eb("disabled",e.disabledClass)},inputs:{input:"input",disabled:"disabled"},outputs:{inputChange:"inputChange",enter:"enter"},features:[c.yb],decls:5,vars:17,consts:[[3,"ariaLabel","tabIndex","selection","options","optionValue","optionLabel","showRemove","selectionChange"],["clTemplate","selectedItem"],["clTemplate","item"],[3,"id","value","attributes","valueChange"],[1,"code"]],template:function(t,e){1&t&&(c.Sb(0,"cl-dropdown",0),c.Zb("selectionChange",(function(t){return e.selection=t}))("selectionChange",(function(){return e.onCountrySelected()})),c.Cc(1,Ko,2,3,"ng-template",1),c.Cc(2,Qo,4,4,"ng-template",2),c.Rb(),c.Sb(3,"cl-input",3),c.Zb("valueChange",(function(t){return e.inputVal=t}))("valueChange",(function(){return e.onInputChange()})),c.dc(4,"transloco"),c.Rb()),2&t&&(c.ic("ariaLabel","Select country code")("tabIndex",e.disabled?-1:0)("selection",e.selection)("options",e.countryData)("optionValue","name")("optionLabel","name")("showRemove",!1),c.Bb("aria-disabled",e.disabled),c.Ab(3),c.ic("id","phone-input")("value",e.inputVal)("attributes",c.nc(13,Jo,e.disabled?-1:0,e.disabled,c.ec(4,11,"myProfile.security.phoneNumber"))))},directives:[vt.n,vt.c,vt.w],pipes:[ct.e],styles:["app-phone-input{display:-ms-flexbox;display:flex;position:relative;width:100%;height:40px}app-phone-input cl-dropdown{width:150px;-ms-flex:0 0 150px;flex:0 0 150px;z-index:1}app-phone-input cl-dropdown .dropdown-ctnr{position:static!important}app-phone-input cl-dropdown .dropdown-ctnr .display{-ms-flex-pack:start!important;justify-content:flex-start!important}app-phone-input cl-dropdown .dropdown-ctnr span.drop-arrow{margin-left:auto!important}app-phone-input cl-input{position:relative;left:-60px;-ms-flex:0 0 calc(100% - 90px);flex:0 0 calc(100% - 90px);width:calc(100% - 90px)}app-phone-input cl-input .input-ctnr input{padding-left:70px!important}app-phone-input span.code{color:var(--color-light);font-weight:500;margin-left:5px;white-space:nowrap}app-phone-input .flag{width:16px;height:11px;background:url(flags.2c7e0b9816d4917bb412.png);margin-right:10px}app-phone-input .zw{background-position:0 0}app-phone-input .zm{background-position:-16px 0}app-phone-input .za{background-position:0 -11px}app-phone-input .yt{background-position:-16px -11px}app-phone-input .ye{background-position:-32px 0}app-phone-input .ws{background-position:-32px -11px}app-phone-input .wf{background-position:0 -22px}app-phone-input .vu{background-position:-32px -22px}app-phone-input .vn{background-position:0 -33px}app-phone-input .vi{background-position:-16px -33px}app-phone-input .vg{background-position:-32px -33px}app-phone-input .ve{background-position:-48px 0}app-phone-input .vc{background-position:-48px -11px}app-phone-input .va{background-position:-48px -22px}app-phone-input .uz{background-position:-48px -33px}app-phone-input .uy{background-position:0 -44px}app-phone-input .um,app-phone-input .us{background-position:-16px -44px}app-phone-input .ug{background-position:-32px -44px}app-phone-input .ua{background-position:-48px -44px}app-phone-input .tz{background-position:-64px 0}app-phone-input .tw{background-position:-64px -11px}app-phone-input .tv{background-position:-64px -22px}app-phone-input .tt{background-position:-64px -33px}app-phone-input .tr{background-position:-64px -44px}app-phone-input .to{background-position:0 -55px}app-phone-input .tn{background-position:-16px -55px}app-phone-input .tm{background-position:-32px -55px}app-phone-input .tl{background-position:-48px -55px}app-phone-input .tk{background-position:-64px -55px}app-phone-input .tj{background-position:0 -66px}app-phone-input .th{background-position:-16px -66px}app-phone-input .tg{background-position:-32px -66px}app-phone-input .tf{background-position:-48px -66px}app-phone-input .td{background-position:-64px -66px}app-phone-input .tc{background-position:-80px 0}app-phone-input .sz{background-position:-80px -11px}app-phone-input .sy{background-position:-80px -22px}app-phone-input .sx{background-position:-80px -33px}app-phone-input .sv{background-position:-80px -44px}app-phone-input .st{background-position:-80px -55px}app-phone-input .ss{background-position:-80px -66px}app-phone-input .sr{background-position:0 -77px}app-phone-input .so{background-position:-16px -77px}app-phone-input .sn{background-position:-32px -77px}app-phone-input .sm{background-position:-48px -77px}app-phone-input .sl{background-position:-64px -77px}app-phone-input .sk{background-position:-80px -77px}app-phone-input .si{background-position:-96px 0}app-phone-input .sh{background-position:-96px -11px}app-phone-input .sg{background-position:-96px -22px}app-phone-input .se{background-position:-96px -33px}app-phone-input .sd{background-position:-96px -44px}app-phone-input .sc{background-position:-96px -66px}app-phone-input .sb{background-position:-96px -77px}app-phone-input .sa{background-position:0 -88px}app-phone-input .rw{background-position:-16px -88px}app-phone-input .ru{background-position:-32px -88px}app-phone-input .rs{background-position:-48px -88px}app-phone-input .ro{background-position:-64px -88px}app-phone-input .qa{background-position:-80px -88px}app-phone-input .py{background-position:-96px -88px}app-phone-input .pw{background-position:0 -99px}app-phone-input .pt{background-position:-16px -99px}app-phone-input .ps{background-position:-32px -99px}app-phone-input .pr{background-position:-48px -99px}app-phone-input .pn{background-position:-64px -99px}app-phone-input .pm{background-position:-80px -99px}app-phone-input .pl{background-position:-96px -99px}app-phone-input .pk{background-position:-112px 0}app-phone-input .ph{background-position:-112px -11px}app-phone-input .pg{background-position:-112px -22px}app-phone-input .pf{background-position:-112px -33px}app-phone-input .pe{background-position:-112px -44px}app-phone-input .pa{background-position:-112px -55px}app-phone-input .om{background-position:-112px -66px}app-phone-input .nz{background-position:-112px -77px}app-phone-input .nu{background-position:-112px -88px}app-phone-input .nr{background-position:-112px -99px}app-phone-input .bv,app-phone-input .no,app-phone-input .sj{background-position:0 -110px}app-phone-input .nl{background-position:-16px -110px}app-phone-input .ni{background-position:-32px -110px}app-phone-input .ng{background-position:-48px -110px}app-phone-input .nf{background-position:-64px -110px}app-phone-input .ne{background-position:-80px -110px}app-phone-input .nc{background-position:-96px -110px}app-phone-input .na{background-position:-112px -110px}app-phone-input .mz{background-position:-128px 0}app-phone-input .my{background-position:-128px -11px}app-phone-input .mx{background-position:-128px -22px}app-phone-input .mw{background-position:-128px -33px}app-phone-input .mv{background-position:-128px -44px}app-phone-input .mu{background-position:-128px -55px}app-phone-input .mt{background-position:-128px -66px}app-phone-input .ms{background-position:-128px -77px}app-phone-input .mr{background-position:-128px -88px}app-phone-input .mq{background-position:-128px -99px}app-phone-input .mp{background-position:-128px -110px}app-phone-input .mo{background-position:0 -121px}app-phone-input .mn{background-position:-16px -121px}app-phone-input .mm{background-position:-32px -121px}app-phone-input .ml{background-position:-48px -121px}app-phone-input .mk{background-position:-64px -121px}app-phone-input .mh{background-position:-80px -121px}app-phone-input .mg{background-position:-96px -121px}app-phone-input .me{background-position:0 -132px;height:12px}app-phone-input .md{background-position:-112px -121px}app-phone-input .mc{background-position:-128px -121px}app-phone-input .ma{background-position:-16px -132px}app-phone-input .ly{background-position:-32px -132px}app-phone-input .lv{background-position:-48px -132px}app-phone-input .lu{background-position:-64px -132px}app-phone-input .lt{background-position:-80px -132px}app-phone-input .ls{background-position:-96px -132px}app-phone-input .lr{background-position:-112px -132px}app-phone-input .lk{background-position:-128px -132px}app-phone-input .li{background-position:-144px 0}app-phone-input .lc{background-position:-144px -11px}app-phone-input .lb{background-position:-144px -22px}app-phone-input .la{background-position:-144px -33px}app-phone-input .kz{background-position:-144px -44px}app-phone-input .ky{background-position:-144px -55px}app-phone-input .kw{background-position:-144px -66px}app-phone-input .kr{background-position:-144px -77px}app-phone-input .kp{background-position:-144px -88px}app-phone-input .kn{background-position:-144px -99px}app-phone-input .km{background-position:-144px -110px}app-phone-input .ki{background-position:-144px -121px}app-phone-input .kh{background-position:-144px -132px}app-phone-input .kg{background-position:0 -144px}app-phone-input .ke{background-position:-16px -144px}app-phone-input .jp{background-position:-32px -144px}app-phone-input .jo{background-position:-48px -144px}app-phone-input .jm{background-position:-64px -144px}app-phone-input .je{background-position:-80px -144px}app-phone-input .it{background-position:-96px -144px}app-phone-input .is{background-position:-112px -144px}app-phone-input .ir{background-position:-128px -144px}app-phone-input .iq{background-position:-144px -144px}app-phone-input .io{background-position:-160px 0}app-phone-input .in{background-position:-160px -11px}app-phone-input .im{background-position:-160px -22px;height:9px}app-phone-input .il{background-position:-160px -31px}app-phone-input .ie{background-position:-160px -42px}app-phone-input .id{background-position:-160px -53px}app-phone-input .hu{background-position:-160px -64px}app-phone-input .ht{background-position:-160px -75px}app-phone-input .hr{background-position:-160px -86px}app-phone-input .hn{background-position:-160px -97px}app-phone-input .hk{background-position:-160px -108px}app-phone-input .gy{background-position:-160px -119px}app-phone-input .gw{background-position:-160px -130px}app-phone-input .gu{background-position:-160px -141px}app-phone-input .gt{background-position:0 -155px}app-phone-input .gs{background-position:-16px -155px}app-phone-input .gr{background-position:-32px -155px}app-phone-input .gq{background-position:-48px -155px}app-phone-input .gp{background-position:-64px -155px}app-phone-input .gn{background-position:-80px -155px}app-phone-input .gm{background-position:-96px -155px}app-phone-input .gl{background-position:-112px -155px}app-phone-input .gi{background-position:-128px -155px}app-phone-input .gh{background-position:-144px -155px}app-phone-input .gg{background-position:-160px -155px}app-phone-input .ge{background-position:-176px 0}app-phone-input .gd{background-position:-176px -11px}app-phone-input .gb{background-position:-176px -22px}app-phone-input .ga{background-position:-176px -33px}app-phone-input .bl,app-phone-input .fr,app-phone-input .gf,app-phone-input .mf,app-phone-input .re{background-position:-176px -44px}app-phone-input .fo{background-position:-176px -55px}app-phone-input .fm{background-position:-176px -66px}app-phone-input .fk{background-position:-176px -77px}app-phone-input .fj{background-position:-176px -88px}app-phone-input .fi{background-position:-176px -99px}app-phone-input .eu{background-position:-176px -121px}app-phone-input .et{background-position:-176px -132px}app-phone-input .es{background-position:-176px -143px}app-phone-input .er{background-position:-176px -154px}app-phone-input .eh{background-position:-16px -166px}app-phone-input .eg{background-position:-32px -166px}app-phone-input .ee{background-position:-48px -166px}app-phone-input .ec{background-position:-64px -166px}app-phone-input .dz{background-position:-80px -166px}app-phone-input .do{background-position:-96px -166px}app-phone-input .dm{background-position:-112px -166px}app-phone-input .dk{background-position:-128px -166px}app-phone-input .dj{background-position:-144px -166px}app-phone-input .de{background-position:-160px -166px}app-phone-input .cz{background-position:-176px -166px}app-phone-input .cy{background-position:0 -177px}app-phone-input .cx{background-position:-16px -177px}app-phone-input .cw{background-position:-32px -177px}app-phone-input .cv{background-position:-48px -177px}app-phone-input .cu{background-position:-64px -177px}app-phone-input .cs{background-position:-80px -177px}app-phone-input .cr{background-position:-96px -177px}app-phone-input .co{background-position:-112px -177px}app-phone-input .cn{background-position:-128px -177px}app-phone-input .cm{background-position:-144px -177px}app-phone-input .cl{background-position:-160px -177px}app-phone-input .ck{background-position:-176px -177px}app-phone-input .ci{background-position:-192px 0}app-phone-input .cg{background-position:-192px -11px}app-phone-input .cf{background-position:-192px -22px}app-phone-input .cd{background-position:-192px -33px}app-phone-input .cc{background-position:-192px -44px}app-phone-input .ca{background-position:-192px -66px}app-phone-input .bz{background-position:-192px -77px}app-phone-input .by{background-position:-192px -88px}app-phone-input .bw{background-position:-192px -99px}app-phone-input .bt{background-position:-192px -110px}app-phone-input .bs{background-position:-192px -121px}app-phone-input .br{background-position:-192px -132px}app-phone-input .bq{background-position:-192px -143px}app-phone-input .bo{background-position:-192px -154px}app-phone-input .bn{background-position:-192px -165px}app-phone-input .bm{background-position:-192px -176px}app-phone-input .bj{background-position:0 -188px}app-phone-input .bi{background-position:-16px -188px}app-phone-input .bh{background-position:-32px -188px}app-phone-input .bg{background-position:-48px -188px}app-phone-input .bf{background-position:-64px -188px}app-phone-input .be{background-position:-80px -188px}app-phone-input .bd{background-position:-96px -188px}app-phone-input .bb{background-position:-112px -188px}app-phone-input .ba{background-position:-128px -188px}app-phone-input .az{background-position:-144px -188px}app-phone-input .ax{background-position:-160px -188px}app-phone-input .aw{background-position:-176px -188px}app-phone-input .au,app-phone-input .hm{background-position:-192px -188px}app-phone-input .at{background-position:-208px 0}app-phone-input .as{background-position:-208px -11px}app-phone-input .ar{background-position:-208px -22px}app-phone-input .ao{background-position:-208px -33px}app-phone-input .an{background-position:-208px -44px}app-phone-input .am{background-position:-208px -55px}app-phone-input .al{background-position:-208px -66px}app-phone-input .ai{background-position:-208px -77px}app-phone-input .ag{background-position:-208px -88px}app-phone-input .af{background-position:-208px -99px}app-phone-input .ae{background-position:-208px -110px}app-phone-input .ad{background-position:-208px -121px}app-phone-input .np{background-position:-208px -132px}app-phone-input .ch{background-position:-208px -143px}"],encapsulation:2}),t}(),tr=["emailGrowl"];function er(t,e){1&t&&(c.Qb(0),c.Sb(1,"div",9),c.Nb(2,"cl-progress-spinner",10),c.Rb(),c.Pb()),2&t&&(c.Ab(2),c.ic("strokeWidth",2))}function nr(t,e){if(1&t&&(c.Sb(0,"div",22),c.Sb(1,"p"),c.Ec(2),c.Rb(),c.Rb()),2&t){var n=c.cc(3).$implicit;c.Ab(2),c.Fc(n("myProfile.security.passwordRecovery.phoneInfo"))}}function ir(t,e){if(1&t){var n=c.Tb();c.Sb(0,"button",26),c.Zb("click",(function(){return c.vc(n),c.cc(5).resendPhoneCode()})),c.Ec(1),c.Rb()}if(2&t){var i=c.cc(4).$implicit;c.Bb("aria-label",i("myProfile.security.resendCode")),c.Ab(1),c.Fc(i("myProfile.security.resendCode"))}}function or(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",23),c.Cc(1,ir,2,2,"button",24),c.Sb(2,"button",25),c.Zb("click",(function(){return c.vc(n),c.cc(4).showModal=!0}))("clClickOutside",(function(){return c.vc(n),c.cc(4).showModal=!1}))("clTooltipDisplayChange",(function(t){return c.vc(n),c.cc(4).showModal=t})),c.Ec(3),c.Rb(),c.Rb()}if(2&t){var i=c.cc(3).$implicit,o=c.sc(7),r=c.cc();c.Ab(1),c.ic("ngIf",!r.form.phone.isVerified),c.Ab(1),c.ic("clTooltip",o)("clTooltipDisplay",r.showModal)("clTooltipDirection","bottom")("clTooltipPersist",!0),c.Bb("aria-label",i("common.delete")),c.Ab(1),c.Gc(" ",i("common.delete")," ")}}function rr(t,e){1&t&&(c.Sb(0,"div",27),c.Nb(1,"i",28),c.Rb())}function ar(t,e){if(1&t){var n=c.Tb();c.Sb(0,"button",29),c.Zb("click",(function(){return c.vc(n),c.cc(4).verifyPhoneCode()})),c.Ec(1),c.Rb()}if(2&t){var i=c.cc(3).$implicit;c.Ab(1),c.Fc(i("common.submit"))}}var sr=function(t,e){return{tabindex:t,disabled:e,id:"verification-code-input",type:"text"}};function cr(t,e){if(1&t){var n=c.Tb();c.Qb(0),c.Cc(1,nr,3,1,"div",11),c.Sb(2,"div",12),c.Sb(3,"div",13),c.Sb(4,"div",14),c.Sb(5,"label",15),c.Ec(6),c.Rb(),c.Cc(7,or,4,7,"div",16),c.Rb(),c.Sb(8,"app-phone-input",17),c.Zb("inputChange",(function(t){return c.vc(n),c.cc(3).form.phone.input=t}))("enter",(function(){return c.vc(n),c.cc(3).saveRecoveryOptions()})),c.Rb(),c.Cc(9,rr,2,0,"div",18),c.Rb(),c.Sb(10,"div",13),c.Sb(11,"label",19),c.Ec(12),c.Rb(),c.Sb(13,"cl-input",20),c.Zb("valueChange",(function(t){return c.vc(n),c.cc(3).form.phone.code=t})),c.Rb(),c.Cc(14,ar,2,1,"button",21),c.Rb(),c.Rb(),c.Pb()}if(2&t){var i=c.cc(2).$implicit,o=c.cc();c.Ab(1),c.ic("ngIf",!o.initialRun),c.Ab(5),c.Fc(i("myProfile.security.phoneNumber")),c.Ab(1),c.ic("ngIf",o.form.phone.isConfirmed),c.Ab(1),c.ic("disabled",o.form.phone.isConfirmed||o.form.phone.isVerified)("input",o.form.phone.input),c.Ab(1),c.ic("ngIf",o.form.phone.isVerified),c.Ab(1),c.Ac("margin","0 0 40px 10px"),c.Eb("disabled",!o.form.phone.isConfirmed||o.form.phone.isVerified),c.Ab(2),c.Fc(i("myProfile.security.verification")),c.Ab(1),c.Eb("gray",!o.form.phone.isConfirmed||o.form.phone.isVerified),c.ic("value",o.form.phone.code)("attributes",c.mc(16,sr,!o.form.phone.isConfirmed||o.form.phone.isVerified?-1:0,!o.form.phone.isConfirmed||o.form.phone.isVerified?-1:0)),c.Ab(1),c.ic("ngIf",o.form.phone.isConfirmed&&!o.form.phone.isVerified)}}function lr(t,e){if(1&t&&(c.Sb(0,"div",22),c.Sb(1,"p"),c.Ec(2),c.Rb(),c.Rb()),2&t){var n=c.cc(3).$implicit;c.Ab(2),c.Fc(n("myProfile.security.passwordRecovery.emailInfo"))}}function pr(t,e){if(1&t){var n=c.Tb();c.Sb(0,"button",26),c.Zb("click",(function(){return c.vc(n),c.cc(5).resendVerificationEmail()})),c.Ec(1),c.Rb()}if(2&t){var i=c.cc(4).$implicit;c.Bb("aria-label",i("myProfile.security.passwordRecovery.resendEmail")),c.Ab(1),c.Fc(i("myProfile.security.passwordRecovery.resendEmail"))}}function ur(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",23),c.Cc(1,pr,2,2,"button",24),c.Sb(2,"button",32),c.Zb("click",(function(){return c.vc(n),c.cc(4).showModal=!0}))("clTooltipDisplayChange",(function(t){return c.vc(n),c.cc(4).showModal=t})),c.Ec(3),c.Rb(),c.Rb()}if(2&t){var i=c.cc(3).$implicit,o=c.sc(7),r=c.cc();c.Ab(1),c.ic("ngIf",!r.form.email.isVerified),c.Ab(1),c.ic("clTooltip",o)("clTooltipDisplay",r.showModal)("clTooltipDirection","bottom")("clTooltipPersist",!0),c.Bb("aria-label",i("common.delete")),c.Ab(1),c.Gc(" ",i("common.delete")," ")}}function dr(t,e){1&t&&(c.Sb(0,"div",27),c.Nb(1,"i",28),c.Rb())}var br=function(){return{id:"email-input",type:"text"}},gr=function(t){return{"keydown.Enter":t}};function fr(t,e){if(1&t){var n=c.Tb();c.Qb(0),c.Cc(1,lr,3,1,"div",11),c.Sb(2,"div",13),c.Sb(3,"div",14),c.Sb(4,"label",30),c.Ec(5),c.Rb(),c.Cc(6,ur,4,7,"div",16),c.Rb(),c.Sb(7,"cl-input",31),c.Zb("valueChange",(function(t){return c.vc(n),c.cc(3).form.email.input=t})),c.Rb(),c.Cc(8,dr,2,0,"div",18),c.Rb(),c.Pb()}if(2&t){var i=c.cc(2).$implicit,o=c.cc();c.Ab(1),c.ic("ngIf",!o.initialRun),c.Ab(4),c.Fc(i("myProfile.security.email")),c.Ab(1),c.ic("ngIf",o.form.email.isConfirmed),c.Ab(1),c.ic("disabled",o.form.email.isConfirmed||o.form.email.isVerified)("value",o.form.email.input)("attributes",c.kc(9,br))("inputValidator",o.isValidEmail.bind(o))("events",c.lc(10,gr,o.saveRecoveryOptions.bind(o))),c.Ab(1),c.ic("ngIf",o.form.email.isVerified)}}function hr(t,e){if(1&t&&(c.Sb(0,"div",22),c.Sb(1,"p"),c.Ec(2),c.Rb(),c.Rb()),2&t){var n=c.cc(3).$implicit;c.Ab(2),c.Fc(n("myProfile.security.passwordRecovery.questionInfo"))}}var mr=function(t,e){return{question:t,index:e}};function vr(t,e){if(1&t&&c.Ob(0,35),2&t){var n=e.$implicit,i=e.index;c.cc(3);var o=c.sc(9);c.ic("ngTemplateOutlet",o)("ngTemplateOutletContext",c.mc(2,mr,n,i))}}var yr=function(t){return{"margin-left":t}};function Cr(t,e){if(1&t){var n=c.Tb();c.Sb(0,"button",36),c.Zb("click",(function(){return c.vc(n),c.cc(4).showModal=!0}))("clTooltipDisplayChange",(function(t){return c.vc(n),c.cc(4).showModal=t})),c.Ec(1),c.Rb()}if(2&t){var i=c.cc(3).$implicit,o=c.sc(7),r=c.cc();c.ic("ngStyle",c.lc(7,yr,r.initialRun?"55px":"0px"))("clTooltip",o)("clTooltipDisplay",r.showModal)("clTooltipDirection","bottom")("clTooltipPersist",!0),c.Bb("aria-label",i("common.removeMultiple")),c.Ab(1),c.Gc(" ",i("common.removeMultiple")," ")}}function wr(t,e){if(1&t&&(c.Qb(0),c.Cc(1,hr,3,1,"div",11),c.Cc(2,vr,1,5,"ng-container",33),c.Cc(3,Cr,2,9,"button",34),c.Pb()),2&t){var n=c.cc(3);c.Ab(1),c.ic("ngIf",!n.initialRun),c.Ab(1),c.ic("ngForOf",n.form.questions.input),c.Ab(1),c.ic("ngIf",n.canDeleteQuestions&&!n.initialRun)}}function xr(t,e){if(1&t&&(c.Qb(0),c.Cc(1,cr,15,19,"ng-container",3),c.Cc(2,fr,9,12,"ng-container",3),c.Cc(3,wr,4,3,"ng-container",3),c.Pb()),2&t){var n=c.cc(2);c.Ab(1),c.ic("ngIf",0===n.activeTab),c.Ab(1),c.ic("ngIf",1===n.activeTab),c.Ab(1),c.ic("ngIf",2===n.activeTab)}}function Pr(t,e){if(1&t){var n=c.Tb();c.Sb(0,"button",36),c.Zb("click",(function(){return c.vc(n),c.cc(3).showModal=!0}))("clTooltipDisplayChange",(function(t){return c.vc(n),c.cc(3).showModal=t})),c.Ec(1),c.Rb()}if(2&t){var i=c.cc(2).$implicit,o=c.sc(7),r=c.cc();c.ic("ngStyle",c.lc(7,yr,r.initialRun?"55px":"0px"))("clTooltip",o)("clTooltipDisplay",r.showModal)("clTooltipDirection","bottom")("clTooltipPersist",!0),c.Bb("aria-label",i("common.removeMultiple")),c.Ab(1),c.Gc(" ",i("common.removeMultiple")," ")}}function Sr(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",37),c.Cc(1,Pr,2,9,"button",34),c.Sb(2,"button",38),c.Zb("click",(function(){return c.vc(n),c.cc(2).saveRecoveryOptions()})),c.Ec(3),c.Rb(),c.Rb()}if(2&t){var i=c.cc().$implicit,o=c.cc();c.Ab(1),c.ic("ngIf",2===o.activeTab&&o.canDeleteQuestions),c.Ab(1),c.ic("disabled",!o.canSaveOptions())("tabindex",o.canSaveOptions()?0:-1),c.Ab(1),c.Gc(" ",i("common.save")," ")}}function Or(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",39),c.Sb(1,"button",40),c.Zb("click",(function(){return c.vc(n),c.cc(2).helper.tabPageChanged.next(0)})),c.Ec(2),c.Rb(),c.Sb(3,"button",41),c.Zb("click",(function(){return c.vc(n),c.cc(2).saveRecoveryOptions()})),c.Ec(4),c.Rb(),c.Rb()}if(2&t){var i=c.cc().$implicit,o=c.cc();c.Ab(2),c.Fc(i("common.goBack")),c.Ab(1),c.ic("disabled",!o.canSaveOptions())("tabindex",o.canSaveOptions()?0:-1),c.Ab(1),c.Fc(i("common.save"))}}function Mr(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",42),c.Sb(1,"h4"),c.Ec(2),c.Rb(),c.Sb(3,"p"),c.Ec(4),c.Rb(),c.Sb(5,"div",43),c.Sb(6,"button",40),c.Zb("click",(function(){return c.vc(n),c.cc(2).showModal=!1})),c.Ec(7),c.Rb(),c.Sb(8,"button",44),c.Zb("click",(function(){c.vc(n);var t=c.cc(2);return 0===t.activeTab?t.deletePhone():1===t.activeTab?t.deleteEmail():t.deleteQuestions(),t.showModal=!1})),c.Ec(9),c.Rb(),c.Rb(),c.Rb()}if(2&t){var i=c.cc().$implicit,o=c.cc();c.Ab(2),c.Fc(i(0===o.activeTab?"myProfile.security.passwordRecovery.deletePhone":1===o.activeTab?"myProfile.security.passwordRecovery.deleteEmail":"myProfile.security.passwordRecovery.deleteQuestions")),c.Ab(2),c.Gc(" ",i(0===o.activeTab?"myProfile.security.passwordRecovery.deletePhoneInfo":1===o.activeTab?"myProfile.security.passwordRecovery.deleteEmailInfo":"myProfile.security.passwordRecovery.deleteQuestionsInfo"),""),c.Ab(3),c.Fc(i("common.cancel")),c.Ab(2),c.Fc(i("common.delete"))}}function Ar(t,e){if(1&t&&(c.Sb(0,"p",53),c.Ec(1),c.Rb()),2&t){var n=e.$implicit;c.Ab(1),c.Fc(n)}}function kr(t,e){if(1&t&&(c.Sb(0,"div"),c.Cc(1,Ar,2,1,"p",52),c.Rb()),2&t){var n=c.cc().question,i=c.cc(2);c.Ab(1),c.ic("ngForOf",i.validatorResults[n.id][n.answer])}}function _r(t,e){if(1&t&&(c.Sb(0,"p",53),c.Ec(1),c.Rb()),2&t){var n=e.$implicit;c.Ab(1),c.Fc(n)}}function Rr(t,e){if(1&t&&(c.Sb(0,"div"),c.Cc(1,_r,2,1,"p",52),c.Rb()),2&t){var n=c.cc().question,i=c.cc(2);c.Ab(1),c.ic("ngForOf",i.customValidatorResults[n.answer])}}var Ir=function(t){return{number:t}},Tr=function(t,e){return{type:"text","aria-label":t,tabindex:e}},Er=function(t){return{"aria-label":t,type:"password"}};function Fr(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",45),c.Sb(1,"label"),c.Ec(2),c.Rb(),c.Sb(3,"div",46),c.Sb(4,"div",47),c.Sb(5,"cl-dropdown",48),c.Zb("click",(function(){c.vc(n);var t=e.index;return c.cc(2).closeOtherDropdowns(t)}))("selectionChange",(function(t){return c.vc(n),e.question.id=t})),c.Rb(),c.Sb(6,"cl-input",49),c.Zb("valueChange",(function(t){return c.vc(n),e.question.question=t})),c.Rb(),c.Rb(),c.Sb(7,"div",50),c.Sb(8,"cl-input",51),c.Zb("valueChange",(function(t){return c.vc(n),e.question.answer=t})),c.Rb(),c.Rb(),c.Rb(),c.Cc(9,kr,2,1,"div",3),c.Cc(10,Rr,2,1,"div",3),c.Rb()}if(2&t){var i=e.question,o=e.index,r=c.cc().$implicit,a=c.cc();c.Ab(1),c.Bb("for",0===o?"question-one-input":1===o?"question-two-input":"question-three-input"),c.Ab(1),c.Fc(r(0===o?"myProfile.security.passwordRecovery.questionOne":1===o?"myProfile.security.passwordRecovery.questionTwo":"myProfile.security.passwordRecovery.questionThree")),c.Ab(2),c.Eb("full-width-drop",-1!==i.id),c.Ab(1),c.Ac("z-index",a.activeDropdownIndex===o?2:""),c.ic("id",0===o?"question-one-input":1===o?"question-two-input":"question-three-input")("selection",i.id)("options",a.availableQuestions)("showRemove",!1)("optionLabel","question")("optionValue","id"),c.Ab(1),c.ic("attributes",c.mc(21,Tr,r("myProfile.security.passwordRecovery.yourQuestion",c.lc(19,Ir,o+1)),-1===i.id?0:-1))("value",i.question),c.Ab(2),c.ic("attributes",c.lc(26,Er,r("myProfile.security.passwordRecovery.yourAnswer",c.lc(24,Ir,o+1))))("value",i.answer)("showPasswordEye",!0),c.Ab(1),c.ic("ngIf",i.id>0&&a.validatorResults[i.id]&&a.validatorResults[i.id][i.answer]),c.Ab(1),c.ic("ngIf",i.id<0&&a.customValidatorResults[i.answer])}}var Dr=function(t){return{email:t}};function Nr(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",54),c.Sb(1,"h4"),c.Ec(2),c.Rb(),c.Sb(3,"p"),c.Ec(4),c.Rb(),c.Sb(5,"button",55),c.Zb("click",(function(){return c.vc(n),c.cc(2).closeGrowl()})),c.Ec(6),c.Rb(),c.Rb()}if(2&t){var i=c.cc().$implicit,o=c.cc();c.Ab(2),c.Fc(i("myProfile.security.passwordRecovery.emailConfirmationMsg",c.lc(3,Dr,o.form.email.input))),c.Ab(2),c.Fc(i("myProfile.security.passwordRecovery.confirmEmailAddress")),c.Ab(2),c.Gc(" ",i("common.ok")," ")}}function Lr(t,e){if(1&t&&(c.Qb(0),c.Sb(1,"div",2),c.Cc(2,er,3,1,"ng-container",3),c.Cc(3,xr,4,3,"ng-container",3),c.Cc(4,Sr,4,4,"div",4),c.Rb(),c.Cc(5,Or,5,4,"div",5),c.Cc(6,Mr,10,4,"ng-template",null,6,c.Dc),c.Cc(8,Fr,11,28,"ng-template",null,7,c.Dc),c.Cc(10,Nr,7,5,"ng-template",null,8,c.Dc),c.Pb()),2&t){var n=c.cc();c.Ab(2),c.ic("ngIf",n.loading),c.Ab(1),c.ic("ngIf",!n.loading),c.Ab(1),c.ic("ngIf",n.initialRun),c.Ab(1),c.ic("ngIf",!n.initialRun)}}var Hr=n("B5V+"),Ur=function(){function t(t,e,n,i,o,r,a,s){this.nodeApi=t,this.tms=e,this.sessionService=n,this.menuHelper=i,this.translationHelper=o,this.helper=r,this.growlService=a,this.initialRunHelper=s,this.initialRun=!1,this.loading=!0,this.form={phone:{id:-1,isConfirmed:!1,isVerified:!1,input:{countryCode:"+1",number:""},code:""},email:{id:-1,isConfirmed:!1,isVerified:!1,input:""},questions:{input:[]}},this.originalForm=this.form,this.availableQuestions=[],this.showModal=!1,this.validatorResults={},this.customValidatorResults={},this.tenantMinLen=3,this.subscriptions=[]}return t.prototype.ngOnInit=function(){var t=this;this.getUserRecoveryOptions(),this.initialRun?this.subscriptions[0]=this.initialRunHelper.recoverySelectionChanged.subscribe((function(e){t.activeTab=e,1===t.activeTab&&t.getUserRecoveryOptions(),2===t.activeTab&&t.getRecoveryQuestions()})):(this.subscriptions[0]=this.helper.securityIndexChanged.subscribe((function(e){return t.activeTab=e})),2===this.activeTab&&this.getRecoveryQuestions())},t.prototype.ngAfterViewInit=function(){var t=this;this.subscriptions[1]=this.dropdowns.changes.subscribe((function(e){t.handles=t.dropdowns.toArray().map((function(e){return t.menuHelper.registerMenu((function(){return e.hideDropdown()}))}))})),this.handles=this.dropdowns.toArray().map((function(e){return t.menuHelper.registerMenu((function(){return e.hideDropdown()}))}))},t.prototype.ngOnDestroy=function(){this.subscriptions.forEach((function(t){return t.unsubscribe()})),this.showModal=!1},t.prototype.getRecoveryQuestions=function(){var t=this;Object(E.a)({questions:this.nodeApi.getAvailableRecoveryQuestions(),validation:this.tms.getRecoveryValidation()}).subscribe((function(e){var n=e.questions,i=e.validation;if(n.push({id:-1,question:"Custom"}),t.availableQuestions=n,i.length){var o=Object(zo.find)(i,(function(t){return"minLength"===t.validationType}));t.tenantMinLen=o?o.validationValue:3}}))},t.prototype.getUserRecoveryOptions=function(){var t=this;this.nodeApi.getCurrentRecoveryOptions().subscribe((function(e){var n=e.phones[0]?e.phones[0]:void 0,i=e.emails[0]?e.emails[0]:void 0,o=e.secretquestions,r={id:-1,question:"",answer:""};t.form.phone=n?{id:n.id,isConfirmed:!0,isVerified:n.is_verified,input:t.helper.guessParseNumber(t.helper.decryptResponse(n.recovery_text)),code:""}:{id:-1,isConfirmed:!1,isVerified:!1,input:t.helper.guessParseNumber(""),code:""},t.form.email=i?{id:i.id,isConfirmed:!0,isVerified:i.is_verified,input:t.helper.decryptResponse(i.recovery_text)}:{id:-1,isConfirmed:!1,isVerified:!1,input:""},t.form.questions={input:new Array(3).fill(0).map((function(e,n){return 0!==o&&o[n]?{id:o[n].secret_question_id?o[n].secret_question_id:-1,question:o[n].custom_secret_question?o[n].custom_secret_question:"",answer:t.helper.decryptResponse(o[n].recovery_text)}:Object(R.a)({},r)}))},t.originalForm=D()(t.form),t.showDelete(),t.loading=!1}))},t.prototype.closeOtherDropdowns=function(t){this.activeDropdownIndex=t,this.menuHelper.closeAllOtherMenus(this.handles[t])},t.prototype.isValidEmail=function(){return ht.a.isValidEmail(this.form.email.input)},t.prototype.canSaveOptions=function(){return 0===this.activeTab&&this.canSavePhone()||1===this.activeTab&&this.canSaveEmail()||2===this.activeTab&&this.canSaveQuestions()},t.prototype.canSavePhone=function(){var t=this.form.phone;return!(t.isConfirmed&&!t.isVerified)&&!(t.isConfirmed&&t.isVerified)&&""!==t.input.number&&""!==t.input.countryCode&&this.arePhonesDifferent()},t.prototype.canSaveEmail=function(){return""!==this.form.email.input&&this.isValidEmail()&&this.areEmailsDifferent()},t.prototype.canSaveQuestions=function(){return Oi()(this.form.questions.input,(function(t){return""!==t.answer}))&&this.areQuestionsDifferent()},t.prototype.arePhonesDifferent=function(){var t=this.originalForm.phone.input,e=this.form.phone.input;return t.countryCode!==e.countryCode||t.number!==e.number},t.prototype.areEmailsDifferent=function(){return this.originalForm.email.input!==this.form.email.input},t.prototype.areQuestionsDifferent=function(){var t=this.originalForm.questions.input,e=this.form.questions.input;if(t.length!==e.length)return!0;for(var n=0;n<e.length;n++){var i=e[n],o=t[n];if(i.id!==o.id||-1===i.id&&i.question!==o.question||i.answer!==o.answer)return!0}return!1},t.prototype.checkValidationErrors=function(){var t=this;if(0===Object.keys(this.validatorResults).length&&0===Object.keys(this.customValidatorResults).length)return!0;var e=!0;return Object.keys(this.validatorResults).forEach((function(n){t.validatorResults[n]&&Object.keys(t.validatorResults[n]).forEach((function(i){0!==t.validatorResults[n][i].length&&(e=!1)}))})),Object.keys(this.customValidatorResults).forEach((function(n){0!==t.customValidatorResults[n].length&&Object(zo.find)(t.form.questions.input,(function(t){return t.answer===n}))&&(e=!1)})),e},t.prototype.saveRecoveryOptions=function(){var t,e=this;0===this.activeTab&&this.arePhonesDifferent()?t=this.tms.addRecoveryPhone(this.form.phone.input.countryCode.trim()+this.form.phone.input.number.trim(),!1):1===this.activeTab&&this.areEmailsDifferent()?t=this.nodeApi.addRecoveryEmail(this.form.email.input.trim()):2===this.activeTab&&(this.validateInput(),this.areQuestionsDifferent()&&this.checkValidationErrors()&&(t=this.nodeApi.setRecoveryQuestions(this.form.questions.input))),t&&t.subscribe((function(t){1===e.activeTab&&(e.addEmailGrowl(),e.originalForm.email.input=e.form.email.input,e.form.email.isConfirmed=!0),2===e.activeTab&&(e.canDeleteQuestions=!0),0===e.activeTab?(e.recoveryToken=t.prePasswordRecoveryToken,e.originalForm.phone={id:-1,isVerified:!1,isConfirmed:!1,input:{countryCode:"+1",number:""},code:""},e.form.phone={id:-1,isConfirmed:!0,isVerified:!1,input:e.form.phone.input,code:""}):(e.helper.tabPageChanged.next(0),e.initialRun&&e.updateInitialRunProgress()),1!==e.activeTab&&e.translationHelper.translateAndAddGenericGrowl({severity:"success"},{subject:"myProfile.security.recoveryOptions",verb:"common.edited"})}),(function(t){t.error.message.includes("is already linked to another account")&&(e.form.phone={id:-1,isConfirmed:!1,isVerified:!1,input:e.form.phone.input,code:""},e.helper.unlinkModal.next({open:!0}))}))},t.prototype.resendPhoneCode=function(){var t=this,e=(this.form.phone.input.countryCode+this.form.phone.input.number).replace(/\s+/g,"");this.tms.addRecoveryPhone(e,!1).subscribe((function(e){t.recoveryToken=e.prePasswordRecoveryToken,t.translationHelper.translateAndAddGenericGrowl({severity:"success"},{subject:"myProfile.security.phoneCode",verb:"common.resent"})}))},t.prototype.sendUnlinkCode=function(t){var e=this,n=(this.form.phone.input.countryCode+this.form.phone.input.number).replace(/\s+/g,"");this.tms.addRecoveryPhone(n,!0).subscribe((function(n){e.recoveryToken=n.prePasswordRecoveryToken,t&&e.translationHelper.translateAndAddGenericGrowl({severity:"success"},{subject:"myProfile.security.passwordRecovery.unlinkCode",verb:"common.resent"}),t||e.translationHelper.translateAndAddGenericGrowl({severity:"success"},{subject:"myProfile.security.passwordRecovery.unlinkCode",verb:"growl.sent"})}))},t.prototype.unlinkPhone=function(t){var e=this;this.tms.unlinkRecoveryPhone(t,this.recoveryToken).subscribe((function(t){e.helper.unlinkModal.next({open:!1}),e.translationHelper.translateAndAddGenericGrowl({severity:"success"},{subject:"myProfile.security.phone",verb:"growl.unlinkedAndVerified"}),e.form.phone.isConfirmed=!0,e.form.phone.isVerified=!0}))},t.prototype.resendVerificationEmail=function(){var t=this;this.nodeApi.resendRecoveryEmail(this.form.email.input).subscribe((function(e){t.addEmailGrowl()}))},t.prototype.deletePhone=function(){var t=this;this.tms.deleteRecoveryMethod(1).subscribe((function(e){t.originalForm.phone={id:-1,isVerified:!1,isConfirmed:!1,input:{countryCode:"+1",number:""},code:""},t.form.phone={id:-1,isVerified:!1,isConfirmed:!1,input:{countryCode:"+1",number:""},code:""},t.initialRunHelper.initialRunSettingsUpdated.next(!0),t.translationHelper.translateAndAddGenericGrowl({severity:"success"},{subject:"myProfile.security.phone",verb:"common.removed"})}))},t.prototype.deleteEmail=function(){var t=this;this.nodeApi.removeRecoveryEmail(this.form.email.id).subscribe((function(e){t.originalForm.email={id:-1,isVerified:!1,isConfirmed:!1,input:""},t.form.email={id:-1,isVerified:!1,isConfirmed:!1,input:""},t.initialRunHelper.initialRunSettingsUpdated.next(!0),t.translationHelper.translateAndAddGenericGrowl({severity:"success"},{subject:"myProfile.security.email",verb:"common.removed"})}))},t.prototype.verifyPhoneCode=function(){var t=this;this.tms.verifyPhoneCode(this.form.phone.code,this.recoveryToken).subscribe((function(e){t.translationHelper.translateAndAddGenericGrowl({severity:"success"},{subject:"myProfile.security.phone",verb:"growl.verified"}),t.form.phone.isVerified=!0,t.initialRun&&t.updateInitialRunProgress(),t.helper.tabPageChanged.next(0)}))},t.prototype.addEmailGrowl=function(){this.growlService.add.next({severity:"success",summary:"An email has been sent to "+this.form.email.input+".",detail:"Please confirm your email address by clicking the link in the email.",sticky:!0,unclosable:!0,template:this.emailGrowlTemplate})},t.prototype.closeGrowl=function(){this.growlService.clear()},t.prototype.validateInput=function(){var t=this,e=new Hr({useNewCustomCheckerFunction:!0,messages:{stringMin:"Your answer must be at least {expected} characters long",stringMax:"Your answer must be less than or equal to {expected} characters long.",uniqueAnswer:"Duplicate answers are not allowed."}}),n={answer:{type:"custom",min:this.tenantMinLen,max:1e3,answers:this.form.questions.input.map((function(t){return t.answer.toLowerCase()})),check:function(t,e,n){t.length<n.min&&e.push({type:"stringMin",expected:n.min,actual:t.length}),t.length>n.max&&e.push({type:"stringMax",expected:n.max,actual:t.length});var i,o=(i=n.answers).filter((function(t,e){return i.indexOf(t)!==e}));return o.length>0&&o.includes(t.toLowerCase())&&e.push({type:"uniqueAnswer"}),t}}};this.validatorResults={},this.form.questions.input.forEach((function(i){var o=e.validate(i,n),r=i.id;r>0?(t.validatorResults[r]={},o&&"boolean"!=typeof o?o.forEach((function(e){t.validatorResults[r][i.answer]||(t.validatorResults[r][i.answer]=[]),t.validatorResults[r][i.answer].push(e.message)})):t.validatorResults[r][i.answer]&&(t.validatorResults[r][i.answer]=[])):(t.customValidatorResults[i.answer]=[],o&&"boolean"!=typeof o?o.forEach((function(e){t.customValidatorResults[i.answer]||(t.customValidatorResults[i.answer]=[]),t.customValidatorResults[i.answer].push(e.message)})):t.customValidatorResults[i.answer]&&(t.customValidatorResults[i.answer]=[]))}))},t.prototype.showDelete=function(){var t=this;this.canDeleteQuestions=!1,this.originalForm.questions.input.forEach((function(e){e.answer&&(t.canDeleteQuestions=!0)}))},t.prototype.deleteQuestions=function(){var t=this;this.tms.deleteRecoveryMethod(2).subscribe((function(){var e={id:-1,question:"",answer:""};t.originalForm.questions={input:[]},t.form.questions={input:new Array(3).fill(0).map((function(t,n){return Object(R.a)({},e)}))},t.showDelete(),t.initialRunHelper.initialRunSettingsUpdated.next(!1),t.translationHelper.translateAndAddGenericGrowl({severity:"success"},{subject:"myProfile.security.questions",verb:"common.removed"})}))},t.prototype.updateInitialRunProgress=function(){var t=this.initialRunHelper.progress.value;t.passwordRecovery=!0,this.initialRunHelper.initialRunSettingsUpdated.next(!1),this.initialRunHelper.progress.next(t)},t.\u0275fac=function(e){return new(e||t)(c.Mb(l.a),c.Mb(we),c.Mb(A.a),c.Mb(gt),c.Mb(J.a),c.Mb(lt),c.Mb(vt.v),c.Mb(cn))},t.\u0275cmp=c.Gb({type:t,selectors:[["app-password-recovery"]],viewQuery:function(t,e){var n;1&t&&(c.Jc(tr,!0),c.Jc(vt.n,!0)),2&t&&(c.rc(n=c.ac())&&(e.emailGrowlTemplate=n.first),c.rc(n=c.ac())&&(e.dropdowns=n))},inputs:{initialRun:"initialRun"},decls:2,vars:0,consts:[[4,"transloco"],[3,"resend","unlinkCode"],[1,"slideover-content"],[4,"ngIf"],["class","wizard-btn-controls",4,"ngIf"],["class","slideover-controls",4,"ngIf"],["confirmation",""],["recoveryQuestion",""],["emailGrowl",""],[1,"flex-center"],[3,"strokeWidth"],["class","slideover-info",4,"ngIf"],[1,"flex-start-center"],[1,"relative-input-ctnr"],[1,"label-ctnr"],["for","phone-input"],["class","float-buttons",4,"ngIf"],[3,"disabled","input","inputChange","enter"],["class","confirmed-check",4,"ngIf"],["for","verification-code-input"],[3,"value","attributes","valueChange"],["class","submit-code",3,"click",4,"ngIf"],[1,"slideover-info"],[1,"float-buttons"],["class","button-text",3,"click",4,"ngIf"],[1,"button-text","text-danger",3,"clTooltip","clTooltipDisplay","clTooltipDirection","clTooltipPersist","click","clClickOutside","clTooltipDisplayChange"],[1,"button-text",3,"click"],[1,"confirmed-check"],[1,"far","fa-check"],[1,"submit-code",3,"click"],["for","email-input"],[3,"disabled","value","attributes","inputValidator","events","valueChange"],[1,"button-text","text-danger",3,"clTooltip","clTooltipDisplay","clTooltipDirection","clTooltipPersist","click","clTooltipDisplayChange"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngFor","ngForOf"],["class","button-text text-danger question-delete",3,"ngStyle","clTooltip","clTooltipDisplay","clTooltipDirection","clTooltipPersist","click","clTooltipDisplayChange",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"button-text","text-danger","question-delete",3,"ngStyle","clTooltip","clTooltipDisplay","clTooltipDirection","clTooltipPersist","click","clTooltipDisplayChange"],[1,"wizard-btn-controls"],[1,"button","button-text","color-primary","save",3,"disabled","tabindex","click"],[1,"slideover-controls"],[1,"button","button-default",3,"click"],[1,"button","button-secondary",3,"disabled","tabindex","click"],[1,"cl-tooltip","confirmation"],[1,"buttons-ctnr"],[1,"button","button-default","text-danger",3,"click"],[1,"question-ctnr","flex-start","column-nowrap"],[1,"question-answer","flex-start"],[1,"dropdown-input"],[3,"id","selection","options","showRemove","optionLabel","optionValue","click","selectionChange"],[3,"attributes","value","valueChange"],[1,"answer","flex-start"],[3,"attributes","value","showPasswordEye","valueChange"],["class","error-msg",4,"ngFor","ngForOf"],[1,"error-msg"],[1,"template","flex-start","column-nowrap","email-growl"],[1,"button","button-primary",3,"click"]],template:function(t,e){1&t&&(c.Cc(0,Lr,12,4,"ng-container",0),c.Sb(1,"app-unlink-modal",1),c.Zb("resend",(function(t){return e.sendUnlinkCode(t)}))("unlinkCode",(function(t){return e.unlinkPhone(t)})),c.Rb())},directives:[ct.c,Yo,i.k,vt.F,Xo,vt.w,vt.P,vt.f,i.j,i.o,i.l,vt.n],styles:['h3[_ngcontent-%COMP%]{margin-bottom:5px;font-size:calc(var(--font-modifier) * 13px)}cl-input[_ngcontent-%COMP%]{height:40px}p[_ngcontent-%COMP%]{font-size:calc(var(--font-modifier) * 13px);letter-spacing:0}*[_ngcontent-%COMP%]{-ms-flex-negative:0!important;flex-shrink:0!important}.title-ctnr[_ngcontent-%COMP%]{position:relative;width:calc(100% + 100px);left:-50px;padding:0 50px 5px;margin-bottom:30px;border-bottom:1px solid var(--color-border-dark)}.title-ctnr[_ngcontent-%COMP%]   cl-slide-toggle[_ngcontent-%COMP%]{height:auto;width:auto;margin-left:20px}.title-ctnr[_ngcontent-%COMP%]   .unverified[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{margin-left:20px;font-size:20px;color:var(--color-danger)}.title-ctnr[_ngcontent-%COMP%]   .toggle-arrow[_ngcontent-%COMP%]{margin-left:auto;transition:.2s ease-in-out}.question-ctnr[_ngcontent-%COMP%]{margin-bottom:30px;width:100%}.question-ctnr[_ngcontent-%COMP%]:last-of-type{margin-bottom:0}.question-ctnr[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin:0 0 10px}.question-ctnr[_ngcontent-%COMP%]   cl-input[_ngcontent-%COMP%]{width:100%;margin:0}.question-ctnr[_ngcontent-%COMP%]   .error-msg[_ngcontent-%COMP%]{color:var(--color-danger);font-weight:600;margin-top:10px}.question-ctnr[_ngcontent-%COMP%]   .question-answer[_ngcontent-%COMP%]{width:100%}.question-ctnr[_ngcontent-%COMP%]   .question-answer[_ngcontent-%COMP%]   .dropdown-input[_ngcontent-%COMP%]{width:calc(50% - 10px);margin-right:10px}.question-ctnr[_ngcontent-%COMP%]   .question-answer[_ngcontent-%COMP%]   .answer[_ngcontent-%COMP%]{width:calc(50% - 10px);margin-left:10px}.email-growl[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:calc(var(--font-modifier)*14px);margin-bottom:5px;word-wrap:break-word}.email-growl[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#0054ff;margin-top:10px;min-width:80px;min-height:30px;height:35px}.slideover-info[_ngcontent-%COMP%]{width:100%!important}.slideover-info[_ngcontent-%COMP%]:after{content:"";width:calc(100% + 50px);height:100%;background-color:var(--color-bg-dark);position:absolute;z-index:-1}.question-delete[_ngcontent-%COMP%]{width:100px;margin-top:20px;margin-left:auto;margin-right:20px}.wizard-btn-controls[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;margin-top:20px}.wizard-btn-controls[_ngcontent-%COMP%]   .button-text.save[_ngcontent-%COMP%]{min-width:45px!important;height:unset}.wizard-btn-controls[_ngcontent-%COMP%]   .question-delete[_ngcontent-%COMP%]{margin:0 20px 0 0!important}app-phone-input[_ngcontent-%COMP%]{z-index:2}']}),t}(),Br=n("Q0GO"),jr=n.n(Br),zr=n("+00W"),Vr=n.n(zr),Gr=function(t){function e(e){return t.call(this,e)||this}return Object(R.c)(e,t),e.prototype.getDuo=function(){return this.generateRequest("get",this.generateRequestUrl("/applications/v1p0/signDuo",{},K.a.apiUrl),this.basicBodyMapFunction)},e.prototype.verifyDuo=function(t){return this.generateRequest("post",this.generateRequestUrl("/applications/v1p0/verifyDuo",{},K.a.apiUrl),this.basicDataMapFunction,t)},e.prototype.startYubikeyAuth=function(){return this.generateRequest("get",this.generateRequestUrl("/applications/v1p0/yubikeyStart",{},K.a.apiUrl),this.basicBodyMapFunction)},e.prototype.completeYubikeyAuth=function(t){return this.generateRequest("post",this.generateRequestUrl("/applications/v1p0/yubikeyFinish",{},K.a.apiUrl),this.basicDataMapFunction,t)},e.prototype.webAuthnStart=function(){return this.generateRequest("get",this.generateRequestUrl("/applications/v1p0/yubikey/webAuthn/Start",{},K.a.apiUrl),this.basicBodyMapFunction)},e.prototype.webAuthnFinish=function(t){return this.generateRequest("post",this.generateRequestUrl("/applications/v1p0/yubikey/webAuthn/Finish",{},K.a.apiUrl),this.basicBodyMapFunction,t)},e.prototype.getWebAuthnRegistrationChallenge=function(t){return this.generateRequest("post",this.generateRequestUrl("/mfaSetup/v3.0/webAuthn/register/getRegistrationChallenge",{},K.a.tmsUrl),this.basicBodyMapFunction,{userId:t})},e.prototype.getWebAuthnAuthentication=function(){return this.generateRequest("get",this.generateRequestUrl("/applications/v1p0/yubikey/webAuthn/initiate",{},K.a.apiUrl),this.basicDataMapFunction)},e.prototype.verifyWebAuthnAuthentication=function(t){return this.generateRequest("post",this.generateRequestUrl("/applications/v1p0\n/yubikey/webAuthn/verify",{},K.a.apiUrl),this.basicBodyMapFunction,t)},e.prototype.verifyWebAuthnRegistration=function(t){return this.generateRequest("post",this.generateRequestUrl("/mfaSetup/v3.0/webAuthn/register/verifyRegistrationResponse",{},K.a.tmsUrl),this.basicBodyMapFunction,t)},e.prototype.verifyPin=function(t){return this.generateRequest("post",this.generateRequestUrl("/applications/v1p0/appMfa/verifyPin",{},K.a.apiUrl),this.basicDataMapFunction,{pin:t})},e.\u0275fac=function(t){return new(t||e)(c.Wb(W.b))},e.\u0275prov=c.Ib({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(Z.a);function $r(t,e){if(1&t&&c.Nb(0,"a",9),2&t){var n=c.cc().$implicit;c.ic("innerText",n("myProfile.security.twoFactor.yubikeySupportLink"))}}function Zr(t,e){if(1&t){var n=c.Tb();c.Sb(0,"button",23),c.Zb("click",(function(){return c.vc(n),c.cc(4).resendPhoneCode()})),c.Ec(1),c.Rb()}if(2&t){var i=c.cc(3).$implicit;c.Bb("aria-label",i("myProfile.security.resendCode")),c.Ab(1),c.Fc(i("myProfile.security.resendCode"))}}function Wr(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",20),c.Cc(1,Zr,2,2,"button",21),c.Sb(2,"button",22),c.Zb("click",(function(){return c.vc(n),c.cc(3).deletePhone()})),c.Ec(3),c.Rb(),c.Rb()}if(2&t){var i=c.cc(2).$implicit,o=c.cc();c.Ab(1),c.ic("ngIf",!o.form.phone.isVerified),c.Ab(1),c.Bb("aria-label",i("common.delete")),c.Ab(1),c.Fc(i("common.delete"))}}function qr(t,e){1&t&&(c.Sb(0,"div",24),c.Nb(1,"i",25),c.Rb())}function Yr(t,e){if(1&t){var n=c.Tb();c.Sb(0,"button",26),c.Zb("click",(function(){return c.vc(n),c.cc(3).verifyPhoneCode()})),c.Ec(1),c.Rb()}if(2&t){var i=c.cc(2).$implicit,o=c.cc();c.ic("disabled",o.form.phone.isVerified?-1:0)("tabIndex",o.form.phone.isVerified?-1:0),c.Bb("aria-label",i("common.submit")),c.Ab(1),c.Gc(" ",i("common.submit")," ")}}var Kr=function(t,e){return{type:"text",tabindex:t,disabled:e,id:"verification-code-input"}};function Qr(t,e){if(1&t){var n=c.Tb();c.Qb(0),c.Sb(1,"div",10),c.Sb(2,"div",11),c.Sb(3,"div",12),c.Sb(4,"label",13),c.Ec(5),c.Rb(),c.Cc(6,Wr,4,3,"div",14),c.Rb(),c.Sb(7,"app-phone-input",15),c.Zb("inputChange",(function(t){return c.vc(n),c.cc(2).form.phone.input=t})),c.Rb(),c.Cc(8,qr,2,0,"div",16),c.Rb(),c.Sb(9,"div",11),c.Sb(10,"label",17),c.Ec(11),c.Rb(),c.Sb(12,"cl-input",18),c.Zb("valueChange",(function(t){return c.vc(n),c.cc(2).form.phone.code=t})),c.Rb(),c.Cc(13,Yr,2,4,"button",19),c.Rb(),c.Rb(),c.Pb()}if(2&t){var i=c.cc().$implicit,o=c.cc();c.Ab(5),c.Fc(i("myProfile.security.phoneNumber")),c.Ab(1),c.ic("ngIf",o.form.phone.isConfirmed),c.Ab(1),c.ic("disabled",o.form.phone.isConfirmed||o.form.phone.isVerified)("input",o.form.phone.input),c.Ab(1),c.ic("ngIf",o.form.phone.isVerified),c.Ab(1),c.Ac("margin","0 0 40px 10px"),c.Eb("disabled",!o.form.phone.isConfirmed||o.form.phone.isVerified),c.Bb("aria-disabled",!o.form.phone.isConfirmed||o.form.phone.isVerified),c.Ab(2),c.Fc(i("myProfile.security.verification")),c.Ab(1),c.Eb("gray",!o.form.phone.isConfirmed||o.form.phone.isVerified),c.ic("value",o.form.phone.code)("attributes",c.mc(16,Kr,!o.form.phone.isConfirmed||o.form.phone.isVerified?-1:0,!o.form.phone.isConfirmed||o.form.phone.isVerified?-1:0)),c.Ab(1),c.ic("ngIf",o.form.phone.isConfirmed&&!o.form.phone.isVerified)}}function Jr(t,e){1&t&&(c.Qb(0),c.Sb(1,"span"),c.Nb(2,"i",31),c.Rb(),c.Pb())}function Xr(t,e){if(1&t&&c.Nb(0,"img",32),2&t){var n=c.cc(2).$implicit,i=c.cc();c.ic("src",i.form.image.input,c.xc)("alt",n(i.form.image.key?"imageLabels.twoFactor."+i.form.image.key:"myProfile.security.twoFactor.imageAlt"))}}function ta(t,e){if(1&t){var n=c.Tb();c.Sb(0,"img",36),c.Zb("keydown.Enter",(function(t){c.vc(n);var i=e.$implicit;return c.cc(4).onSelectImage(t,i)}))("focus",(function(){c.vc(n);var t=e.$implicit;return c.cc(4).onImageFocus(t.key)}))("click",(function(t){c.vc(n);var i=e.$implicit;return c.cc(4).onSelectImage(t,i)})),c.Rb()}if(2&t){var i=e.$implicit,o=c.cc(3).$implicit;c.ic("id",o("imageLabels.twoFactor."+i.key))("src",i.url,c.xc)("alt",o("imageLabels.twoFactor."+i.key))}}function ea(t,e){if(1&t){var n=c.Tb();c.Sb(0,"app-dropdown-menu",33),c.Zb("click",(function(t){return c.vc(n),t.stopPropagation()})),c.Sb(1,"div",34),c.Cc(2,ta,1,3,"img",35),c.Rb(),c.Rb()}if(2&t){var i=c.cc(3);c.Bb("aria-labelledby","formTitle")("aria-activedescendant",i.focusedImageOpt),c.Ab(2),c.ic("ngForOf",i.imageList)}}function na(t,e){if(1&t){var n=c.Tb();c.Qb(0),c.Sb(1,"div",27),c.Zb("keydown.Enter",(function(t){return c.vc(n),c.cc(2).toggleImageList(t)}))("click",(function(t){return c.vc(n),c.cc(2).toggleImageList(t)})),c.Cc(2,Jr,3,0,"ng-container",28),c.Cc(3,Xr,1,2,"ng-template",null,29,c.Dc),c.Cc(5,ea,3,3,"app-dropdown-menu",30),c.Rb(),c.Pb()}if(2&t){var i=c.sc(4),o=c.cc(2);c.Ab(1),c.Bb("aria-expanded",o.showImageList),c.Ab(1),c.ic("ngIf",!o.form.image.input)("ngIfElse",i),c.Ab(3),c.ic("ngIf",o.showImageList)}}function ia(t,e){if(1&t){var n=c.Tb();c.Qb(0),c.Sb(1,"button",45),c.Zb("click",(function(){return c.vc(n),c.cc(3).removeAuthenticator()})),c.Ec(2),c.Rb(),c.Pb()}if(2&t){var i=c.cc(2).$implicit;c.Ab(2),c.Fc(i("myProfile.security.twoFactor.resetAuthenticator"))}}var oa=function(t){return{"keydown.enter":t}},ra=function(t,e){return{disabled:t,type:"text","aria-label":e,"aria-describedby":"verifyCodeInstruction"}};function aa(t,e){if(1&t){var n=c.Tb();c.Qb(0),c.Cc(1,ia,3,1,"ng-container",6),c.Sb(2,"div",37),c.Sb(3,"div",38),c.Sb(4,"div",39),c.Ec(5),c.Rb(),c.Sb(6,"div",40),c.Sb(7,"p",41),c.Ec(8),c.Rb(),c.Sb(9,"p",42),c.Ec(10),c.Rb(),c.Rb(),c.Rb(),c.Sb(11,"div",38),c.Sb(12,"div",39),c.Ec(13),c.Rb(),c.Sb(14,"div",40),c.Sb(15,"p",41),c.Ec(16),c.Rb(),c.Nb(17,"img",32),c.Rb(),c.Rb(),c.Sb(18,"div",38),c.Sb(19,"div",39),c.Ec(20),c.Rb(),c.Sb(21,"div",40),c.Sb(22,"p",43),c.Ec(23),c.Rb(),c.Sb(24,"cl-input",44),c.Zb("valueChange",(function(t){return c.vc(n),c.cc(2).form.app.input=t})),c.Rb(),c.Rb(),c.Rb(),c.Rb(),c.Pb()}if(2&t){var i=c.cc().$implicit,o=c.cc();c.Ab(1),c.ic("ngIf",o.twoFactor&&o.twoFactor.gauth_set),c.Ab(1),c.Eb("disabled",o.twoFactor&&o.twoFactor.gauth_set),c.Ab(3),c.Fc(i("myProfile.security.twoFactor.1")),c.Ab(3),c.Fc(i("myProfile.security.twoFactor.openApp")),c.Ab(2),c.Fc(i("myProfile.security.twoFactor.brands")),c.Ab(3),c.Fc(i("myProfile.security.twoFactor.2")),c.Ab(3),c.Fc(i("myProfile.security.twoFactor.scanCode")),c.Ab(1),c.ic("src",o.authenticatorImage,c.xc)("alt",i("myProfile.security.twoFactor.qrAlt")),c.Ab(3),c.Fc(i("myProfile.security.twoFactor.3")),c.Ab(3),c.Fc(i("myProfile.security.twoFactor.enter")),c.Ab(1),c.ic("value",o.form.app.input)("events",c.lc(15,oa,o.saveTwoFactor.bind(o)))("attributes",c.mc(17,ra,o.twoFactor&&o.twoFactor.gauth_set,i("myProfile.security.twoFactor.code")))}}function sa(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",50),c.Nb(1,"h4",47),c.Sb(2,"div",51),c.Sb(3,"button",52),c.Zb("click",(function(){return c.vc(n),c.cc(3).confirmDialogVisible=!1})),c.Ec(4),c.Rb(),c.Sb(5,"button",53),c.Zb("click",(function(){c.vc(n);var t=c.cc(3);return t.removeDuo(),t.confirmDialogVisible=!1})),c.Ec(6),c.Rb(),c.Rb(),c.Rb()}if(2&t){var i=c.cc(2).$implicit,o=c.cc();c.Ab(1),c.ic("innerText",i(o.duoReset?"myProfile.security.twoFactor.duoConfirm":"myProfile.security.twoFactor.duoConfirmRequest")),c.Ab(3),c.Fc(i("common.cancel")),c.Ab(2),c.Fc(i("common.delete"))}}function ca(t,e){if(1&t){var n=c.Tb();c.Qb(0),c.Sb(1,"div",46),c.Nb(2,"label",47),c.Sb(3,"button",48),c.Zb("click",(function(){c.vc(n);var t=c.cc(2);return t.confirmDialogVisible=!t.confirmDialogVisible})),c.Rb(),c.Cc(4,sa,7,3,"ng-template",null,49,c.Dc),c.Rb(),c.Pb()}if(2&t){var i=c.sc(5),o=c.cc().$implicit,r=c.cc();c.Ab(2),c.ic("innerText",o(r.duoReset?"myProfile.security.twoFactor.duoResetDescription":"myProfile.security.twoFactor.duoResetDescriptionRequest")),c.Ab(1),c.ic("clTooltip",i)("clTooltipPersist",!0)("clTooltipDisplay",r.confirmDialogVisible)("clTooltipDirection",r.dir.Bottom)("innerText",o(r.duoReset?"myProfile.security.twoFactor.duoReset":"myProfile.security.twoFactor.duoResetRequest"))}}function la(t,e){if(1&t&&(c.Sb(0,"div",61),c.Nb(1,"i",62),c.Sb(2,"p"),c.Ec(3),c.Rb(),c.Rb()),2&t){var n=c.cc(2).$implicit;c.Ab(3),c.Fc(n("myProfile.security.twoFactor.yubikeyNotSupported"))}}function pa(t,e){if(1&t){var n=c.Tb();c.Sb(0,"button",63),c.Zb("click",(function(){return c.vc(n),c.cc(3).startWebauthnRegistration()})),c.Ec(1),c.Rb()}if(2&t){var i=c.cc(2).$implicit,o=c.cc();c.ic("disabled",!o.webauthnSupported),c.Ab(1),c.Fc(i("myProfile.security.twoFactor.register"))}}function ua(t,e){if(1&t){var n=c.Tb();c.Sb(0,"button",64),c.Zb("clClickOutside",(function(){return c.vc(n),c.cc(3).yubikeyDialogVisible=!1}))("click",(function(){return c.vc(n),c.cc(3).yubikeyDialogVisible=!0})),c.Ec(1),c.Rb()}if(2&t){c.cc();var i=c.sc(25),o=c.cc().$implicit,r=c.cc();c.ic("clTooltip",i)("clTooltipDisplay",r.yubikeyDialogVisible)("clTooltipPersist",!0),c.Ab(1),c.Fc(o("myProfile.security.twoFactor.unlinkYubikey"))}}function da(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",50),c.Sb(1,"h4"),c.Ec(2),c.Rb(),c.Sb(3,"div",51),c.Sb(4,"button",52),c.Zb("click",(function(){return c.vc(n),c.cc(3).yubikeyDialogVisible=!1})),c.Ec(5),c.Rb(),c.Sb(6,"button",53),c.Zb("click",(function(){return c.vc(n),c.cc(3).removeYubiKey()})),c.Ec(7),c.Rb(),c.Rb(),c.Rb()}if(2&t){var i=c.cc(2).$implicit;c.Ab(2),c.Fc(i("myProfile.security.twoFactor.confirmUnlinkYubikey")),c.Ab(3),c.Fc(i("common.cancel")),c.Ab(2),c.Fc(i("common.remove"))}}var ba=function(t){return{opacity:t}};function ga(t,e){if(1&t&&(c.Qb(0),c.Cc(1,la,4,1,"div",54),c.Sb(2,"div",55),c.Sb(3,"div",38),c.Sb(4,"div",39),c.Ec(5),c.Rb(),c.Sb(6,"div",40),c.Sb(7,"p",41),c.Ec(8),c.Rb(),c.Rb(),c.Rb(),c.Sb(9,"div",38),c.Sb(10,"div",39),c.Ec(11),c.Rb(),c.Sb(12,"div",40),c.Sb(13,"p",41),c.Ec(14),c.Rb(),c.Rb(),c.Rb(),c.Sb(15,"div",38),c.Sb(16,"div",39),c.Ec(17),c.Rb(),c.Sb(18,"div",40),c.Sb(19,"p",56),c.Ec(20),c.Rb(),c.Rb(),c.Rb(),c.Rb(),c.Sb(21,"div",57),c.Cc(22,pa,2,2,"button",58),c.Cc(23,ua,2,4,"button",59),c.Cc(24,da,8,3,"ng-template",null,60,c.Dc),c.Rb(),c.Pb()),2&t){var n=c.cc().$implicit,i=c.cc();c.Ab(1),c.ic("ngIf",!i.webauthnSupported),c.Ab(1),c.ic("ngStyle",c.lc(10,ba,i.webauthnSupported?"1":"0.3")),c.Ab(3),c.Fc(n("myProfile.security.twoFactor.1")),c.Ab(3),c.Fc(n("myProfile.security.twoFactor.registerYubikey")),c.Ab(3),c.Fc(n("myProfile.security.twoFactor.2")),c.Ab(3),c.Fc(n("myProfile.security.twoFactor.insertYubikey")),c.Ab(3),c.Fc(n("myProfile.security.twoFactor.3")),c.Ab(3),c.Fc(n("myProfile.security.twoFactor.pressYubikey")),c.Ab(2),c.ic("ngIf",!i.form.yubikey.isRegistered),c.Ab(1),c.ic("ngIf",i.form.yubikey.isRegistered)}}var fa=function(){return{type:"password",maxLength:6,style:"font-size: 5ch"}};function ha(t,e){if(1&t){var n=c.Tb();c.Qb(0),c.Sb(1,"div",65),c.Sb(2,"cl-input",66),c.Zb("valueChange",(function(t){return c.vc(n),c.cc(2).form.pin.newPin=t})),c.Rb(),c.Sb(3,"cl-input",66),c.Zb("valueChange",(function(t){return c.vc(n),c.cc(2).form.pin.confirmPin=t})),c.Rb(),c.Rb(),c.Pb()}if(2&t){var i=c.cc().$implicit,o=c.cc();c.Ab(2),c.ic("attributes",c.kc(8,fa))("label",i("myProfile.security.twoFactor.newPin"))("showPasswordEye",!0)("value",o.form.pin.newPin),c.Ab(1),c.ic("attributes",c.kc(9,fa))("label",i("myProfile.security.twoFactor.confirmPin"))("showPasswordEye",!0)("value",o.form.pin.confirmPin)}}function ma(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",67),c.Sb(1,"button",68),c.Zb("click",(function(){return c.vc(n),c.cc(2).saveTwoFactor()})),c.Ec(2),c.Rb(),c.Rb()}if(2&t){var i=c.cc().$implicit,o=c.cc();c.Ab(1),c.Eb("disabled",!o.canSaveTwoFactor()),c.ic("disabled",!o.canSaveTwoFactor())("tabindex",o.canSaveTwoFactor()?0:-1),c.Ab(1),c.Gc(" ",i("common.save")," ")}}function va(t,e){if(1&t){var n=c.Tb();c.Sb(0,"button",71),c.Zb("click",(function(){return c.vc(n),c.cc(3).saveTwoFactor()})),c.Ec(1),c.Rb()}if(2&t){var i=c.cc(2).$implicit,o=c.cc();c.ic("disabled",!o.canSaveTwoFactor())("tabindex",o.canSaveTwoFactor()?0:-1),c.Ab(1),c.Fc(i("common.save"))}}function ya(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",69),c.Sb(1,"button",52),c.Zb("click",(function(){return c.vc(n),c.cc(2).helper.tabPageChanged.next(0)})),c.Ec(2),c.Rb(),c.Cc(3,va,2,3,"button",70),c.Rb()}if(2&t){var i=c.cc().$implicit,o=c.cc();c.Ab(2),c.Fc(i("common.goBack")),c.Ab(1),c.ic("ngIf",6!==o.form.type)}}function Ca(t,e){if(1&t&&(c.Qb(0),c.Sb(1,"div",1),c.Sb(2,"div",2),c.Sb(3,"h3",3),c.Ec(4),c.Rb(),c.Sb(5,"p",4),c.Ec(6),c.Cc(7,$r,1,1,"a",5),c.Rb(),c.Rb(),c.Cc(8,Qr,14,19,"ng-container",6),c.Cc(9,na,6,4,"ng-container",6),c.Cc(10,aa,25,20,"ng-container",6),c.Cc(11,ca,6,6,"ng-container",6),c.Cc(12,ga,26,12,"ng-container",6),c.Cc(13,ha,4,10,"ng-container",6),c.Cc(14,ma,3,5,"div",7),c.Rb(),c.Cc(15,ya,4,2,"div",8),c.Pb()),2&t){var n=e.$implicit,i=c.cc();c.Ab(4),c.Gc("",1===i.form.type?n("myProfile.security.mobileSms"):2===i.form.type?n("myProfile.security.image"):3===i.form.type?n("myProfile.security.authenticator"):4===i.form.type?n("myProfile.security.duoPush"):6===i.form.type?n("myProfile.security.yubikey"):7===i.form.type?n("myProfile.security.pin"):""," "),c.Ab(2),c.Gc("",1===i.form.type?n("myProfile.security.twoFactor.phoneDescription"):2===i.form.type?n("myProfile.security.twoFactor.imageDescription"):3===i.form.type?n("myProfile.security.twoFactor.authenticatorDescription"):4===i.form.type?n("myProfile.security.twoFactor.duoDescription"):6===i.form.type?n("myProfile.security.twoFactor.yubikeyDescription"):7===i.form.type?n("myProfile.security.twoFactor.pinDescription"):""," "),c.Ab(1),c.ic("ngIf",6===i.form.type),c.Ab(1),c.ic("ngIf",1===i.form.type),c.Ab(1),c.ic("ngIf",2===i.form.type),c.Ab(1),c.ic("ngIf",3===i.form.type),c.Ab(1),c.ic("ngIf",4===i.form.type),c.Ab(1),c.ic("ngIf",6===i.form.type),c.Ab(1),c.ic("ngIf",7===i.form.type),c.Ab(1),c.ic("ngIf",6!==i.form.type&&i.initialRun),c.Ab(1),c.ic("ngIf",!i.initialRun)}}var wa=function(){function t(t,e,n,i,o,r,a,s,l,p){var u=this;this.nodeApi=t,this.translationHelper=e,this.helper=n,this.layoutService=i,this.growlService=o,this.sessionService=r,this.initialRunHelper=a,this.twoFactorService=s,this.utilsService=l,this.tmsService=p,this.initialRun=!1,this.validateTwoFactor=new c.n,this.form={type:1,phone:{id:-1,isConfirmed:!1,isVerified:!1,input:{countryCode:"+1",number:""},code:""},image:{input:"",key:""},app:{input:""},yubikey:{isRegistered:!1},pin:{currentPin:"",newPin:"",confirmPin:""}},this.originalForm=this.form,this.twoFactor={created_datetime:"",gauth_set:!1,id:null,image1:null,is_eanabled:!1,type:1},this.showImageList=!1,this.confirmDialogVisible=!1,this.dir=vt.l,this.duoReset=!1,this.focusedImageOpt="",this.yubikeyDialogVisible=!1,this.webauthnSupported=!1,this.pinConfigured=!1,this.pinRemoveVisible=!1,this.subscriptions=[],this.subscriptions[0]=n.generalSettingsUpdated.subscribe((function(t){return u.generalSettings=t})),this.subscriptions[1]=n.securityIndexChanged.subscribe((function(t){u.form.type=t,u.getDataForType()})),this.subscriptions[2]=i.documentClicked.subscribe((function(){return u.showImageList=!1}))}return t.prototype.ngOnInit=function(){this.getTwoFactor()},t.prototype.ngOnDestroy=function(){this.subscriptions.forEach((function(t){return t.unsubscribe()}))},t.prototype.getTwoFactor=function(){var t=this;this.nodeApi.getTwoFactor().subscribe((function(e){t.twoFactor=e||t.twoFactor,t.form.image.input=t.twoFactor.image1?t.twoFactor.image1:"",t.form.image.key=t.twoFactor.image1?t.twoFactor.image1.split("/").slice(-1)[0]:"",t.getDataForType()}))},t.prototype.getDataForType=function(){1===this.form.type&&this.getPhoneSetting(),2!==this.form.type||this.imageList||this.getImageList(),3===this.form.type&&this.getAuthenticatorImage(),4===this.form.type&&this.getDuoSettings(),6===this.form.type&&this.getYubikeySettings(),7===this.form.type&&this.getPinSettings()},t.prototype.getAuthenticatorImage=function(){var t=this;this.nodeApi.getAuthenticatorImage().subscribe((function(e){t.authenticatorImage=e}))},t.prototype.getPhoneSetting=function(){var t=this;this.nodeApi.getPhoneSeting().subscribe((function(e){t.form.phone={id:e.id?e.id:-1,isConfirmed:Boolean(e.phone),isVerified:e.is_verified,input:t.helper.guessParseNumber(e?t.helper.decryptResponse(e.phone):""),code:""},t.originalForm=D()(t.form)}))},t.prototype.getImageList=function(){var t=this;this.nodeApi.getTwoFactorImages().subscribe((function(e){t.imageList=e}))},t.prototype.getDuoSettings=function(){var t=this;this.nodeApi.getDuoSettings().subscribe((function(e){t.duoReset=!!e.DeviceReset}))},t.prototype.getYubikeySettings=function(){var t=this;this.webauthnSupported="undefined"!=typeof PublicKeyCredential,this.nodeApi.checkYubikeyRegistration().subscribe((function(e){t.form.yubikey.isRegistered=1===e.status}),(function(){return t.form.yubikey.isRegistered=!1}))},t.prototype.getPinSettings=function(){var t=this;this.tmsService.getStoredMfa("pin").subscribe((function(e){e.length&&(t.pinConfigured=!0)}))},t.prototype.toggleImageList=function(t){t.stopPropagation(),this.showImageList=!this.showImageList},t.prototype.onImageFocus=function(t){this.focusedImageOpt=t},t.prototype.onSelectImage=function(t,e){t.stopPropagation(),this.form.image.input=e.url,this.form.image.key=e.key,this.showImageList=!1},t.prototype.verifyAuthCode=function(){var t=this;this.nodeApi.verifyAuthenticatorCode(this.form.app.input).subscribe((function(e){t.updateTwoFactor()}))},t.prototype.removeYubiKey=function(){var t=this;this.nodeApi.deleteYubiKey().subscribe((function(){t.form.yubikey.isRegistered=!1,t.yubikeyDialogVisible=!1,t.validateTwoFactor.emit(),t.initiateGrowl("success","YubiKey Removed","Successfully removed YubiKey")}))},t.prototype.startRegistration=function(){var t=this;this.nodeApi.startRegistration().subscribe((function(e){jr.a.register(e.registrationRequest).then((function(n){t.nodeApi.completeRegistration({registrationResponse:{clientData:n.clientData,registrationData:n.registrationData,version:n.version,appId:e.registrationRequest.appId,challenge:e.registrationRequest.challenge},preAuthToken:e.preAuthToken}).subscribe((function(){t.form.yubikey.isRegistered=!0,t.initialRun?t.updateInitialRunProgress():t.helper.tabPageChanged.next(0),t.initiateGrowl("success","Registration Successful!","YubiKey has been successfully registered.")}))})).catch((function(e){console.log({err:e}),t.initiateGrowl("error","Registration Unsuccessful","YubiKey registration failed.")}))}))},t.prototype.startWebauthnRegistration=function(){var t=this,e=this.sessionService.getUserInfo();this.twoFactorService.getWebAuthnRegistrationChallenge(e.UserId.toString()).subscribe((function(e){var n=e.registrationRequest,i={challenge:Vr.a.toBuffer(n.challenge),rp:{name:"MyApps",id:n.rpId},user:{id:Uint8Array.from("UZSL85T9AFC",(function(t){return t.charCodeAt(0)})),name:"test",displayName:"test"},pubKeyCredParams:[{alg:-7,type:"public-key"}],authenticatorSelection:{authenticatorAttachment:"cross-platform"},timeout:6e4,attestation:"direct"};navigator.credentials.create({publicKey:i}).then((function(n){var i={token:e.webAuthnToken,response:JSON.stringify(t.utilsService.publicKeyCredentialToJSON(n))};t.twoFactorService.verifyWebAuthnRegistration(i).subscribe((function(e){t.form.yubikey.isRegistered=!0,t.updateTwoFactor(),t.initialRun?t.updateInitialRunProgress():t.helper.tabPageChanged.next(0),t.initiateGrowl("success","Registration Successful!","YubiKey has been successfully registered.")}),(function(e){console.log(e),t.initiateGrowl("error","Registration was not Successful","Yubikey was not registered.")}))})).catch((function(t){return console.log(t)}))}))},t.prototype.updateTwoFactor=function(t){var e=this;void 0===t&&(t=!0),this.twoFactor.type=this.form.type,this.twoFactor.image1=this.form.image.input&&this.form.image.input.includes("/")?this.form.image.input.split("/").slice(-1)[0]:"",this.nodeApi.updateTwoFactor(this.twoFactor).subscribe((function(n){t&&e.translationHelper.translateAndAddGenericGrowl({severity:"success"},{subject:"myProfile.security.twoFactorAuthentication",verb:"common.edited"}),3===e.twoFactor.type&&(e.twoFactor.gauth_set=!0,e.form.app.input=""),e.helper.tabPageChanged.next(0),e.initialRun&&e.updateInitialRunProgress(),e.validateTwoFactor.emit()}))},t.prototype.canSaveTwoFactor=function(){return this.canSavePhone()||this.canSaveImage()||this.canSaveApp()||this.canSavePin()},t.prototype.canSavePhone=function(){var t=this.originalForm.phone.input.countryCode.trim()+this.originalForm.phone.input.number.trim(),e=this.form.phone.input.countryCode.trim()+this.form.phone.input.number.trim();return 1===this.form.type&&t!==e},t.prototype.canSaveImage=function(){return 2===this.form.type&&""!==this.form.image.input},t.prototype.canSaveApp=function(){return 3===this.form.type&&""!==this.form.app.input},t.prototype.canSavePin=function(){return 7===this.form.type&&6===this.form.pin.newPin.length&&6===this.form.pin.confirmPin.length},t.prototype.saveTwoFactor=function(){1===this.form.type?this.addPhone():2===this.form.type?this.updateTwoFactor():3===this.form.type?this.verifyAuthCode():7===this.form.type&&this.updatePin()},t.prototype.addPhone=function(){var t=this,e=this.form.phone.input.countryCode.trim()+this.form.phone.input.number.trim();this.nodeApi.addRecoveryPhone(e).subscribe((function(e){t.form.phone.isConfirmed=!0,t.originalForm.phone=t.form.phone,t.translationHelper.translateAndAddGrowl({severity:"success",summary:"myProfile.security.twoFactor.phoneAdded",detail:"myProfile.security.twoFactor.phoneAddedDetail"}),Object(u.a)(500).subscribe((function(){return t.getPhoneSetting()})),t.initialRun&&t.updateInitialRunProgress()}))},t.prototype.resendPhoneCode=function(){var t=this,e=(this.form.phone.input.countryCode+this.form.phone.input.number).replace(/\s+/g,"");this.nodeApi.resendPhoneCode(e).subscribe((function(e){t.translationHelper.translateAndAddGenericGrowl({severity:"success"},{subject:"myProfile.security.phoneCode",verb:"common.resent"})}))},t.prototype.verifyPhoneCode=function(){var t=this;this.nodeApi.verifyPhoneCode(this.form.phone.code).subscribe((function(e){t.form.phone.isVerified=!0,t.updateTwoFactor(),t.translationHelper.translateAndAddGenericGrowl({severity:"success"},{subject:"myProfile.security.phone",verb:"growl.verified"}),t.helper.tabPageChanged.next(0)}))},t.prototype.deletePhone=function(){var t=this;this.nodeApi.removeRecoveryPhone(this.form.phone.id).subscribe((function(e){t.originalForm.phone={id:-1,isConfirmed:!1,isVerified:!1,input:{countryCode:"+1",number:""},code:""},t.form.phone={id:-1,isConfirmed:!1,isVerified:!1,input:{countryCode:"+1",number:""},code:""},t.translationHelper.translateAndAddGenericGrowl({severity:"success"},{subject:"myProfile.security.phone",verb:"common.removed"}),t.validateTwoFactor.emit()}))},t.prototype.removeAuthenticator=function(){var t=this;this.nodeApi.removeAuthenticator().subscribe((function(e){t.twoFactor.gauth_set=!1,t.form.app={input:""},t.validateTwoFactor.emit(),t.translationHelper.translateAndAddGenericGrowl({severity:"success"},{subject:"myProfile.security.authenticator",verb:"common.removed"}),t.getDataForType()}))},t.prototype.removeDuo=function(){var t=this;this.nodeApi.removeDuo(this.duoReset).subscribe((function(e){t.translationHelper.translateAndAddGrowl({severity:"success",summary:t.duoReset?"myProfile.security.twoFactor.duoUnlink":"myProfile.security.twoFactor.duoUnlinkRequest",detail:t.duoReset?"myProfile.security.twoFactor.duoUnlinkDescription":"myProfile.security.twoFactor.duoUnlinkDescriptionRequest"}),t.helper.tabPageChanged.next(0),t.validateTwoFactor.emit()}))},t.prototype.updatePin=function(){var t=this;this.tmsService.configureMfaMethod("pin",this.form.pin.newPin,this.form.pin.confirmPin).subscribe((function(e){t.updateTwoFactor(),t.translationHelper.translateAndAddGenericGrowl({severity:"success"},{subject:"myProfile.security.pin",verb:"common.saved"}),t.helper.tabPageChanged.next(0),t.initialRun&&t.updateInitialRunProgress()}),(function(e){var n={severity:"error",detail:"",summary:""};n.summary="error.genericFail",n.detail=e.error&&e.error.message?e.error.message:e.error?e.error:e.message?e.message:"error.unknownDetail",t.translationHelper.translateAndAddGrowl(n,{code:e.status},"error.unknownDetail"===n.detail?void 0:{translateDetail:!1})}))},t.prototype.removePin=function(){var t=this;this.tmsService.resetMfaMethod("pin").subscribe((function(e){t.translationHelper.translateAndAddGenericGrowl({severity:"success"},{subject:"myProfile.security.pin",verb:"common.remove"}),t.helper.tabPageChanged.next(0)}))},t.prototype.initiateGrowl=function(t,e,n){this.growlService.add.next({severity:t,summary:e,detail:n})},t.prototype.updateInitialRunProgress=function(){var t=this.initialRunHelper.progress.value;t.twoFactorAuth=!0,this.initialRunHelper.initialRunSettingsUpdated.next(1),this.initialRunHelper.progress.next(t)},t.\u0275fac=function(e){return new(e||t)(c.Mb(l.a),c.Mb(J.a),c.Mb(lt),c.Mb(vt.z),c.Mb(vt.v),c.Mb(A.a),c.Mb(cn),c.Mb(Gr),c.Mb(ht.a),c.Mb(we))},t.\u0275cmp=c.Gb({type:t,selectors:[["app-two-factor"]],inputs:{initialRun:"initialRun"},outputs:{validateTwoFactor:"validateTwoFactor"},decls:1,vars:0,consts:[[4,"transloco"],[1,"slideover-content"],[1,"title-ctnr","flex-start","column-nowrap"],["id","formTitle"],["id","formDescription"],["href","https://help.classlink.com/s/article/Yubikey-setup#usersetup","target","_blank",3,"innerText",4,"ngIf"],[4,"ngIf"],["class","wizard-btn-controls",4,"ngIf"],["class","slideover-controls",4,"ngIf"],["href","https://help.classlink.com/s/article/Yubikey-setup#usersetup","target","_blank",3,"innerText"],[1,"flex-start-center"],[1,"relative-input-ctnr"],[1,"label-ctnr"],["for","phone-input"],["class","float-buttons",4,"ngIf"],[3,"disabled","input","inputChange"],["class","confirmed-check",4,"ngIf"],["for","verification-code-input"],[3,"value","attributes","valueChange"],["class","submit-code",3,"disabled","tabIndex","click",4,"ngIf"],[1,"float-buttons"],["class","button-text",3,"click",4,"ngIf"],[1,"button-text","text-danger",3,"click"],[1,"button-text",3,"click"],[1,"confirmed-check"],[1,"far","fa-check"],[1,"submit-code",3,"disabled","tabIndex","click"],["role","button","tabindex","0","aria-labelledby","formTitle","aria-describedby","formDescription","aria-haspopup","true","aria-controls","imageDropdown","id","imgdropdowncontainer",1,"relative-ctnr",3,"keydown.Enter","click"],[4,"ngIf","ngIfElse"],["bg",""],["class","images","id","imageDropdown","aria-orientation","horizontal","role","menu",3,"click",4,"ngIf"],[1,"fas","fa-image"],[3,"src","alt"],["id","imageDropdown","aria-orientation","horizontal","role","menu",1,"images",3,"click"],[1,"images-ctnr","flex-start","row-wrap","custom-scroll"],["role","menuitem","tabindex","0",3,"id","src","alt","keydown.Enter","focus","click",4,"ngFor","ngForOf"],["role","menuitem","tabindex","0",3,"id","src","alt","keydown.Enter","focus","click"],[1,"slideover-steps","steps"],[1,"step"],[1,"step-num"],[1,"step-data"],[1,"step-header"],[1,"step-subline"],["id","verifyCodeInstruction",1,"step-header"],[3,"value","events","attributes","valueChange"],[1,"button","button-primary","reset-button",3,"click"],[1,"flex-start","column-nowrap"],[3,"innerText"],[1,"button","button-primary","bottom-20",3,"clTooltip","clTooltipPersist","clTooltipDisplay","clTooltipDirection","innerText","click"],["deleteConfirmation",""],[1,"cl-tooltip","confirmation"],[1,"buttons-ctnr"],[1,"button","button-default",3,"click"],[1,"button","button-default","text-danger",3,"click"],["class","warning",4,"ngIf"],[1,"slideover-steps","steps","yubikey",3,"ngStyle"],["id","yubikeyInstruction",1,"step-header"],[1,"yubikey-btns"],["class","button button-primary register",3,"disabled","click",4,"ngIf"],["class","button button-danger",3,"clTooltip","clTooltipDisplay","clTooltipPersist","clClickOutside","click",4,"ngIf"],["yubikeyDialog",""],[1,"warning"],[1,"far","fa-exclamation-triangle"],[1,"button","button-primary","register",3,"disabled","click"],[1,"button","button-danger",3,"clTooltip","clTooltipDisplay","clTooltipPersist","clClickOutside","click"],[1,"flex-start"],[1,"pin",3,"attributes","label","showPasswordEye","value","valueChange"],[1,"wizard-btn-controls"],[1,"button","button-text","color-primary","save",3,"disabled","tabindex","click"],[1,"slideover-controls"],["class","button button-secondary",3,"disabled","tabindex","click",4,"ngIf"],[1,"button","button-secondary",3,"disabled","tabindex","click"]],template:function(t,e){1&t&&c.Cc(0,Ca,16,11,"ng-container",0)},directives:[ct.c,i.k,Xo,vt.w,Tn,i.j,vt.P,i.l,vt.f],styles:[".pin[_ngcontent-%COMP%], cl-dropdown[_ngcontent-%COMP%]{margin-bottom:40px}.pin[_ngcontent-%COMP%]{font-size:calc(var(--font-modifier) * 12px);margin-right:60px}.title-ctnr[_ngcontent-%COMP%]{margin-bottom:40px}.title-ctnr[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:calc(var(--font-modifier) * 13px)}.title-ctnr[_ngcontent-%COMP%]   cl-slide-toggle[_ngcontent-%COMP%]{margin-left:auto;margin-top:auto}img[_ngcontent-%COMP%]{width:150px}img[_ngcontent-%COMP%]:focus{outline:3px solid var(--color-primary)!important}.relative-ctnr[_ngcontent-%COMP%]{position:relative;cursor:pointer;width:150px}.relative-ctnr[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{font-size:150px;width:150px}app-dropdown-menu.images[_ngcontent-%COMP%]{top:100%;min-height:370px;height:370px;width:600px;padding:20px;-ms-flex-flow:row wrap;flex-flow:row wrap}app-dropdown-menu.images[_ngcontent-%COMP%]   .images-ctnr[_ngcontent-%COMP%]{height:100%}app-dropdown-menu.images[_ngcontent-%COMP%]   .images-ctnr[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px;margin:5px;cursor:pointer}.reset-button[_ngcontent-%COMP%]{-ms-flex-item-align:start;align-self:flex-start;margin-bottom:40px;-ms-flex-negative:0;flex-shrink:0}.slideover-steps[_ngcontent-%COMP%]   .step-data[_ngcontent-%COMP%]   p.step-header[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;font-size:calc(var(--font-modifier)*14px);font-weight:700;margin-bottom:5px}.slideover-steps.yubikey[_ngcontent-%COMP%]{margin-bottom:0!important}.yubikey-btns[_ngcontent-%COMP%]{margin-top:20px;display:-ms-flexbox;display:flex}.yubikey-btns[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0 20px 30px 0}.button-text.save[_ngcontent-%COMP%]{min-width:45px!important;top:-23px;height:unset}.wizard-btn-controls[_ngcontent-%COMP%]{margin-top:30px;position:relative}#imgdropdowncontainer[_ngcontent-%COMP%], app-phone-input[_ngcontent-%COMP%]{z-index:2}"]}),t}(),xa=n("MJIl"),Pa=n.n(xa),Sa=n("JIr8"),Oa=function(t,e){return{$implicit:t,index:e}};function Ma(t,e){if(1&t&&c.Ob(0,8),2&t){var n=e.$implicit,i=e.index;c.cc(2);var o=c.sc(3);c.ic("ngTemplateOutlet",o)("ngTemplateOutletContext",c.mc(2,Oa,n,i))}}function Aa(t,e){if(1&t&&(c.Sb(0,"div",5),c.Sb(1,"h3"),c.Ec(2),c.Rb(),c.Sb(3,"p"),c.Ec(4),c.Rb(),c.Sb(5,"div",6),c.Cc(6,Ma,1,5,"ng-container",7),c.Rb(),c.Rb()),2&t){var n=c.cc().$implicit,i=c.cc();c.Ab(2),c.Fc(n("title")),c.Ab(2),c.Fc(n("description")),c.Ab(2),c.ic("ngForOf",i.passwordRecoveryOptions)}}var ka=function(t){return{"text-danger":t}};function _a(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",10),c.Zb("click",(function(){c.vc(n);var t=c.cc().index;return c.cc(2).onOptionSelect(t)}))("keydown.Enter",(function(){c.vc(n);var t=c.cc().index;return c.cc(2).onOptionSelect(t)})),c.Nb(1,"i"),c.Sb(2,"div",11),c.Sb(3,"h4"),c.Ec(4),c.Rb(),c.Sb(5,"p",12),c.Ec(6),c.Rb(),c.Rb(),c.Rb()}if(2&t){var i=c.cc().$implicit,o=c.cc().$implicit;c.Ab(1),c.Cb(i.icon),c.Ab(3),c.Fc(o(i.title)),c.Ab(1),c.ic("ngClass",c.lc(5,ka,!i.isEnabled())),c.Ab(1),c.Fc(i.isEnabled()?o("enabled"):o("disabled"))}}function Ra(t,e){1&t&&c.Cc(0,_a,7,7,"div",9),2&t&&c.ic("ngIf",e.$implicit.show())}function Ia(t,e){if(1&t&&(c.Qb(0),c.Cc(1,Aa,7,3,"div",3),c.Cc(2,Ra,1,1,"ng-template",null,4,c.Dc),c.Pb()),2&t){var n=c.cc();c.Ab(1),c.ic("ngIf",n.generalSettings&&n.generalSettings.EnablePasswordOptions&&7!==n.generalSettings.UserType&&8!==n.generalSettings.UserType)}}function Ta(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",14),c.Sb(1,"h3"),c.Ec(2),c.Rb(),c.Sb(3,"button",15),c.Zb("click",(function(){return c.vc(n),c.cc(2).helper.tabPageChanged.next(3)})),c.Ec(4),c.Rb(),c.Rb()}if(2&t){var i=c.cc().$implicit;c.Ab(2),c.Fc(i("password")),c.Ab(2),c.Fc(i("reset"))}}function Ea(t,e){if(1&t&&(c.Qb(0),c.Cc(1,Ta,5,2,"div",13),c.Pb()),2&t){var n=c.cc();c.Ab(1),c.ic("ngIf",n.generalSettings&&n.generalSettings.EnablePasswordOptions&&7!==n.generalSettings.UserType&&8!==n.generalSettings.UserType&&!n.checkClose)}}function Fa(t,e){if(1&t&&(c.Sb(0,"div"),c.Nb(1,"p",22),c.Rb()),2&t){var n=e.row;c.Ab(1),c.ic("innerText",n.tmCreated.format("MMM D, Y h:mm A"))}}function Da(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",28),c.Zb("clClickOutside",(function(){return c.vc(n),c.cc(4).setDisplay(-1,0)})),c.Sb(1,"h4"),c.Ec(2),c.Rb(),c.Sb(3,"div",29),c.Sb(4,"button",30),c.Zb("click",(function(){return c.vc(n),c.cc(4).setDisplay(-1,0)})),c.Ec(5),c.Rb(),c.Sb(6,"button",31),c.Zb("click",(function(){var t=e.$implicit;return t.action(t.row.id)})),c.Ec(7),c.Rb(),c.Rb(),c.Rb()}if(2&t){var i=e.$implicit,o=c.cc(3).$implicit;c.Ab(2),c.Fc(i.actionText),c.Ab(3),c.Fc(o("common.no")),c.Ab(2),c.Fc(o("common.yes"))}}var Na=function(t,e,n){return{action:t,actionText:e,row:n}};function La(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",23),c.Sb(1,"button",24),c.Zb("click",(function(){c.vc(n);var t=e.rowIndex;return c.cc(3).setDisplay(t,0)})),c.Ec(2),c.Rb(),c.Sb(3,"button",25),c.Zb("click",(function(){c.vc(n);var t=e.rowIndex;return c.cc(3).setDisplay(t,1)})),c.Nb(4,"i",26),c.Rb(),c.Rb(),c.Cc(5,Da,8,3,"ng-template",null,27,c.Dc)}if(2&t){var i=e.row,o=e.rowIndex,r=c.sc(6),a=c.cc(2).$implicit,s=c.cc();c.Ab(1),c.ic("clTooltip",r)("clTooltipPersist",!0)("clTooltipDirection","left")("clTooltipDisplay",s.display(o,0))("clTooltipContext",c.nc(11,Na,s.restoreSnapshot.bind(s),a("myProfile.security.restoreSnapshot"),i)),c.Ab(1),c.Gc(" ",a("common.apply"),""),c.Ab(1),c.ic("clTooltip",r)("clTooltipPersist",!0)("clTooltipDirection","left")("clTooltipDisplay",s.display(o,1))("clTooltipContext",c.nc(15,Na,s.deleteSnapshot.bind(s),a("myProfile.security.deleteSavedSetting"),i))}}function Ha(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",32),c.Sb(1,"cl-input",33),c.Zb("valueChange",(function(t){return c.vc(n),c.cc(3).snapshotName=t})),c.Rb(),c.Sb(2,"button",34),c.Zb("click",(function(){return c.vc(n),c.cc(3).saveSnapshot()})),c.Ec(3),c.Rb(),c.Rb()}if(2&t){var i=c.cc(2).$implicit,o=c.cc();c.Ab(1),c.ic("value",o.snapshotName)("charLimit",50),c.Ab(1),c.ic("disabled",o.snapshotName.length<1),c.Ab(1),c.Fc(i("myProfile.security.saveSnapshot"))}}var Ua=function(){return[5,10,15]};function Ba(t,e){if(1&t&&(c.Sb(0,"div",17),c.Sb(1,"h3"),c.Ec(2),c.Rb(),c.Sb(3,"cl-data-table",18),c.Cc(4,Fa,2,1,"ng-template",19),c.Cc(5,La,7,19,"ng-template",20),c.Rb(),c.Cc(6,Ha,4,4,"div",21),c.Rb()),2&t){var n=c.cc().$implicit,i=c.cc();c.Ab(2),c.Fc(n("myProfile.security.snapshot")),c.Ab(1),c.ic("dataFields",i.snapshotTable)("data",i.snapshotList)("useInternalFilters",!0)("pageSizes",c.kc(6,Ua)),c.Ab(3),c.ic("ngIf",!i.createdSnapshot)}}function ja(t,e){if(1&t&&(c.Qb(0),c.Cc(1,Ba,7,7,"div",16),c.Pb()),2&t){var n=c.cc();c.Ab(1),c.ic("ngIf",n.checkIfDemoTenant())}}var za=function(){function t(t,e,n,i,o,r,a,s,l,p,u,d,b){var g=this;this.helper=t,this.nodeApi=e,this.translationHelper=n,this.settingsService=i,this.sessionService=o,this.growlService=r,this.appsHelper=a,this.appsLibService=s,this.settingsHelper=l,this.myProfileHelper=p,this.appsService=u,this.translationService=d,this.permissionsService=b,this.checkClose=!1,this.closeSlide=new c.n,this.twoFactor={created_datetime:"",gauth_set:!1,id:null,image1:null,is_eanabled:!1,type:1},this.snapshotName="",this.snapshotList=[],this.snapshotTable=[{header:"Name",fieldName:"name",minWidth:250},{header:"Date",fieldName:"tmCreated",template:{name:"date"},minWidth:100},{header:"",fieldName:"",template:{name:"buttons"},minWidth:125,columnWidth:1}],this.createdSnapshot=!1,this.activeTtip=[-1,-1],this.passwordRecoveryOptions=[{title:"mobilePhone",icon:"far fa-phone",show:function(){return g.recoveryOptions&&0!==g.recoveryOptions.phones},isEnabled:function(){return g.isPhoneEnabled()}},{title:"email",icon:"far fa-envelope",show:function(){return g.recoveryOptions&&0!==g.recoveryOptions.emails},isEnabled:function(){return g.isEmailEnabled()}},{title:"questions",icon:"far fa-question-circle",show:function(){return g.recoveryOptions&&0!==g.recoveryOptions.secretquestions},isEnabled:function(){return g.isQuestionsEnabled()}}],this.twoFactorOptions=[],this.checkUserAdded=function(t){return!(t.assign_acation_flag_raw&&(t.assign_acation_flag_raw.saAssigned||t.assign_acation_flag_raw.taAssigned))},this.subscriptions=[],this.subscriptions[0]=t.generalSettingsUpdated.subscribe((function(t){g.gwsToken=g.sessionService.getGwsToken(),g.generalSettings=t})),this.subscriptions[1]=a.appsUpdated.subscribe((function(t){return g.myApps=t})),this.subscriptions[2]=b.permissionsSub.subscribe((function(t){return g.permissions=t})),this.translationService.selectTranslate("contextMenu.name").subscribe((function(t){return g.snapshotTable[0].header=t})),this.translationService.selectTranslate("myProfile.security.sessions.date").subscribe((function(t){return g.snapshotTable[1].header=t}))}return t.prototype.ngOnInit=function(){this.getRecoveryOptions(),this.refreshSnapshots()},t.prototype.ngOnDestroy=function(){this.subscriptions.forEach((function(t){return t.unsubscribe()}))},t.prototype.getRecoveryOptions=function(){var t=this;this.nodeApi.getCurrentRecoveryOptions().subscribe((function(e){t.recoveryOptions=e}))},t.prototype.onOptionSelect=function(t){this.helper.securityIndexChanged.next(t),this.helper.tabPageChanged.next(1)},t.prototype.isPhoneEnabled=function(){return this.recoveryOptions&&this.recoveryOptions.phones.length>0&&Pa()(this.recoveryOptions.phones,(function(t){return t.is_verified}))},t.prototype.isEmailEnabled=function(){return this.recoveryOptions&&this.recoveryOptions.emails.length>0&&Pa()(this.recoveryOptions.emails,(function(t){return t.is_verified}))},t.prototype.isQuestionsEnabled=function(){return this.recoveryOptions&&this.recoveryOptions.secretquestions.length>0},t.prototype.base2FAEnabled=function(){return this.twoFactor&&this.twoFactor.is_eanabled},t.prototype.refreshSnapshots=function(){var t=this;this.checkIfDemoTenant()&&this.settingsService.getSnapshots().subscribe((function(e){t.snapshotList=e.sort((function(t,e){return t.tmCreated<e.tmCreated?1:-1}))}))},t.prototype.saveSnapshot=function(){var t=this;this.createdSnapshot=!0;var e=[];ht.a.checkAppsForAutoLaunch(e,this.myApps);var n=[],i=[];this.myApps.forEach((function(e){var o={id:e.id,type:e.is_appfolder?2:e.is_folder?1:0};1==o.type&&e.apps&&e.apps.length&&(o.apps=e.apps.map((function(t){return t.id}))),i.push(o),t.checkUserAdded(e)&&n.push(e.id),e.apps&&e.apps.length&&e.apps.forEach((function(e){t.checkUserAdded(e)&&n.push(e.id)}))})),this.settingsService.saveSnapshot(this.snapshotName,n,e.map((function(t){return t.id})),i).subscribe((function(e){setTimeout((function(){t.refreshSnapshots()}),200)}))},t.prototype.restoreSnapshot=function(t){var e=this;this.activeTtip=[-1,-1],this.settingsHelper.snapshotRestored.next(!1),this.settingsService.restoreSnapshot(t).subscribe((function(n){var i=[],o=[],r=[];e.myApps.forEach((function(t){e.checkUserAdded(t)&&(o.push(t.id),r.push(t)),t.apps&&t.apps.length&&t.apps.forEach((function(t){e.checkUserAdded(t)&&o.push(t.id)}))})),n.userAddedLpAppIds.forEach((function(t){o.includes(t)||i.push(e.appsLibService.addAppById(t).pipe(Object(Sa.a)((function(e){return Object(et.a)(-t)}))))})),r.forEach((function(o){n.userAddedLpAppIds.includes(o.id)||i.push(e.nodeApi.deleteApp(o).pipe(Object(Sa.a)((function(e){return Object(et.a)(-t)}))))})),i.length>0?Object(E.a)(i).subscribe((function(){e.restoreAutoLaunch(n.autolaunchLpAppIds,n.lpAppOrder)})):e.restoreAutoLaunch(n.autolaunchLpAppIds,n.lpAppOrder)}))},t.prototype.restoreAutoLaunch=function(t,e){var n=this,i=[];ht.a.checkAppsForAutoLaunch(i,this.myApps);var o=i.map((function(t){return t.id})),r=[];o.forEach((function(e){t.includes(e)||r.push(n.nodeApi.removeAutoLaunch({id:e}).pipe(Object(Sa.a)((function(t){return Object(et.a)(-e)}))))})),t.forEach((function(t){o.includes(t)||r.push(n.nodeApi.addAutoLaunch({id:t}).pipe(Object(Sa.a)((function(e){return Object(et.a)(-t)}))))})),r.length>0?Object(E.a)(r).subscribe((function(){n.restoreOrder(e)})):this.restoreOrder(e)},t.prototype.restoreOrder=function(t){var e=this,n=this.permissions.availablePermissions.has(X.a.InHouseAppsEndpoint)?this.appsService.getMyApps():this.nodeApi.getMyApps();this.nodeApi.orderAppsRestore(t).subscribe((function(){Object(E.a)({apps:n,generalSettings:e.nodeApi.getGeneralSettings(),settings:e.settingsService.getSettings()}).subscribe((function(t){e.appsHelper.appsUpdated.next(t.apps),e.sessionService.setSettings(t.settings),e.sessionService.setUserInfo(t.settings.userInfo),e.myProfileHelper.generalSettingsUpdated.next(t.generalSettings),setTimeout((function(){e.closeSlide.emit(void 0),e.settingsHelper.snapshotRestored.next(!0)}),1e3)}))}))},t.prototype.deleteSnapshot=function(t){var e=this;this.activeTtip=[-1,-1],this.settingsService.deleteSnapshot(t).subscribe((function(){e.refreshSnapshots()}))},t.prototype.checkIfDemoTenant=function(){return K.a.demoTenants.includes(this.generalSettings.TenantId)},t.prototype.setDisplay=function(t,e){var n=this;setTimeout((function(){n.activeTtip=[-1,-1],n.activeTtip[e]=t}),0)},t.prototype.display=function(t,e){return this.activeTtip[e]==t},t.\u0275fac=function(e){return new(e||t)(c.Mb(lt),c.Mb(l.a),c.Mb(J.a),c.Mb(xe.a),c.Mb(A.a),c.Mb(vt.v),c.Mb(p.a),c.Mb(Q),c.Mb(M.a),c.Mb(lt),c.Mb($.a),c.Mb(ct.f),c.Mb(X.b))},t.\u0275cmp=c.Gb({type:t,selectors:[["app-recovery-tab"]],inputs:{checkClose:"checkClose"},outputs:{closeSlide:"closeSlide"},decls:4,vars:2,consts:[[1,"slideover-content","bottom-20"],[4,"transloco","translocoRead"],[4,"transloco"],["class","column-nowrap flex-start",4,"ngIf"],["optionTemplate",""],[1,"column-nowrap","flex-start"],[1,"option-ctnr","row-wrap","flex-start"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngFor","ngForOf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["class","option","role","button","tabindex","0",3,"click","keydown.Enter",4,"ngIf"],["role","button","tabindex","0",1,"option",3,"click","keydown.Enter"],[1,"flex-start","column-nowrap","title-ctnr"],[3,"ngClass"],["class","flex-start column-nowrap",4,"ngIf"],[1,"flex-start","column-nowrap"],[1,"button","button-primary",3,"click"],["class","column-nowrap flex-start snapshots",4,"ngIf"],[1,"column-nowrap","flex-start","snapshots"],[3,"dataFields","data","useInternalFilters","pageSizes"],["clTemplate","date"],["clTemplate","buttons"],["class","snapshot-submission",4,"ngIf"],[1,"no-margin",3,"innerText"],[1,"bttn-ctnr"],[1,"button","button-text",3,"clTooltip","clTooltipPersist","clTooltipDirection","clTooltipDisplay","clTooltipContext","click"],[1,"button-icon","color-danger",3,"clTooltip","clTooltipPersist","clTooltipDirection","clTooltipDisplay","clTooltipContext","click"],[1,"far","fa-times"],["confirm",""],[1,"cl-tooltip","confirmation",3,"clClickOutside"],[1,"buttons-ctnr"],[1,"button","button-default",3,"click"],[1,"button","button-default","text-danger",3,"click"],[1,"snapshot-submission"],[3,"value","charLimit","valueChange"],[1,"button","button-primary",3,"disabled","click"]],template:function(t,e){1&t&&(c.Sb(0,"div",0),c.Cc(1,Ia,4,1,"ng-container",1),c.Cc(2,Ea,2,1,"ng-container",1),c.Cc(3,ja,2,1,"ng-container",2),c.Rb()),2&t&&(c.Ab(1),c.ic("translocoRead","myProfile.security"),c.Ab(1),c.ic("translocoRead","myProfile.general"))},directives:[ct.c,i.k,i.j,i.o,i.i,vt.j,vt.c,vt.P,vt.f,vt.w],styles:[".slideover-content[_ngcontent-%COMP%]{height:100%!important}.slideover-content[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin-bottom:50px}cl-slide-toggle[_ngcontent-%COMP%]{margin-bottom:5px}p[_ngcontent-%COMP%]{font-size:calc(var(--font-modifier) * 13px);margin-bottom:20px}p.no-margin[_ngcontent-%COMP%]{margin-bottom:0}cl-dropdown[_ngcontent-%COMP%]{width:50%}p.drop-template[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;margin:0;width:100%;max-width:unset!important;font-weight:700}p.drop-template[_ngcontent-%COMP%], p.drop-template[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:calc(var(--font-modifier) * 13px)}p.drop-template[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:auto;color:var(--color-primary);font-weight:600}.bold[_ngcontent-%COMP%]{font-weight:700}.button-text[_ngcontent-%COMP%]{margin-top:20px}.option-ctnr[_ngcontent-%COMP%]{width:calc(100% + 20px);margin:0 -10px}.option-ctnr[_ngcontent-%COMP%]   .option[_ngcontent-%COMP%]{min-width:250px;position:relative;display:-ms-flexbox;display:flex;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-pack:start;justify-content:flex-start;-ms-flex-align:center;align-items:center;padding:20px;border-radius:5px;border:1px solid var(--color-border-dark);height:120px;-ms-flex:0 0 calc(33.333% - 20px);flex:0 0 calc(33.333% - 20px);margin:0 10px 10px}.option-ctnr[_ngcontent-%COMP%]   .option[_ngcontent-%COMP%]:hover{box-shadow:0 0 20px rgba(0,0,0,.1);opacity:1}.option-ctnr[_ngcontent-%COMP%]   .option[_ngcontent-%COMP%] > svg[_ngcontent-%COMP%]{font-size:60px;width:60px;opacity:.05;margin-right:auto}.option-ctnr[_ngcontent-%COMP%]   .option[_ngcontent-%COMP%]   .title-ctnr[_ngcontent-%COMP%]{margin-right:auto}.option-ctnr[_ngcontent-%COMP%]   .option[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:calc(var(--font-modifier) * 13px);font-weight:600;color:var(--color-primary)}.sessions[_ngcontent-%COMP%]{padding-bottom:50px}.sessions[_ngcontent-%COMP%]   cl-data-table[_ngcontent-%COMP%]{margin-top:20px;overflow-x:hidden;padding:15px 10px 10px;border-radius:5px;border:2px solid #ddd}.sessions[_ngcontent-%COMP%] > .button-danger[_ngcontent-%COMP%]{margin-top:10px;-ms-flex-item-align:end;align-self:end}.image-p[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-flow:row nowrap;flex-flow:row nowrap;height:50px;max-height:50px;-ms-flex-align:center;align-items:center}.image-p[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:40px;max-width:40px;margin:5px}.current-session[_ngcontent-%COMP%]{font-size:calc(var(--font-modifier) * 12px);color:var(--color-success)}.bottom-20[_ngcontent-%COMP%]{padding-bottom:20px}.button-primary[_ngcontent-%COMP%]{margin-top:15px}.snapshots[_ngcontent-%COMP%]{padding-bottom:50px;margin-bottom:0!important}.snapshots[_ngcontent-%COMP%]   cl-data-table[_ngcontent-%COMP%]{margin-top:20px;overflow-x:hidden;padding:15px 10px 10px;border-radius:5px;border:2px solid #ddd}.snapshots[_ngcontent-%COMP%] > .button-danger[_ngcontent-%COMP%]{margin-top:10px;-ms-flex-item-align:end;align-self:end}.bttn-ctnr[_ngcontent-%COMP%]{width:100%;display:-ms-flexbox;display:flex;-ms-flex-flow:row;flex-flow:row;-ms-flex-pack:distribute;justify-content:space-around;margin-right:20px}.bttn-ctnr[_ngcontent-%COMP%]   .button-text[_ngcontent-%COMP%]{margin-top:0;font-size:calc(var(--font-modifier) * 14px);min-width:unset!important}.snapshot-submission[_ngcontent-%COMP%]{width:100%;-ms-flex-flow:row wrap;flex-flow:row wrap;display:-ms-flexbox;display:flex;-ms-flex-flow:row;flex-flow:row}.snapshot-submission[_ngcontent-%COMP%]   cl-input[_ngcontent-%COMP%]{margin-top:15px;max-width:250px;margin-right:25px}"]}),t}();function Va(t,e){1&t&&c.Nb(0,"app-general-tab",7)}function Ga(t,e){1&t&&c.Nb(0,"app-select-avatar",8)}function $a(t,e){if(1&t&&c.Nb(0,"app-password-reset",9),2&t){var n=c.cc(2);c.ic("userInfo",n.userInfo)}}function Za(t,e){1&t&&c.Nb(0,"app-themes-tab",8)}function Wa(t,e){1&t&&c.Nb(0,"app-passwords-tab",8)}function qa(t,e){1&t&&c.Nb(0,"app-app-locker-list",8)}function Ya(t,e){1&t&&c.Nb(0,"app-edit-locker",7)}function Ka(t,e){1&t&&c.Nb(0,"app-edit-non-sso-locker",7)}function Qa(t,e){1&t&&c.Nb(0,"app-auto-launch-tab",8)}function Ja(t,e){1&t&&c.Nb(0,"app-sign-in-tab",10)}function Xa(t,e){if(1&t&&c.Nb(0,"app-verify-password",9),2&t){var n=c.cc(2);c.ic("userInfo",n.userInfo)}}function ts(t,e){1&t&&c.Nb(0,"app-security-tab",8)}function es(t,e){1&t&&c.Nb(0,"app-password-recovery",7)}function ns(t,e){1&t&&c.Nb(0,"app-two-factor",7)}function is(t,e){if(1&t){var n=c.Tb();c.Sb(0,"app-recovery-tab",11),c.Zb("closeSlide",(function(){return c.vc(n),c.cc(2).closeSlide()})),c.Rb()}if(2&t){var i=c.cc(2);c.ic("checkClose",i.checkClose)}}function os(t,e){if(1&t&&(c.Qb(0),c.Nb(1,"app-profile-header"),c.Cc(2,Va,1,0,"app-general-tab",2),c.Cc(3,Ga,1,0,"app-select-avatar",3),c.Cc(4,$a,1,1,"app-password-reset",4),c.Cc(5,Za,1,0,"app-themes-tab",3),c.Cc(6,Wa,1,0,"app-passwords-tab",3),c.Cc(7,qa,1,0,"app-app-locker-list",3),c.Cc(8,Ya,1,0,"app-edit-locker",2),c.Cc(9,Ka,1,0,"app-edit-non-sso-locker",2),c.Cc(10,Qa,1,0,"app-auto-launch-tab",3),c.Cc(11,Ja,1,0,"app-sign-in-tab",5),c.Cc(12,Xa,1,1,"app-verify-password",4),c.Cc(13,ts,1,0,"app-security-tab",3),c.Cc(14,es,1,0,"app-password-recovery",2),c.Cc(15,ns,1,0,"app-two-factor",2),c.Cc(16,is,1,1,"app-recovery-tab",6),c.Pb()),2&t){var n=c.cc();c.Ab(2),c.ic("ngIf",1===n.activeTab.id&&0===n.activeTabPage),c.Ab(1),c.ic("ngIf",1===n.activeTab.id&&1===n.activeTabPage),c.Ab(1),c.ic("ngIf",7===n.activeTab.id&&3===n.activeTabPage),c.Ab(1),c.ic("ngIf",2===n.activeTab.id),c.Ab(1),c.ic("ngIf",3===n.activeTab.id&&0===n.activeTabPage),c.Ab(1),c.ic("ngIf",3===n.activeTab.id&&1===n.activeTabPage),c.Ab(1),c.ic("ngIf",3===n.activeTab.id&&2===n.activeTabPage),c.Ab(1),c.ic("ngIf",3===n.activeTab.id&&3===n.activeTabPage),c.Ab(1),c.ic("ngIf",4===n.activeTab.id),c.Ab(1),c.ic("ngIf",5===n.activeTab.id&&0===n.activeTabPage),c.Ab(1),c.ic("ngIf",5===n.activeTab.id&&1===n.activeTabPage),c.Ab(1),c.ic("ngIf",6===n.activeTab.id&&0===n.activeTabPage),c.Ab(1),c.ic("ngIf",7===n.activeTab.id&&1===n.activeTabPage),c.Ab(1),c.ic("ngIf",6===n.activeTab.id&&2===n.activeTabPage),c.Ab(1),c.ic("ngIf",7===n.activeTab.id&&0===n.activeTabPage)}}var rs=function(){function t(t,e,n,i,o,r,a){var s=this;this.helper=t,this.slideoverService=e,this.sessionService=n,this.nodeApi=i,this.layoutService=o,this.appsHelper=r,this.settingsService=a,this.visible=!1,this.activeTab={id:1,title:"General"},this.activeTabPage=0,this.width="50%",this.checkClose=!1,this.subscriptions=[],this.userInfo=this.sessionService.getUserInfo(),this.subscriptions[0]=this.slideoverService.myProfile.opened.subscribe((function(t){return s.initSlideover(t)})),this.subscriptions[1]=this.helper.tabPageChanged.subscribe((function(t){s.activeTabPage=t})),this.subscriptions[2]=this.sessionService.userInfoUpdated.subscribe((function(t){return s.userInfo=t})),this.subscriptions[3]=this.helper.generalSettingsUpdated.subscribe((function(t){return s.generalSettings=t})),this.subscriptions[4]=o.windowResized.subscribe((function(){return s.width=window.innerWidth<600?"100%":window.innerWidth<900?"75%":window.innerWidth<1500?"65%":"50%"})),this.subscriptions[5]=this.helper.activeTabUpdated.subscribe((function(t){return s.activeTab=t}))}return t.prototype.ngOnDestroy=function(){this.subscriptions.forEach((function(t){return t.unsubscribe()}))},t.prototype.onKeydownHandler=function(){this.visible&&(this.visible=!1)},t.prototype.initSlideover=function(t){this.visible=!0,this.helper.setTabById(t.id?t.id:1),t&&(t.app&&this.helper.passwordLockerAppSelected.next(t.app),t.tabPage&&this.helper.tabPageChanged.next(t.app&&15!==t.app.type?3:1),t.forcePasswordRecovery&&(this.checkClose=!0===t.forcePasswordRecovery),this.closeEle=t.ele)},t.prototype.onVisibleChange=function(){var t=this;!0!==this.visible&&(this.checkClose&&this.nodeApi.getPasswordRecoveryForceStatus().subscribe((function(e){e&&7!==t.generalSettings.UserType&&8!==t.generalSettings.UserType?t.appsHelper.showForcePasswordRecovery.next(!0):t.checkClose=!1})),this.helper.tabPageChanged.next(0),this.slideoverService.myProfile.closed.next(!0),this.helper.titleUpdated.next(void 0))},t.prototype.closeSlide=function(){this.visible=!1,this.onVisibleChange()},t.\u0275fac=function(e){return new(e||t)(c.Mb(lt),c.Mb(z.a),c.Mb(A.a),c.Mb(l.a),c.Mb(vt.z),c.Mb(p.a),c.Mb(xe.a))},t.\u0275cmp=c.Gb({type:t,selectors:[["app-my-profile"]],hostBindings:function(t,e){1&t&&c.Zb("keydown.escape",(function(){return e.onKeydownHandler()}),!1,c.tc)},decls:2,vars:7,consts:[[3,"visible","width","showCloseIcon","autoFocusClose","trapFocus","initElement","visibleChange"],[4,"ngIf"],["class","my-profile-tab custom-scroll",4,"ngIf"],["class","my-profile-tab custom-scroll no-save",4,"ngIf"],["class","my-profile-tab custom-scroll",3,"userInfo",4,"ngIf"],["class","my-profile-tab custom-scroll no-save force-padding",4,"ngIf"],["class","my-profile-tab custom-scroll",3,"checkClose","closeSlide",4,"ngIf"],[1,"my-profile-tab","custom-scroll"],[1,"my-profile-tab","custom-scroll","no-save"],[1,"my-profile-tab","custom-scroll",3,"userInfo"],[1,"my-profile-tab","custom-scroll","no-save","force-padding"],[1,"my-profile-tab","custom-scroll",3,"checkClose","closeSlide"]],template:function(t,e){1&t&&(c.Sb(0,"cl-slideover",0),c.Zb("visibleChange",(function(t){return e.visible=t}))("visibleChange",(function(){return e.onVisibleChange()})),c.Cc(1,os,17,15,"ng-container",1),c.Rb()),2&t&&(c.ic("visible",e.visible)("width",e.width)("showCloseIcon",0===e.activeTabPage)("autoFocusClose",!0)("trapFocus",e.visible)("initElement",e.closeEle),c.Ab(1),c.ic("ngIf",e.visible))},directives:[vt.L,i.k,He,sn,xn,Rn,pi,mi,Pi,Ei,Bi,Wi,lo,bo,jo,Ur,wa,za],styles:['app-my-profile{--color-primary:#0054ff}app-my-profile .cl-slideover{min-width:600px}app-my-profile .my-profile-tab{-ms-flex-positive:1;flex-grow:1;overflow-y:auto!important}app-my-profile .my-profile-tab.no-save .slideover-content{height:100%;max-height:100%}app-my-profile .my-profile-tab .slideover-content{height:calc(100% - 80px);max-height:calc(100% - 80px)}app-my-profile cl-dropdown,app-my-profile cl-input{-ms-flex-negative:0;flex-shrink:0}app-my-profile cl-slide-toggle label{margin:0}app-my-profile label{margin-bottom:10px}app-my-profile h3{font-weight:800;font-size:calc(var(--font-modifier) * 14px);text-transform:uppercase}app-my-profile h3 button{margin-left:5px}app-my-profile h3 svg{color:var(--color-primary);font-size:calc(var(--font-modifier) * 18px)!important}app-my-profile h4{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;text-align:center;font-size:calc(var(--font-modifier) * 13px);font-weight:600}app-my-profile h4 svg{width:25px!important;font-size:22px!important;margin-right:5px}app-my-profile .divider{position:relative;left:-50px;width:calc(100% + 100px);height:1px;background-color:var(--color-border-dark);margin:50px 0}app-my-profile .slideover-info{-ms-flex-negative:0!important;flex-shrink:0!important}app-my-profile .img-tpl{width:100%}app-my-profile .img-tpl .application{position:relative;margin-right:15px;height:50px;width:50px;-ms-flex:0 0 50px;flex:0 0 50px;min-width:50px;min-height:50px;filter:drop-shadow(5px 5px 5px var(--color-medium))}app-my-profile .img-tpl .application:before{content:"";position:absolute;top:3px;left:3px;width:calc(100% - 6px);height:calc(100% - 6px);border-radius:20px;box-shadow:0 0 10px rgba(0,0,0,.2)}app-my-profile .img-tpl .application img{width:47px;height:47px;-webkit-clip-path:url(#squareCircle);clip-path:url(#squareCircle)}app-my-profile .img-tpl h4,app-my-profile .img-tpl p{letter-spacing:0;word-spacing:0}app-my-profile .img-tpl p{font-size:calc(var(--font-modifier) * 12px);font-weight:400}app-my-profile app-profile-header{z-index:2}@media only screen and (max-width:600px){app-my-profile .cl-slideover{min-width:0}}'],encapsulation:2}),t}(),as=n("ur2b");function ss(t,e){if(1&t&&(c.Sb(0,"p"),c.Ec(1),c.Rb()),2&t){var n=c.cc().$implicit;c.Ab(1),c.Fc(n("appTwoFactorModal.needAdmin"))}}function cs(t,e){if(1&t&&(c.Sb(0,"p"),c.Ec(1),c.Rb()),2&t){var n=c.cc().$implicit;c.Ab(1),c.Fc(n("appTwoFactorModal.needEnable"))}}function ls(t,e){if(1&t&&(c.Sb(0,"p"),c.Ec(1),c.Rb()),2&t){var n=c.cc().$implicit;c.Ab(1),c.Fc(n("appTwoFactorModal.impersonated"))}}var ps=function(t,e){return{type:"text",placeholder:t,"aria-label":e}},us=function(t){return{"keydown.enter":t}};function ds(t,e){if(1&t){var n=c.Tb();c.Qb(0),c.Sb(1,"div",8),c.Sb(2,"p",9),c.Ec(3),c.Rb(),c.Sb(4,"button",10),c.Zb("click",(function(){return c.vc(n),c.cc(2).sendSMSCode(!0)})),c.Ec(5),c.Rb(),c.Rb(),c.Sb(6,"cl-input",11),c.Zb("valueChange",(function(t){return c.vc(n),c.cc(2).code=t})),c.Rb(),c.Pb()}if(2&t){var i=c.cc().$implicit,o=c.cc();c.Ab(3),c.Fc(i("appTwoFactorModal.enterSMS")),c.Ab(2),c.Fc(i("myProfile.security.resendCode")),c.Ab(1),c.ic("value",o.code)("attributes",c.mc(6,ps,i("appTwoFactorModal.placeholder"),i("appTwoFactorModal.placeholder")))("charLimit",6)("events",c.lc(9,us,o.verifySMSCode.bind(o)))}}function bs(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",14),c.Zb("keydown.Enter",(function(){c.vc(n);var t=e.$implicit,i=c.cc(3);return i.onSelectImage(t),i.verifyImage()}))("click",(function(){c.vc(n);var t=e.$implicit;return c.cc(3).onSelectImage(t)})),c.Nb(1,"img",15),c.Rb()}if(2&t){var i=e.$implicit,o=c.cc(2).$implicit,r=c.cc();c.Eb("active",r.selectedImage===i),c.Bb("aria-label",o("imageLabels.twoFactor."+r.getImageName(i))),c.Ab(1),c.ic("src",i,c.xc)("alt",o("imageLabels.twoFactor."+r.getImageName(i)))}}function gs(t,e){if(1&t&&(c.Qb(0),c.Sb(1,"p"),c.Ec(2),c.Rb(),c.Sb(3,"div",12),c.Cc(4,bs,2,5,"div",13),c.Rb(),c.Pb()),2&t){var n=c.cc().$implicit,i=c.cc();c.Ab(2),c.Fc(n("appTwoFactorModal.selectImage")),c.Ab(2),c.ic("ngForOf",i.images)}}function fs(t,e){if(1&t){var n=c.Tb();c.Qb(0),c.Sb(1,"p"),c.Ec(2),c.Rb(),c.Sb(3,"cl-input",11),c.Zb("valueChange",(function(t){return c.vc(n),c.cc(2).code=t})),c.Rb(),c.Pb()}if(2&t){var i=c.cc().$implicit,o=c.cc();c.Ab(2),c.Fc(i("appTwoFactorModal.enterCode")),c.Ab(1),c.ic("value",o.code)("attributes",c.mc(5,ps,i("appTwoFactorModal.placeholder"),i("appTwoFactorModal.placeholder")))("charLimit",6)("events",c.lc(8,us,o.verifyCode.bind(o)))}}function hs(t,e){if(1&t&&(c.Qb(0),c.Sb(1,"p"),c.Ec(2),c.Rb(),c.Pb()),2&t){var n=c.cc(3).$implicit;c.Ab(2),c.Fc(n("appTwoFactorModal.startYubikeyAuth"))}}function ms(t,e){if(1&t&&(c.Qb(0),c.Sb(1,"p"),c.Ec(2),c.Rb(),c.Sb(3,"p"),c.Ec(4),c.Rb(),c.Pb()),2&t){var n=c.cc(3).$implicit;c.Ab(2),c.Fc(n("appTwoFactorModal.yubikeyInstructions")),c.Ab(2),c.Fc(n("appTwoFactorModal.awaitYubikeyRes"))}}function vs(t,e){if(1&t&&(c.Sb(0,"div",18),c.Cc(1,hs,3,1,"ng-container",6),c.Cc(2,ms,5,2,"ng-container",6),c.Rb()),2&t){var n=c.cc(3);c.Ab(1),c.ic("ngIf",!n.authPending),c.Ab(1),c.ic("ngIf",n.authPending)}}function ys(t,e){if(1&t&&(c.Sb(0,"div",19),c.Nb(1,"i",3),c.Sb(2,"p"),c.Ec(3),c.Rb(),c.Rb()),2&t){var n=c.cc(2).$implicit;c.Ab(3),c.Fc(n("myProfile.security.twoFactor.yubikeyNotSupported"))}}function Cs(t,e){if(1&t&&(c.Qb(0),c.Cc(1,vs,3,2,"div",16),c.Cc(2,ys,4,1,"ng-template",null,17,c.Dc),c.Pb()),2&t){var n=c.sc(3),i=c.cc(2);c.Ab(1),c.ic("ngIf",i.webauthnSupported)("ngIfElse",n)}}function ws(t,e){1&t&&(c.Qb(0),c.Nb(1,"iframe",20),c.Pb())}var xs=function(){return{type:"password"}};function Ps(t,e){if(1&t){var n=c.Tb();c.Qb(0),c.Sb(1,"div",8),c.Sb(2,"p",9),c.Ec(3),c.Rb(),c.Rb(),c.Sb(4,"div",8),c.Sb(5,"cl-input",21),c.Zb("valueChange",(function(t){return c.vc(n),c.cc(2).pin=t})),c.Rb(),c.Rb(),c.Pb()}if(2&t){var i=c.cc().$implicit,o=c.cc();c.Ab(3),c.Fc(i("appTwoFactorModal.enterPin")),c.Ab(2),c.ic("value",o.pin)("attributes",c.kc(6,xs))("charLimit",6)("showPasswordEye",!0)("events",c.lc(7,us,o.verifyPin.bind(o)))}}function Ss(t,e){if(1&t){var n=c.Tb();c.Sb(0,"button",26),c.Zb("click",(function(){return c.vc(n),c.cc(3).enrollTwoFactor()})),c.Ec(1),c.Rb()}if(2&t){var i=c.cc(2).$implicit;c.Ab(1),c.Fc(i("appTwoFactorModal.enroll"))}}function Os(t,e){if(1&t){var n=c.Tb();c.Sb(0,"button",27),c.Zb("click",(function(){return c.vc(n),c.cc(3).verifySMSCode()})),c.Ec(1),c.Rb()}if(2&t){var i=c.cc(2).$implicit,o=c.cc();c.Eb("disabled",6!==o.code.length),c.ic("tabIndex",6===o.code.length?0:-1),c.Ab(1),c.Fc(i("common.submit"))}}function Ms(t,e){if(1&t){var n=c.Tb();c.Sb(0,"button",27),c.Zb("click",(function(){return c.vc(n),c.cc(3).verifyImage()})),c.Ec(1),c.Rb()}if(2&t){var i=c.cc(2).$implicit,o=c.cc();c.Eb("disabled",""===o.selectedImage),c.ic("tabIndex",""===o.selectedImage?0:-1),c.Ab(1),c.Fc(i("common.submit"))}}function As(t,e){if(1&t){var n=c.Tb();c.Sb(0,"button",27),c.Zb("click",(function(){return c.vc(n),c.cc(3).verifyCode()})),c.Ec(1),c.Rb()}if(2&t){var i=c.cc(2).$implicit,o=c.cc();c.Eb("disabled",6!==o.code.length),c.ic("tabIndex",6===o.code.length?0:-1),c.Ab(1),c.Fc(i("common.submit"))}}function ks(t,e){if(1&t){var n=c.Tb();c.Sb(0,"button",27),c.Zb("click",(function(){return c.vc(n),c.cc(3).verifyPin()})),c.Ec(1),c.Rb()}if(2&t){var i=c.cc(2).$implicit,o=c.cc();c.Eb("disabled",6!==o.pin.length),c.ic("tabIndex",6===o.pin.length?0:-1),c.Ab(1),c.Fc(i("common.submit"))}}var _s=function(t){return{disabled:t}};function Rs(t,e){if(1&t){var n=c.Tb();c.Sb(0,"cl-spinner-button",28),c.Zb("click",(function(){return c.vc(n),c.cc(3).startYubikeyAuth()})),c.Rb()}if(2&t){var i=c.cc(2).$implicit,o=c.cc();c.ic("text",i("appTwoFactorModal.authenticate"))("attributes",c.lc(4,_s,!o.webauthnSupported))("buttonClass",c.lc(6,_s,!o.webauthnSupported))("loading",o.authPending)}}function Is(t,e){if(1&t&&(c.Sb(0,"div",22),c.Cc(1,Ss,2,1,"button",23),c.Cc(2,Os,2,4,"button",24),c.Cc(3,Ms,2,4,"button",24),c.Cc(4,As,2,4,"button",24),c.Cc(5,ks,2,4,"button",24),c.Cc(6,Rs,1,8,"cl-spinner-button",25),c.Rb()),2&t){var n=c.cc(2);c.Ab(1),c.ic("ngIf",n.showNeedEnable()),c.Ab(1),c.ic("ngIf",n.showSMSVerify()),c.Ab(1),c.ic("ngIf",n.showImageVerify()),c.Ab(1),c.ic("ngIf",n.showCodeVerify()),c.Ab(1),c.ic("ngIf",n.showPinVerify()),c.Ab(1),c.ic("ngIf",n.showYubikeyAuth())}}function Ts(t,e){if(1&t&&(c.Qb(0),c.Sb(1,"div",2),c.Sb(2,"span"),c.Nb(3,"i",3),c.Rb(),c.Sb(4,"h2",4),c.Ec(5),c.Rb(),c.Rb(),c.Sb(6,"div",5),c.Cc(7,ss,2,1,"p",6),c.Cc(8,cs,2,1,"p",6),c.Cc(9,ls,2,1,"p",6),c.Cc(10,ds,7,11,"ng-container",6),c.Cc(11,gs,5,2,"ng-container",6),c.Cc(12,fs,4,10,"ng-container",6),c.Cc(13,Cs,4,2,"ng-container",6),c.Cc(14,ws,2,0,"ng-container",6),c.Cc(15,Ps,6,9,"ng-container",6),c.Rb(),c.Cc(16,Is,7,6,"div",7),c.Pb()),2&t){var n=e.$implicit,i=c.cc();c.Ab(5),c.Fc(i.showNeedEnable()||i.showNeedAdmin()?n("appTwoFactorModal.requireTwoFactor"):n("appTwoFactorModal.twoFactor")),c.Ab(2),c.ic("ngIf",i.showNeedAdmin()),c.Ab(1),c.ic("ngIf",i.showNeedEnable()),c.Ab(1),c.ic("ngIf",i.showNeedEnable()&&i.showImpersonated()),c.Ab(1),c.ic("ngIf",i.showSMSVerify()),c.Ab(1),c.ic("ngIf",i.showImageVerify()),c.Ab(1),c.ic("ngIf",i.showCodeVerify()),c.Ab(1),c.ic("ngIf",i.showYubikeyAuth()),c.Ab(1),c.ic("ngIf",i.showDuoPush()),c.Ab(1),c.ic("ngIf",i.showPinVerify()),c.Ab(1),c.ic("ngIf",!(i.showNeedAdmin()||i.showNeedEnable()&&i.showImpersonated()))}}var Es=function(){function t(t,e,n,i,o,r,a,s,c){var l=this;this.appsHelper=t,this.nodeApi=e,this.slideoverService=n,this.translationHelper=i,this.settingsService=o,this.appTwoFactorService=r,this.growlService=a,this.transloco=s,this.utilsService=c,this.visible=!1,this.code="",this.images=[],this.duo={host:"",sig_request:""},this.authPending=!1,this.u2fSupported=!1,this.webauthnSupported=!1,this.pin="",this.subscriptions=[],this.subscriptions[0]=t.appTwoFactorRequired.subscribe((function(t){l.visible=!!t,l.visible&&(l.app=t,l.code="",l.selectedImage="",l.pin="",l.getTwoFactorSettings())})),this.subscriptions[1]=o.getSettings().subscribe((function(t){l.settings=t}))}return t.prototype.ngOnDestroy=function(){this.subscriptions.forEach((function(t){return t.unsubscribe()}))},t.prototype.showNeedAdmin=function(){return this.twoFactorSettings&&!this.twoFactorSettings.isEnabledTwoFactor},t.prototype.showNeedEnable=function(){return!(!this.twoFactorSettings||0!==this.twoFactorSettings.twoFactorType)||(this.twoFactorSettings&&6!==this.twoFactorSettings.twoFactorType?this.twoFactorSettings&&this.twoFactorSettings.isEnabledTwoFactor&&!this.twoFactorSettings.isSetTwoFactor:this.twoFactorSettings&&this.twoFactorSettings.isEnabledTwoFactor&&!this.twoFactorSettings.isYubikey2FASet)},t.prototype.twoFactorSet=function(){return this.twoFactorSettings&&6!==this.twoFactorSettings.twoFactorType?this.twoFactorSettings&&this.twoFactorSettings.isEnabledTwoFactor&&this.twoFactorSettings.isSetTwoFactor:this.twoFactorSettings&&this.twoFactorSettings.isEnabledTwoFactor&&this.twoFactorSettings.isYubikey2FASet},t.prototype.showSMSVerify=function(){return this.twoFactorSet()&&1===this.twoFactorSettings.twoFactorType},t.prototype.showImageVerify=function(){return this.twoFactorSet()&&2===this.twoFactorSettings.twoFactorType},t.prototype.showCodeVerify=function(){return this.twoFactorSet()&&3===this.twoFactorSettings.twoFactorType},t.prototype.showYubikeyAuth=function(){return this.twoFactorSet()&&(5===this.twoFactorSettings.twoFactorType||6===this.twoFactorSettings.twoFactorType)},t.prototype.showPinVerify=function(){return this.twoFactorSet()&&7===this.twoFactorSettings.twoFactorType},t.prototype.showImpersonated=function(){return this.settings.userInfo.isImpersonated},t.prototype.showDuoPush=function(){return this.twoFactorSettings&&this.twoFactorSettings.isEnabledTwoFactor&&this.twoFactorSettings.isSetTwoFactor&&4===this.twoFactorSettings.twoFactorType},t.prototype.getTwoFactorSettings=function(){var t=this;this.nodeApi.getTwoFactorSettings().subscribe((function(e){t.twoFactorSettings=e,t.nodeApi.getTwoFactor().subscribe((function(e){e||(t.twoFactorSettings.twoFactorType=0)})),t.showSMSVerify()?t.sendSMSCode():t.showImageVerify()?t.getImageList():t.showDuoPush()?Object(u.a)(500).subscribe((function(){return t.renderDuoIframe()})):5!==t.twoFactorSettings.twoFactorType&&6!==t.twoFactorSettings.twoFactorType||t.nodeApi.checkYubikeyRegistration().subscribe((function(e){t.twoFactorSettings.isYubikey2FASet=1===e.status,t.checkWebAuthnSupport()}),(function(){return t.twoFactorSettings.isYubikey2FASet=!1}))}))},t.prototype.renderDuoIframe=function(){var t=this;this.appTwoFactorService.getDuo().subscribe((function(){}),(function(e){var n=e.error.data.host.includes("://")?e.error.data.host.split("://")[1]:e.error.data.host;t.duo.host=n,t.duo.sig_request=e.error.data.signedRequest,as.init({iframe:"duo_iframe",host:t.duo.host,sig_request:t.duo.sig_request,submit_callback:t.verifyDuo.bind(t)})}))},t.prototype.verifyDuo=function(t){var e=this;this.appTwoFactorService.verifyDuo({signedResponse:t.elements.sig_response.value}).subscribe((function(t){e.appsHelper.launchApp(e.app,t),e.visible=!1}))},t.prototype.sendSMSCode=function(t){var e=this;void 0===t&&(t=!1),this.nodeApi.sendPhoneCode(t).subscribe((function(n){t&&e.translationHelper.translateAndAddGenericGrowl({severity:"success"},{subject:"growl.code",verb:"common.resent"})}))},t.prototype.getImageList=function(){var t=this;this.nodeApi.getTwoFactorVerificationImages().subscribe((function(e){t.images=e}))},t.prototype.enrollTwoFactor=function(){this.visible=!1,this.slideoverService.myProfile.opened.next({id:6})},t.prototype.getImageName=function(t){return t.split("/").slice(-1)[0]},t.prototype.verifySMSCode=function(){this.verifyCode()},t.prototype.onSelectImage=function(t){this.selectedImage=t},t.prototype.startYubikeyAuth=function(){this.authPending=!0,5!==this.twoFactorSettings.twoFactorType&&6!==this.twoFactorSettings.twoFactorType||this.startWebAuthn()},t.prototype.startU2fProtocol=function(){var t=this;this.appTwoFactorService.startYubikeyAuth().subscribe((function(e){jr.a.sign(e.signedRequest).then((function(e){t.appTwoFactorService.completeYubikeyAuth(e).subscribe((function(e){t.authPending=!1,t.visible=!1,t.appsHelper.launchApp(t.app,e.apptoken)}),(function(){t.authPending=!1}))})).catch((function(){t.authPending=!1;var e=t.transloco.translate("appTwoFactorModal.yubikeyAuthError");t.growlService.add.next({severity:"error",summary:e})}))}))},t.prototype.checkU2fSupport=function(){return Object(R.b)(this,void 0,void 0,(function(){var t;return Object(R.d)(this,(function(e){switch(e.label){case 0:return t=this,[4,jr.a.isSupported()];case 1:return t.u2fSupported=e.sent(),[2]}}))}))},t.prototype.checkWebAuthnSupport=function(){this.webauthnSupported="undefined"!=typeof PublicKeyCredential},t.prototype.startWebAuthn=function(){var t=this;this.appTwoFactorService.getWebAuthnAuthentication().subscribe((function(e){var n=e.authenticationRequest,i=atob(n.keyHandle.replace(/_/g,"/").replace(/-/g,"+")),o=atob(n.challenge.replace(/_/g,"/").replace(/-/g,"+")),r={challenge:Uint8Array.from(o,(function(t){return t.charCodeAt(0)})),rpId:n.rpId,userVerification:"preferred",timeout:6e3,allowCredentials:[{id:Uint8Array.from(i,(function(t){return t.charCodeAt(0)})),type:"public-key",transports:["usb","ble","nfc"]}]};navigator.credentials.get({publicKey:r}).then((function(n){t.appTwoFactorService.verifyWebAuthnAuthentication({response:JSON.stringify(t.utilsService.publicKeyCredentialToJSON(n)),token:e.webAuthnToken}).subscribe((function(e){t.authPending=!1,t.visible=!1,t.appsHelper.launchApp(t.app,e.data.apptoken)}),(function(e){t.authPending=!1;var n=t.transloco.translate("appTwoFactorModal.yubikeyAuthError");t.growlService.add.next({severity:"error",summary:n})}))})).catch((function(e){t.authPending=!1;var n=t.transloco.translate("appTwoFactorModal.yubikeyAuthError");t.growlService.add.next({severity:"error",summary:n})}))}))},t.prototype.verifyImage=function(){this.code=this.getImageName(this.selectedImage),this.verifyCode()},t.prototype.verifyCode=function(){var t=this;this.nodeApi.verifyTwoFactorInput(this.twoFactorSettings.twoFactorType,this.code).subscribe((function(e){t.appsHelper.launchApp(t.app,e),t.visible=!1}),(function(e){2===t.twoFactorSettings.twoFactorType&&(t.selectedImage="",t.code="",t.getImageList())}))},t.prototype.verifyPin=function(){var t=this;this.appTwoFactorService.verifyPin(this.pin).subscribe((function(e){t.appsHelper.launchApp(t.app,e.apptoken),t.visible=!1}),(function(e){t.translationHelper.translateAndAddGrowl({severity:"error",summary:"appTwoFactorModal.pinVerifyError",detail:"appTwoFactorModal.pinVerifyErrorDetail"})}))},t.prototype.onVisibleChange=function(){this.visible||this.appsHelper.appTwoFactorRequired.next(void 0)},t.\u0275fac=function(e){return new(e||t)(c.Mb(p.a),c.Mb(l.a),c.Mb(z.a),c.Mb(J.a),c.Mb(xe.a),c.Mb(Gr),c.Mb(vt.v),c.Mb(ct.f),c.Mb(ht.a))},t.\u0275cmp=c.Gb({type:t,selectors:[["app-app-two-factor-modal"]],decls:2,vars:5,consts:[["role","dialog","aria-labelledby","twoFactorRequired",1,"auto-height",3,"visible","visibleChange"],[4,"transloco"],[1,"modal-header"],[1,"far","fa-exclamation-triangle"],["id","twoFactorRequired"],[1,"modal-main-content"],[4,"ngIf"],["class","modal-controls",4,"ngIf"],[1,"flex-start","full-width","relative-ctnr"],[1,"margin-right"],[1,"left-auto","button-text",3,"click"],[3,"value","attributes","charLimit","events","valueChange"],[1,"scroller","full-width","custom-scroll"],["role","button","tabindex","0",3,"active","keydown.Enter","click",4,"ngFor","ngForOf"],["role","button","tabindex","0",3,"keydown.Enter","click"],[3,"src","alt"],["class","yubikey-container",4,"ngIf","ngIfElse"],["webAuthnNotSupported",""],[1,"yubikey-container"],[1,"warning"],["id","duo_iframe","align","center"],[1,"pin",3,"value","attributes","charLimit","showPasswordEye","events","valueChange"],[1,"modal-controls"],["class","button button-primary left-auto",3,"click",4,"ngIf"],["class","button button-primary left-auto",3,"tabIndex","disabled","click",4,"ngIf"],["class","left-auto",3,"text","attributes","buttonClass","loading","click",4,"ngIf"],[1,"button","button-primary","left-auto",3,"click"],[1,"button","button-primary","left-auto",3,"tabIndex","click"],[1,"left-auto",3,"text","attributes","buttonClass","loading","click"]],template:function(t,e){1&t&&(c.Sb(0,"cl-modal",0),c.Zb("visibleChange",(function(t){return e.visible=t}))("visibleChange",(function(){return e.onVisibleChange()})),c.Cc(1,Ts,17,11,"ng-container",1),c.Rb()),2&t&&(c.Eb("modal-small",!e.showImageVerify())("modal-medium",e.showImageVerify()),c.ic("visible",e.visible))},directives:[vt.A,ct.c,i.k,vt.w,i.j,vt.N],styles:["cl-input[_ngcontent-%COMP%]{margin-top:20px}svg[_ngcontent-%COMP%]{color:var(--color-warning)}.scroller[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(100px,calc(16.66% - 20px)));grid-gap:20px;-ms-flex-pack:center;justify-content:center;justify-items:center;margin:20px auto;max-height:330px;overflow-x:hidden}.scroller[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:auto;height:auto;margin:5px;cursor:pointer}.scroller[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:after{width:calc(100% + 10px);left:-5px}.scroller[_ngcontent-%COMP%] > div.active[_ngcontent-%COMP%]:after{opacity:1;-webkit-animation:none;animation:none}.scroller[_ngcontent-%COMP%] > div.active[_ngcontent-%COMP%]:focus:after{opacity:0;-webkit-animation:pulse 2s infinite;animation:pulse 2s infinite}.scroller[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:hover{opacity:.8}.margin-right[_ngcontent-%COMP%]{margin-right:10px}@media only screen and (max-width:1300px){.scroller[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(60px,calc(16.66% - 20px)))}.scroller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:60px;height:60px}}.yubikey-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:10px 0}iframe[_ngcontent-%COMP%]{width:100%;min-height:350px}.unsupported[_ngcontent-%COMP%]{margin-bottom:0!important}.pin[_ngcontent-%COMP%]{height:auto!important;width:auto!important}"]}),t}(),Fs=["focusable"],Ds=function(t,e){return{item:t,index:e}};function Ns(t,e){if(1&t&&c.Ob(0,7),2&t){var n=e.$implicit,i=e.index;c.cc(2);var o=c.sc(4),r=c.sc(2);c.ic("ngTemplateOutlet",n.isDivider?o:r)("ngTemplateOutletContext",c.mc(2,Ds,n,i))}}function Ls(t,e){if(1&t){var n=c.Tb();c.Sb(0,"app-dropdown-menu",5),c.Zb("click",(function(t){return c.vc(n),t.stopPropagation()}))("mouseleave",(function(){return c.vc(n),c.cc().hideAllContextSubMenus()})),c.Cc(1,Ns,1,5,"ng-container",6),c.Rb()}if(2&t){var i=c.cc();c.ic("ngStyle",i.locationStyles),c.Bb("aria-activedescendant",i.ariaDescendant),c.Ab(1),c.ic("ngForOf",i.contextMenuItems)}}function Hs(t,e){if(1&t&&(c.Sb(0,"span",15),c.Nb(1,"i"),c.Rb()),2&t){var n=c.cc().item,i=c.cc();c.Ab(1),c.Cb(n.icon),c.Ac("color",i.sanitizeColor(n.color))}}function Us(t,e){if(1&t&&(c.Qb(0),c.Sb(1,"p"),c.Ec(2),c.Rb(),c.Pb()),2&t){var n=e.$implicit,i=c.cc().item,o=c.cc();c.Ab(1),c.Ac("color",o.sanitizeColor(i.color)),c.Ab(1),c.Fc(n(i.title))}}function Bs(t,e){1&t&&(c.Sb(0,"span",16),c.Nb(1,"i",17),c.Rb())}var js=function(t){return{$implicit:t}};function zs(t,e){if(1&t&&c.Ob(0,7),2&t){var n=c.cc().item;c.ic("ngTemplateOutlet",n.subMenuTemplate)("ngTemplateOutletContext",c.lc(2,js,n))}}var Vs=function(t){return{item:t,isSubOption:!0}};function Gs(t,e){if(1&t&&c.Ob(0,7),2&t){var n=e.$implicit;c.cc(4);var i=c.sc(2);c.ic("ngTemplateOutlet",i)("ngTemplateOutletContext",c.lc(2,Vs,n))}}function $s(t,e){if(1&t&&(c.Sb(0,"app-dropdown-menu",19),c.Cc(1,Gs,1,4,"ng-container",6),c.Rb()),2&t){var n=c.cc(2).item,i=c.cc();c.ic("ngStyle",i.subMenuStyles[n.title]),c.Bb("aria-labelledby",n.title),c.Ab(1),c.ic("ngForOf",n.subMenuOptions)}}function Zs(t,e){if(1&t&&c.Cc(0,$s,2,3,"app-dropdown-menu",18),2&t){var n=c.cc().item,i=c.cc();c.ic("ngIf",i.showSubMenu[n.title]&&n.subMenuOptions)}}function Ws(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",8,9),c.Zb("navigate",(function(t){return c.vc(n),c.cc().nav(t)}))("focus",(function(){c.vc(n);var t=e.item;return c.cc().onItemFocus(t)}))("mouseenter",(function(t){c.vc(n);var i=e.isSubOption,o=e.item,r=e.index,a=c.cc();return i?"":a.startShowTimer(o,t,r)}))("mouseleave",(function(){c.vc(n);var t=e.isSubOption,i=e.item,o=c.cc();return t?"":o.startHideTimer(i)}))("click",(function(){c.vc(n);var t=e.item;return c.cc().onItemClicked(t)}))("keydown.Enter",(function(t){c.vc(n);var i=e.item,o=e.index,r=e.isSubOption;return c.cc().onEnterKeydown(i,t,o,r)}))("keydown.Space",(function(t){c.vc(n);var i=e.item,o=e.index,r=e.isSubOption;return c.cc().onEnterKeydown(i,t,o,r)})),c.Cc(2,Hs,2,4,"span",10),c.Cc(3,Us,3,3,"ng-container",11),c.Cc(4,Bs,2,0,"span",12),c.Rb(),c.Cc(5,zs,1,4,"ng-container",13),c.Cc(6,Zs,1,1,"ng-template",null,14,c.Dc)}if(2&t){var i=e.item,o=e.index,r=c.sc(7),a=c.cc();c.Eb("disabled",!!i.isDisabled&&i.isDisabled())("active",!!i.isActive&&i.isActive()),c.ic("id",i.title)("customNavigation",!0),c.Bb("role","launch"===i.title?"menuitem link":"menuitem button")("autofocus",0===o)("aria-label",i.title)("aria-disabled",!!i.isDisabled&&i.isDisabled())("aria-haspopup",!!i.subMenuOptions)("aria-expanded",a.showSubMenu[i.title]),c.Ab(2),c.ic("ngIf",i.icon),c.Ab(1),c.ic("translocoRead","contextMenu"),c.Ab(1),c.ic("ngIf",i.subMenuOptions),c.Ab(1),c.ic("ngIf",i.subMenuTemplate)("ngIfElse",r)}}function qs(t,e){1&t&&c.Nb(0,"div",20)}function Ys(t,e){if(1&t&&c.Ob(0,7),2&t){var n=e.$implicit;c.cc(2);var i=c.sc(2);c.ic("ngTemplateOutlet",i)("ngTemplateOutletContext",c.lc(2,js,n))}}function Ks(t,e){if(1&t){var n=c.Tb();c.Sb(0,"app-dropdown-menu",23),c.Sb(1,"div",24,9),c.Zb("navigate",(function(t){return c.vc(n),c.cc(2).nav(t)}))("focus",(function(){c.vc(n);var t=c.cc().$implicit;return c.cc().onItemFocus(t)}))("click",(function(){c.vc(n);var t=c.cc(2);return t.createTag(),t.onDocumentClick()}))("keydown.Enter",(function(){c.vc(n);var t=c.cc(2);return t.createTag(),t.onDocumentClick()}))("keydown.Space",(function(){c.vc(n);var t=c.cc(2);return t.createTag(),t.onDocumentClick()})),c.Sb(3,"span",15),c.Nb(4,"i",25),c.Rb(),c.Sb(5,"p"),c.Ec(6),c.dc(7,"transloco"),c.Rb(),c.Rb(),c.Sb(8,"div",26),c.Cc(9,Ys,1,4,"ng-container",6),c.Rb(),c.Rb()}if(2&t){var i=c.cc().$implicit,o=c.cc();c.ic("ngStyle",o.subMenuStyles[i.title]),c.Ab(1),c.Eb("no-margin",0===(null==i.subMenuOptions?null:i.subMenuOptions.length)),c.ic("customNavigation",!0),c.Ab(5),c.Fc(c.ec(7,6,"addTag.add")),c.Ab(3),c.ic("ngForOf",i.subMenuOptions)}}function Qs(t,e){1&t&&(c.Sb(0,"span",15),c.Nb(1,"i",29),c.Rb())}function Js(t,e){1&t&&(c.Sb(0,"button",30),c.Nb(1,"i",31),c.Rb())}function Xs(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",27,9),c.Zb("focus",(function(){c.vc(n);var t=c.cc().$implicit;return c.cc().onItemFocus(t,!0)}))("navigate",(function(t){return c.vc(n),c.cc(2).nav(t)}))("click",(function(){c.vc(n);var t=e.$implicit;return c.cc(2).onItemClicked(t)}))("keydown.Enter",(function(){c.vc(n);var t=e.$implicit;return c.cc(2).onItemClicked(t)}))("keydown.Space",(function(){c.vc(n);var t=e.$implicit;return c.cc(2).onItemClicked(t)})),c.Cc(2,Qs,2,0,"span",10),c.Sb(3,"p"),c.Ec(4),c.Rb(),c.Cc(5,Js,2,0,"button",28),c.Rb()}if(2&t){var i=e.$implicit;c.Eb("active",!!i.isActive&&i.isActive()),c.ic("customNavigation",!0),c.Ab(2),c.ic("ngIf",!!i.isActive&&i.isActive()),c.Ab(2),c.Fc(i.title),c.Ab(1),c.ic("ngIf",!!i.isActive&&i.isActive())}}function tc(t,e){if(1&t&&(c.Cc(0,Ks,10,8,"app-dropdown-menu",21),c.Cc(1,Xs,6,6,"ng-template",null,22,c.Dc)),2&t){var n=e.$implicit,i=c.cc();c.ic("ngIf",i.showSubMenu[n.title]&&n.subMenuOptions)}}function ec(t,e){if(1&t&&c.Ob(0,7),2&t){var n=e.$implicit;c.cc(2);var i=c.sc(2);c.ic("ngTemplateOutlet",i)("ngTemplateOutletContext",c.lc(2,js,n))}}function nc(t,e){if(1&t){var n=c.Tb();c.Sb(0,"app-dropdown-menu",34),c.Sb(1,"div",24,9),c.Zb("navigate",(function(t){return c.vc(n),c.cc(2).nav(t)}))("focus",(function(){c.vc(n);var t=c.cc().$implicit;return c.cc().onItemFocus(t)}))("click",(function(){c.vc(n);var t=c.cc(2);return t.createFolder(),t.onDocumentClick()}))("keydown.Enter",(function(){c.vc(n);var t=c.cc(2);return t.createFolder(),t.onDocumentClick()}))("keydown.Space",(function(){c.vc(n);var t=c.cc(2);return t.createFolder(),t.onDocumentClick()})),c.Sb(3,"span",15),c.Nb(4,"i",25),c.Rb(),c.Sb(5,"p"),c.Ec(6),c.dc(7,"transloco"),c.Rb(),c.Rb(),c.Sb(8,"div",26),c.Cc(9,ec,1,4,"ng-container",6),c.Rb(),c.Rb()}if(2&t){var i=c.cc().$implicit,o=c.cc();c.ic("ngStyle",o.subMenuStyles[i.title]),c.Ab(1),c.Eb("no-margin",0===(null==i.subMenuOptions?null:i.subMenuOptions.length)),c.ic("customNavigation",!0),c.Ab(5),c.Fc(c.ec(7,6,"createFolder.add")),c.Ab(3),c.ic("ngForOf",i.subMenuOptions)}}function ic(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",27,9),c.Zb("focus",(function(){c.vc(n);var t=c.cc().$implicit;return c.cc().onItemFocus(t,!0)}))("navigate",(function(t){return c.vc(n),c.cc(2).nav(t)}))("click",(function(){c.vc(n);var t=e.$implicit;return c.cc(2).onItemClicked(t)}))("keydown.Enter",(function(){c.vc(n);var t=e.$implicit;return c.cc(2).onItemClicked(t)}))("keydown.Space",(function(){c.vc(n);var t=e.$implicit;return c.cc(2).onItemClicked(t)})),c.Sb(2,"span",15),c.Nb(3,"i",35),c.Rb(),c.Sb(4,"p"),c.Ec(5),c.Rb(),c.Rb()}if(2&t){var i=e.$implicit,o=c.cc(2);c.Eb("active",!!i.isActive&&i.isActive()),c.ic("customNavigation",!0),c.Ab(3),c.Ac("color",o.sanitizeColor(i.color)),c.Ab(2),c.Fc(i.title)}}function oc(t,e){if(1&t&&(c.Cc(0,nc,10,8,"app-dropdown-menu",32),c.Cc(1,ic,6,6,"ng-template",null,33,c.Dc)),2&t){var n=e.$implicit,i=c.cc();c.ic("ngIf",i.showSubMenu[n.title]&&n.subMenuOptions)}}var rc=function(){function t(t,e,n,i,o,r,a){var s=this;this.san=t,this.menuHelper=n,this.cdr=i,this.helper=o,this.tagsHelper=r,this.appsHelper=a,this.ariaDescendant="",this.locationStyles={"left.px":0,"top.px":0},this.showSubMenu={},this.subMenuStyles={},this.timers={enter:void 0,enterArgs:void 0,leave:void 0},this.subscriptions=[],this.subscriptions[0]=e.documentClicked.subscribe((function(){return s.onDocumentClick()})),this.subscriptions[1]=o.changeMenuOptions.subscribe((function(t){return s.onOptionsChange(t)})),this.subscriptions[2]=Object(ft.a)(document,"contextmenu").subscribe((function(){return s.onDocumentClick()})),this.subscriptions[3]=Object(ft.a)(document,"keydown").pipe(Object(mt.a)((function(t){return"Enter"===t.key}))).subscribe((function(){return s.onDocumentClick()})),this.mutationObserver=new MutationObserver((function(){return s.ensureLocationVisible()})),this.menuHandle=n.registerMenu((function(){return s.options.visible=!1}))}return Object.defineProperty(t.prototype,"ele",{set:function(t){if(this.dropdownEle=t,this.dropdownEle){this.mutationObserver.observe(this.dropdownEle.nativeElement,{childList:!0}),this.ensureLocationVisible();try{ht.a.isDescendant(document.activeElement,this.dropdownEle.nativeElement)||this.dropdownEle.nativeElement.children[0].focus()}catch(e){console.error(e)}}},enumerable:!1,configurable:!0}),t.prototype.ngAfterViewInit=function(){var t=this;this.subscriptions[2]=this.templates.changes.subscribe((function(){return t.processInputTemplates()})),this.processInputTemplates()},t.prototype.ngOnDestroy=function(){this.subscriptions.forEach((function(t){return t.unsubscribe()})),this.timers.enter&&this.timers.enter.unsubscribe(),this.timers.leave&&this.timers.leave.unsubscribe()},t.prototype.processInputTemplates=function(){if(this.templates&&this.contextMenuItems)for(var t=this.templates.toArray(),e=function(e){if(!e.templateName)return"continue";e.subMenuTemplate=j()(t,(function(t){return t.templateName===e.templateName})).template},n=0,i=this.contextMenuItems;n<i.length;n++)e(i[n])},t.prototype.onOptionsChange=function(t){this.options=t,this.contextMenuItems=this.helper.getItems(this.options),this.ariaDescendant=t?this.contextMenuItems[0].title:"",this.ensureLocationVisible(),this.processInputTemplates()},t.prototype.ensureLocationVisible=function(){if(this.dropdownEle&&window){var t=this.options.coordinates["left.px"],e=this.options.coordinates["top.px"],n=window.getComputedStyle(this.dropdownEle.nativeElement),i=this.getValFromStyleProp(n,"width"),o=this.getValFromStyleProp(n,"height");this.locationStyles=Object(R.a)({},this.options.coordinates),t+i>window.innerWidth&&(this.locationStyles["left.px"]=t-i),e+o>window.innerHeight&&(e-o>=0?this.locationStyles["top.px"]=e-o:(delete this.locationStyles["top.px"],this.locationStyles.top="unset",this.locationStyles["bottom.px"]=0))}},t.prototype.ensureSubMenuVisible=function(t){if(this.dropdownEle&&window){var e=window.getComputedStyle(this.dropdownEle.nativeElement),n=this.getValFromStyleProp(e,"width");t["left.px"]+200>=window.innerWidth&&(t["left.px"]=window.innerWidth-n);var i=this.getValFromStyleProp(e,"height"),o=t["top.px"];o+150>=window.innerHeight&&(t["top.px"]=(o+150-i)/2)}},t.prototype.getValFromStyleProp=function(t,e){return+t.getPropertyValue(e).slice(0,-2)},t.prototype.onItemClicked=function(t){t.handler&&t.handler(),this.options.visible=!1},t.prototype.onDocumentClick=function(){this.options.visible=!1,this.ariaDescendant="",this.hideAllContextSubMenus(),this.helper.changeMenuOptions.next(Object(R.a)(Object(R.a)({},this.options),{visible:!1}))},t.prototype.startShowTimer=function(t,e,n){this.timers.enterArgs=[t,e,n],!t.subMenuOptions||this.timers.leave&&!this.timers.leave.closed||this.showContextSubMenu(t,e,n)},t.prototype.onEnterKeydown=function(t,e,n,i){i?this.onItemClicked(t):this.toggleSubContextMenu(t,e,n),t.subMenuOptions?e.stopPropagation():this.onItemClicked(t)},t.prototype.toggleSubContextMenu=function(t,e,n){this.showSubMenu[t.title]?this.hideContextSubMenu(t):this.showContextSubMenu(t,e,n)},t.prototype.showContextSubMenu=function(t,e,n){if(t.subMenuOptions){var i=e.target,o=i.getBoundingClientRect();this.subMenuStyles[t.title]={"top.px":0===n?o.top-10:o.top-5,"left.px":o.left+i.offsetWidth},this.ensureSubMenuVisible(this.subMenuStyles[t.title]),this.showSubMenu[t.title]=!0;for(var r=0,a=Object.keys(this.showSubMenu);r<a.length;r++){var s=a[r];this.showSubMenu[s]&&s!==t.title&&(this.showSubMenu[s]=!1)}}},t.prototype.startHideTimer=function(t){var e=this;this.timers.leave&&!this.timers.leave.closed||!t.subMenuOptions||(this.timers.leave=Object(u.a)(250).subscribe((function(){var n;e.timers.enterArgs&&e.timers.enterArgs[0].title===t.title||(e.hideContextSubMenu(t),(n=e.showContextSubMenu).call.apply(n,Object(R.e)([e],e.timers.enterArgs)))})))},t.prototype.hideContextSubMenu=function(t){t.subMenuOptions&&(this.showSubMenu[t.title]=!1)},t.prototype.hideAllContextSubMenus=function(){for(var t=0,e=Object.keys(this.showSubMenu);t<e.length;t++)this.showSubMenu[e[t]]=!1},t.prototype.sanitizeColor=function(t){return this.san.bypassSecurityTrustStyle(t)},t.prototype.createTag=function(){this.tagsHelper.tagCreated.next({tag:void 0,app:this.options.app}),this.tagsHelper.tagModalVisibleChanged.next(!0)},t.prototype.createFolder=function(){this.appsHelper.folderCreated.next(this.options.app),this.appsHelper.folderCreatorVisibleChanged.next(!0)},t.prototype.nav=function(t){if(t.stopPropagation(),t.preventDefault(),this.focusables.length){var e=this.focusables.toArray();ht.a.keyboardJump(e,t,!1)}},t.prototype.onItemFocus=function(t,e){if(void 0===e&&(e=!1),this.ariaDescendant=t.title,!e&&!t.isSubOption)for(var n=0,i=Object.keys(this.showSubMenu);n<i.length;n++){var o=i[n];this.showSubMenu[o]&&o!==t.title&&(this.showSubMenu[o]=!1)}},t.\u0275fac=function(e){return new(e||t)(c.Mb(te.b),c.Mb(vt.z),c.Mb(gt),c.Mb(c.h),c.Mb(bt),c.Mb(k.a),c.Mb(p.a))},t.\u0275cmp=c.Gb({type:t,selectors:[["app-context-menu"]],viewQuery:function(t,e){var n;1&t&&(c.Jc(Tn,!0,c.l),c.Jc(vt.c,!0),c.Jc(Fs,!0)),2&t&&(c.rc(n=c.ac())&&(e.ele=n.first),c.rc(n=c.ac())&&(e.templates=n),c.rc(n=c.ac())&&(e.focusables=n))},decls:7,vars:1,consts:[["class","custom-scroll","role","menu","tabindex","-1","aria-labelledby","'contextMenuBtn'","clFocusTrap","","clKeyboardNav","",3,"ngStyle","click","mouseleave",4,"ngIf"],["dropdownItem",""],["divider",""],["clTemplate","tags"],["clTemplate","folders"],["role","menu","tabindex","-1","aria-labelledby","'contextMenuBtn'","clFocusTrap","","clKeyboardNav","",1,"custom-scroll",3,"ngStyle","click","mouseleave"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngFor","ngForOf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["clItem","","tabindex","0",1,"dropdown-item",3,"id","customNavigation","navigate","focus","mouseenter","mouseleave","click","keydown.Enter","keydown.Space"],["focusable",""],["class","icon-ctnr",4,"ngIf"],[4,"transloco","translocoRead"],["class","right",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngIf","ngIfElse"],["defaultSubMenu",""],[1,"icon-ctnr"],[1,"right"],[1,"far","fa-angle-right"],["class","sub-menu custom-scroll",3,"ngStyle",4,"ngIf"],[1,"sub-menu","custom-scroll",3,"ngStyle"],[1,"divider"],["clKeyboardNav","","class","sub-menu",3,"ngStyle",4,"ngIf"],["tagDropdownItem",""],["clKeyboardNav","",1,"sub-menu",3,"ngStyle"],["clItem","","role","button","tabindex","0",1,"dropdown-item","tag-item","primary-color","add-item",3,"customNavigation","navigate","focus","click","keydown.Enter","keydown.Space"],[1,"far","fa-plus"],[1,"custom-scroll"],["clItem","","role","button","tabindex","0",1,"dropdown-item","tag-item",3,"customNavigation","focus","navigate","click","keydown.Enter","keydown.Space"],["class","color-danger",4,"ngIf"],[1,"far","fa-check"],[1,"color-danger"],[1,"far","fa-times"],["class","sub-menu",3,"ngStyle",4,"ngIf"],["folderDropdownItem",""],[1,"sub-menu",3,"ngStyle"],[1,"fas","fa-folder"]],template:function(t,e){1&t&&(c.Cc(0,Ls,2,3,"app-dropdown-menu",0),c.Cc(1,Ws,8,17,"ng-template",null,1,c.Dc),c.Cc(3,qs,1,0,"ng-template",null,2,c.Dc),c.Cc(5,tc,3,1,"ng-template",3),c.Cc(6,oc,3,1,"ng-template",4)),2&t&&c.ic("ngIf",e.options.visible)},directives:[i.k,vt.c,Tn,vt.s,vt.y,i.l,i.j,i.o,vt.C,ct.c],pipes:[ct.e],styles:['app-dropdown-menu[_ngcontent-%COMP%]{position:fixed;width:200px;height:auto;max-height:100vh;overflow-y:auto;padding:10px 0}app-dropdown-menu.sub-menu[_ngcontent-%COMP%]{min-width:150px;max-width:180px;max-height:200px;width:auto;height:auto;overflow-y:auto;overflow-x:auto}app-dropdown-menu.sub-menu[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:-20px;width:20px;height:100%;z-index:-1}app-dropdown-menu.sub-menu[_ngcontent-%COMP%] > .custom-scroll[_ngcontent-%COMP%]{overflow-y:auto;width:100%}app-dropdown-menu[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]{margin:10px 0;-ms-flex:0 0 1px;flex:0 0 1px}app-dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]{position:relative;padding:5px 20px;height:auto;-ms-flex:0 0 30px;flex:0 0 30px;border-radius:0}app-dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%] > span.icon-ctnr[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-item-align:baseline;align-self:baseline;width:30px;-ms-flex:0 0 30px;flex:0 0 30px}app-dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{font-weight:600;font-size:calc(var(--font-modifier) * 12px);overflow-wrap:anywhere;word-break:break-all;white-space:normal;line-height:normal}app-dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%] > span.right[_ngcontent-%COMP%]{height:100%;margin-left:auto}app-dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%] > span.right[_ngcontent-%COMP%] > svg[_ngcontent-%COMP%]{margin:0}app-dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:17px;height:17px}app-dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]   .tag-item[_ngcontent-%COMP%]:hover   button[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex}app-dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]   .tag-item[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:none;margin-left:auto}app-dropdown-menu[_ngcontent-%COMP%]   .dropdown-item.add-item[_ngcontent-%COMP%]{height:auto;-ms-flex:0 0 40px;flex:0 0 40px;margin-bottom:10px}app-dropdown-menu[_ngcontent-%COMP%]   .dropdown-item.add-item.no-margin[_ngcontent-%COMP%]{margin-bottom:0}app-dropdown-menu[_ngcontent-%COMP%]   .dropdown-item.add-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:calc(var(--font-modifier) * 12px);font-weight:800;text-transform:uppercase;-ms-flex-item-align:baseline;align-self:baseline;margin-top:3px;word-wrap:break-word}app-dropdown-menu[_ngcontent-%COMP%]   .dropdown-item.add-item[_ngcontent-%COMP%]   span.icon-ctnr[_ngcontent-%COMP%]{width:27px;-ms-flex:0 0 27px;flex:0 0 27px;-ms-flex-align:baseline;align-items:baseline;display:-ms-flexbox;display:flex;-ms-flex-item-align:center;align-self:center;height:100%}app-dropdown-menu[_ngcontent-%COMP%]   .dropdown-item.add-item[_ngcontent-%COMP%]   span.icon-ctnr[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px}']}),t}(),ac=["focusButton"];function sc(t,e){if(1&t){var n=c.Tb();c.Qb(0),c.Sb(1,"div",2),c.Sb(2,"h3"),c.Ec(3),c.Rb(),c.Rb(),c.Sb(4,"div",3),c.Sb(5,"p"),c.Ec(6),c.Rb(),c.Rb(),c.Sb(7,"div",4),c.Sb(8,"button",5,6),c.Zb("click",(function(){return c.vc(n),c.cc().visible=!1})),c.Ec(10),c.Rb(),c.Sb(11,"button",7),c.Zb("click",(function(){return c.vc(n),c.cc().allowAction()})),c.Ec(12),c.Rb(),c.Rb(),c.Pb()}if(2&t){var i=e.$implicit,o=c.cc();c.Ab(3),c.Fc(o.currentItems.summary),c.Ab(3),c.Fc(o.currentItems.detail),c.Ab(4),c.Fc(i("cancel")),c.Ab(2),c.Fc(i("delete"))}}var cc=function(){function t(t){var e=this;this.appsHelper=t,this.visible=!1,this.currentItems={summary:"",detail:"",handler:function(){}},this.subscriptions=[],this.subscriptions[0]=t.deleteConfirmationRequired.subscribe((function(t){t&&(e.visible=!0,e.currentItems=t,e.button.nativeElement.focus())}))}return t.prototype.ngOnDestroy=function(){this.subscriptions.forEach((function(t){return t.unsubscribe()}))},t.prototype.allowAction=function(){this.visible=!1,this.currentItems.handler(),this.onVisibleChange()},t.prototype.onVisibleChange=function(){this.visible||this.appsHelper.deleteConfirmationRequired.next(void 0)},t.\u0275fac=function(e){return new(e||t)(c.Mb(p.a))},t.\u0275cmp=c.Gb({type:t,selectors:[["app-delete-app-modal"]],viewQuery:function(t,e){var n;1&t&&c.Jc(ac,!0),2&t&&c.rc(n=c.ac())&&(e.button=n.first)},decls:2,vars:2,consts:[[1,"modal-small","auto-height",3,"visible","visibleChange"],[4,"transloco","translocoRead"],[1,"modal-header"],[1,"modal-main-content"],[1,"modal-controls"],[1,"button","button-default",3,"click"],["focusButton",""],[1,"button","button-danger",3,"click"]],template:function(t,e){1&t&&(c.Sb(0,"cl-modal",0),c.Zb("visibleChange",(function(t){return e.visible=t}))("visibleChange",(function(){return e.onVisibleChange()})),c.Cc(1,sc,13,4,"ng-container",1),c.Rb()),2&t&&(c.ic("visible",e.visible),c.Ab(1),c.ic("translocoRead","common"))},directives:[vt.A,ct.c],styles:[".modal-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{text-overflow:ellipsis;overflow:hidden;word-break:normal!important}.modal-controls[_ngcontent-%COMP%]{margin-top:60px!important}.modal-main-content[_ngcontent-%COMP%]{overflow:hidden!important}"]}),t}(),lc=function(){function t(t){for(var e=0,n=Object.keys(t);e<n.length;e++){var i=n[e];this[i]=t[i]}}return t.prototype.setFilters=function(t){this.filter=Array.isArray(t)?t.join(" AND "):encodeURIComponent(t)},t.prototype.setDates=function(t,e,n){void 0===e&&(e="MM-DD-YYYY"),void 0===n&&(n="YYYY-MM-DD");var i=t.length;if(1===i||2===i){var o=t[0];this.startDate=Y.a.isMoment(o)||o instanceof Date?Y()(o).format(n):Y()(o,e).format(n)}if(2===i){var r=t[1];this.endDate=Y.a.isMoment(r)||r instanceof Date?Y()(r).format(n):Y()(r,e).format(n)}},t}(),pc=n("dlKe");function uc(t,e){1&t&&c.Nb(0,"div",5)}function dc(t,e){if(1&t&&(c.Sb(0,"div",6),c.Sb(1,"p",7),c.Ec(2),c.Rb(),c.Rb()),2&t){var n=c.cc();c.Ab(2),c.Fc(n.icon.name)}}var bc=function(){function t(){this.selected=!1,this.showName=!0}return t.prototype.handleImage=function(t){t.target.src=K.a.coreCDN+"/assets/images/default-app-icon.png"},t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=c.Gb({type:t,selectors:[["icon"]],inputs:{icon:"icon",selected:"selected",showName:"showName"},decls:5,vars:4,consts:[[1,"cl-clip-img-ctnr"],["class","img-border assigned",4,"ngIf"],[1,"img-border"],[3,"src","alt","error"],["class","name",4,"ngIf"],[1,"img-border","assigned"],[1,"name"],[1,"custom-scroll"]],template:function(t,e){1&t&&(c.Sb(0,"div",0),c.Cc(1,uc,1,0,"div",1),c.Sb(2,"div",2),c.Sb(3,"img",3),c.Zb("error",(function(t){return e.handleImage(t)})),c.Rb(),c.Rb(),c.Rb(),c.Cc(4,dc,3,1,"div",4)),2&t&&(c.Ab(1),c.ic("ngIf",e.selected),c.Ab(2),c.ic("src",e.icon.defaulturl,c.xc)("alt",e.icon.name),c.Ab(1),c.ic("ngIf",e.showName))},directives:[i.k],styles:["div.name[_ngcontent-%COMP%]{margin-top:5px!important;height:auto!important}div.name[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{overflow-y:auto;height:100%;-ms-flex-align:baseline;align-items:baseline}"]}),t}();function gc(t,e){1&t&&(c.Sb(0,"div",13),c.Nb(1,"i",14),c.Rb())}var fc=function(t){return{"aria-label":t,required:!0}};function hc(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",4),c.Sb(1,"div",5),c.Sb(2,"h4"),c.Ec(3),c.Rb(),c.Rb(),c.Sb(4,"cl-input",6),c.Zb("valueChange",(function(t){return c.vc(n),c.cc(2).form.name=t})),c.Rb(),c.Sb(5,"cl-input",6),c.Zb("valueChange",(function(t){return c.vc(n),c.cc(2).form.url=t})),c.Rb(),c.Sb(6,"label"),c.Ec(7),c.Rb(),c.Sb(8,"div",7),c.Zb("click",(function(){return c.vc(n),c.cc(2).goToPage(1)})),c.Cc(9,gc,2,0,"div",8),c.Sb(10,"application",9),c.Zb("mouseenter",(function(){return c.vc(n),c.cc(2).showFader=!0}))("mouseleave",(function(){return c.vc(n),c.cc(2).showFader=!1})),c.Rb(),c.Rb(),c.Sb(11,"div",10),c.Sb(12,"button",11),c.Zb("click",(function(){c.vc(n);var t=c.cc(2);return t.visible=!1,t.onVisibleChange()})),c.Ec(13),c.Rb(),c.Sb(14,"button",12),c.Zb("click",(function(){return c.vc(n),c.cc(2).updateApp()})),c.Ec(15),c.Rb(),c.Rb(),c.Rb()}if(2&t){var i=c.cc().$implicit,o=c.cc();c.Ab(3),c.Hc("",i("common.edit")," ",o.activeApp.name,""),c.Ab(1),c.ic("value",o.form.name)("label",i("apps.appName"))("attributes",c.lc(19,fc,i("apps.appName")))("inputValidator",o.isNotBlank.bind(o)),c.Ab(1),c.ic("value",o.form.url)("label",i("apps.appUrl"))("attributes",c.lc(21,fc,i("apps.appUrl")))("inputValidator",o.isValidUrl.bind(o)),c.Ab(2),c.Fc(i("apps.appIcon")),c.Ab(2),c.ic("ngIf",o.showFader),c.Ab(1),c.ic("app",o.displayIconApp)("showFlags",!1)("showName",!1),c.Ab(3),c.Fc(i("common.cancel")),c.Ab(1),c.Eb("disabled",!o.canSaveCustomApp()),c.Ab(1),c.Fc(i("common.save"))}}function mc(t,e){if(1&t){var n=c.Tb();c.Sb(0,"icon",23),c.Zb("click",(function(){c.vc(n);var t=e.$implicit;return c.cc(3).onSelectIcon(t)})),c.Rb()}if(2&t){var i=e.$implicit,o=c.cc(3);c.Eb("assigned",o.selectedIcon&&o.selectedIcon.id===i.id),c.ic("icon",i)("showName",!1)("selected",o.selectedIcon&&o.selectedIcon.id===i.id)}}function vc(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",15),c.Sb(1,"div",5),c.Sb(2,"h4"),c.Sb(3,"button",16),c.Zb("click",(function(){return c.vc(n),c.cc(2).page=0})),c.Nb(4,"i",17),c.Rb(),c.Ec(5),c.Rb(),c.Rb(),c.Sb(6,"cl-input",18),c.Zb("valueChange",(function(t){return c.vc(n),c.cc(2).iconSearch=t}))("valueChange",(function(){return c.vc(n),c.cc(2).onIconSearch()})),c.Rb(),c.Sb(7,"div",19),c.Zb("scrolled",(function(){return c.vc(n),c.cc(2).onPageScrolled()})),c.Cc(8,mc,1,5,"icon",20),c.Rb(),c.Sb(9,"div",21),c.Sb(10,"button",22),c.Zb("click",(function(){return c.vc(n),c.cc(2).selectIcon()})),c.Ec(11),c.Rb(),c.Rb(),c.Rb()}if(2&t){var i=c.cc().$implicit,o=c.cc();c.Ab(5),c.Fc(i("appLibrary.addApp.selectIcon")),c.Ab(1),c.ic("value",o.iconSearch)("icon","far fa-search"),c.Ab(1),c.ic("scrollWindow",!1),c.Ab(1),c.ic("ngForOf",o.icons)("ngForTrackBy",o.iconTrackBy),c.Ab(2),c.Eb("disabled",!o.selectedIcon),c.Ab(1),c.Fc(i("appLibrary.addApp.selectIcon"))}}function yc(t,e){if(1&t&&(c.Qb(0),c.Cc(1,hc,16,23,"div",2),c.Cc(2,vc,12,9,"div",3),c.Pb()),2&t){var n=c.cc();c.Ab(1),c.ic("ngIf",n.activeApp&&0===n.page),c.Ab(1),c.ic("ngIf",1===n.page)}}var Cc=function(){function t(t,e,n,i){var o=this;this.appsHelper=t,this.nodeApi=e,this.appLibService=n,this.translationHelper=i,this.visible=!1,this.form={name:"",url:"",icon:""},this.page=0,this.iconSearch="",this.iconFilters=new lc({rows:50,page:1}),this.showFader=!1,this.pushItems=!1,this.displayIconApp={icon:""},this.subscriptions=[],this.subscriptions[0]=t.editCustomAppUpdated.subscribe((function(t){o.visible=!!t,o.page=0,o.showFader=!1,t&&(o.activeApp=t,o.form.name=t.name,o.form.url=t.url[0],o.form.icon=t.icon,o.displayIconApp={icon:t.icon}),o.icons||o.getIcons()}))}return t.prototype.ngOnDestroy=function(){this.subscriptions.forEach((function(t){return t.unsubscribe()}))},t.prototype.onVisibleChange=function(){!1===this.visible&&this.appsHelper.editCustomAppUpdated.next(void 0)},t.prototype.iconTrackBy=function(t){return t.id},t.prototype.getIcons=function(){var t=this;this.appLibService.getIcons(this.iconFilters).subscribe((function(e){var n;t.pushItems?(n=t.icons).push.apply(n,e):t.icons=e}))},t.prototype.canSaveCustomApp=function(){return""!==this.form.name.trim()&&ht.a.isValidUrl(this.form.url)},t.prototype.isValidUrl=function(t){return ht.a.isValidUrl(t)},t.prototype.isNotBlank=function(t){return""!==t.trim()},t.prototype.onIconSearch=function(){var t=this;this.pushItems=!1,this.iconFilters.page=0,this.icons=[],this.appLibService.searchIcons(this.iconSearch).subscribe((function(e){t.iconSearchResults=e,t.icons=e.slice(0,50)}))},t.prototype.onPageScrolled=function(){var t;this.pushItems=!0,this.iconFilters.page+=1,""!==this.iconSearch?(t=this.icons).push.apply(t,this.iconSearchResults.slice(this.iconFilters.rows*this.iconFilters.page,this.iconFilters.rows*(this.iconFilters.page+1))):this.getIcons()},t.prototype.goToPage=function(t){this.page=t,this.showFader=!1},t.prototype.onSelectIcon=function(t){this.selectedIcon=t},t.prototype.selectIcon=function(){this.displayIconApp.icon=this.selectedIcon.defaulturl,this.form.icon=this.selectedIcon.defaulturl,this.page=0},t.prototype.updateApp=function(){var t=this;this.activeApp.name=this.form.name,this.activeApp.url[0]=this.form.url,this.activeApp.icon=this.form.icon,this.nodeApi.updateApp(this.activeApp).subscribe((function(e){t.translationHelper.translateAndAddGenericGrowl({severity:"success"},{subject:"apps.customApp",verb:"common.added"}),t.visible=!1,t.onVisibleChange()}))},t.\u0275fac=function(e){return new(e||t)(c.Mb(p.a),c.Mb(l.a),c.Mb(Q),c.Mb(J.a))},t.\u0275cmp=c.Gb({type:t,selectors:[["app-edit-custom-app"]],decls:2,vars:1,consts:[[1,"modal-small","auto-height",3,"visible","visibleChange"],[4,"transloco"],["class","form flex-start column-nowrap",4,"ngIf"],["class","icons flex-start column-nowrap",4,"ngIf"],[1,"form","flex-start","column-nowrap"],[1,"modal-header"],[3,"value","label","attributes","inputValidator","valueChange"],[1,"app-ctnr",3,"click"],["class","hover-fader flex-center",4,"ngIf"],[3,"app","showFlags","showName","mouseenter","mouseleave"],[1,"modal-controls"],[1,"button","button-default",3,"click"],[1,"button","button-secondary",3,"click"],[1,"hover-fader","flex-center"],[1,"fas","fa-cog"],[1,"icons","flex-start","column-nowrap"],[1,"button-text",3,"click"],[1,"fas","fa-arrow-left"],[3,"value","icon","valueChange"],["infiniteScroll","",1,"icon-ctnr","custom-scroll",3,"scrollWindow","scrolled"],["class","cl-app app-library no-name",3,"icon","showName","selected","assigned","click",4,"ngFor","ngForOf","ngForTrackBy"],[1,"modal-controls","flex-end-center"],[1,"button","button-primary","left-auto",3,"click"],[1,"cl-app","app-library","no-name",3,"icon","showName","selected","click"]],template:function(t,e){1&t&&(c.Sb(0,"cl-modal",0),c.Zb("visibleChange",(function(t){return e.visible=t}))("visibleChange",(function(){return e.onVisibleChange()})),c.Cc(1,yc,3,2,"ng-container",1),c.Rb()),2&t&&c.ic("visible",e.visible)},directives:[vt.A,ct.c,i.k,vt.w,Bt,pc.a,i.j,bc],styles:["app-edit-custom-app label{margin-bottom:5px}app-edit-custom-app .form,app-edit-custom-app .icons{width:100%}app-edit-custom-app .app-ctnr{position:relative;cursor:pointer;margin-bottom:20px}app-edit-custom-app .app-ctnr .hover-fader{position:absolute;top:0;left:0;width:100%;height:100%;z-index:10;background-color:hsla(0,0%,100%,.8);pointer-events:none}app-edit-custom-app .app-ctnr svg{font-size:30px;color:var(--color-primary)}app-edit-custom-app .form cl-input{height:59px;margin-bottom:15px}app-edit-custom-app .icons .modal-header{margin-bottom:20px}app-edit-custom-app .icons h4 button{margin-right:10px}app-edit-custom-app .icons h4 button svg{color:var(--color-primary);font-size:22px}app-edit-custom-app .icons cl-input{height:40px;margin-bottom:15px}app-edit-custom-app .icons .icon-ctnr{display:grid;grid-gap:20px;grid-template-columns:repeat(auto-fill,minmax(75px,1fr));grid-auto-rows:75px;height:266px;width:100%;padding:0 10px;margin-bottom:20px}app-edit-custom-app .icons icon.cl-app.no-name{width:75px;height:75px;margin:0;padding:0}app-edit-custom-app .icons icon.cl-app.no-name .cl-clip-img-ctnr{width:75px;height:75px}app-edit-custom-app .icons icon.cl-app.no-name .cl-clip-img-ctnr .img-border.assigned{width:81px;height:81px}app-edit-custom-app .icons icon.cl-app.no-name .cl-clip-img-ctnr img{width:72px;height:72px}app-edit-custom-app .icons .modal-controls{margin-top:60px}"],encapsulation:2}),t}(),wc=function(t,e){return{"aria-label":t,autofocus:"",placeholder:e,type:"text",id:"folderNameInput"}},xc=function(t){return{"keydown.enter":t}},Pc=function(t,e){return{"aria-label":t,placeholder:e,type:"text",id:"folderColorInput"}};function Sc(t,e){if(1&t){var n=c.Tb();c.Qb(0),c.Sb(1,"div",2),c.Sb(2,"h3",3),c.Ec(3),c.Rb(),c.Rb(),c.Sb(4,"div",4),c.Sb(5,"label",5),c.Ec(6),c.Rb(),c.Sb(7,"cl-input",6),c.Zb("valueChange",(function(t){return c.vc(n),c.cc().folder.name=t})),c.Rb(),c.Sb(8,"label",7),c.Ec(9),c.Rb(),c.Sb(10,"div",8),c.Sb(11,"cl-input",9),c.Zb("valueChange",(function(t){return c.vc(n),c.cc().folder.color=t})),c.Rb(),c.Sb(12,"input",10),c.Zb("ngModelChange",(function(t){return c.vc(n),c.cc().folder.color=t}))("click",(function(t){return c.vc(n),c.cc().onInputClick(t)}))("clColorPickerChange",(function(t){return c.vc(n),c.cc().folder.color=t})),c.Rb(),c.Rb(),c.Rb(),c.Sb(13,"div",11),c.Sb(14,"button",12),c.Zb("click",(function(){return c.vc(n),c.cc().onSave()})),c.Ec(15),c.Rb(),c.Rb(),c.Pb()}if(2&t){var i=e.$implicit,o=c.cc();c.Ab(3),c.Fc(i(o.editing?"createFolder.edit":"createFolder.add")),c.Ab(3),c.Fc(i("createFolder.label")),c.Ab(1),c.ic("attributes",c.mc(21,wc,i("createFolder.label"),i("createFolder.label")))("events",c.lc(24,xc,o.onSave.bind(o)))("charLimit",255)("value",o.folder.name),c.Ab(2),c.Fc(i("createFolder.colorLabel")),c.Ab(2),c.ic("attributes",c.mc(26,Pc,i("createFolder.colorLabel"),i("createFolder.colorPlaceholder")))("value",o.folder.color),c.Ab(1),c.ic("ngModel",o.folder.color)("clColorPicker",o.folder.color)("cpPosition","bottom")("cpSaveClickOutside",!1)("cpOKButton",!0)("cpOKButtonClass","button button-secondary")("cpCancelButton",!0)("cpCancelButtonClass","button button-default"),c.Bb("aria-label",i("createFolder.picker")),c.Ab(2),c.ic("disabled",!o.canSaveFolder()),c.Bb("tabindex",o.canSaveFolder()?0:-1),c.Ab(1),c.Fc(i(o.editing?"common.save":"common.create"))}}var Oc=function(){function t(t,e,n,i,o,r,a){var s=this;this.nodeApi=t,this.translationHelper=e,this.appsHelper=n,this.sessionService=i,this.cdr=o,this.appsService=r,this.permissionsService=a,this.showFolderModal=!1,this.folder={name:"",color:"#008AD7"},this.editing=!1,this.subscriptions=[],this.subscriptions[0]=this.appsHelper.folderCreated.subscribe((function(t){s.editing=!1,s.folder={name:"",color:s.settings.customUISettings.paletteColor},s.contextApp=t,Object(u.a)(0).subscribe((function(){return s.input.inputElement.focus()}))})),this.subscriptions[1]=n.appsUpdated.subscribe((function(t){return s.apps=t})),this.subscriptions[2]=i.settingsUpdated.subscribe((function(t){s.settings=t,s.folder.color=t.customUISettings.paletteColor})),this.subscriptions[3]=n.folderEdited.subscribe((function(t){s.editing=!0,s.activeFolder=t,s.folder={name:t.name,color:t.color},setTimeout((function(){return s.input.inputElement.focus()}),0)})),this.subscriptions[4]=n.folderCreatorVisibleChanged.subscribe((function(t){return s.showFolderModal=t})),this.subscriptions[5]=a.permissionsSub.subscribe((function(t){return s.permissions=t}))}return t.prototype.ngOnDestroy=function(){this.subscriptions.forEach((function(t){return t.unsubscribe()}))},t.prototype.canSaveFolder=function(){return""!==this.folder.name.trim()&&7===this.folder.color.length},t.prototype.onSave=function(){this.canSaveFolder()&&(this.editing?this.editFolder():this.createFolder())},t.prototype.editFolder=function(){var t=this;this.showFolderModal=!1,this.nodeApi.editFolder(this.activeFolder.id,this.folder.name,this.folder.color).subscribe((function(e){t.activeFolder.name=t.folder.name,t.activeFolder.color=t.folder.color,t.activeFolder.shadedColor=ht.a.shadeColorByPercent(t.folder.color,.7),t.translationHelper.translateAndAddGenericGrowl({severity:"success"},{subject:"common.folder",verb:"common.edited"}),t.folder={name:"",color:""}}))},t.prototype.createFolder=function(){var t=this;this.showFolderModal=!1,this.nodeApi.createEmptyFolder(this.folder.name,this.folder.color).subscribe((function(e){t.translationHelper.translateAndAddGenericGrowl({severity:"success"},{subject:"common.folder",verb:"common.created"});var n={id:e,apps:[],name:t.folder.name,color:t.folder.color,shadedColor:ht.a.shadeColorByPercent(t.folder.color,.7),is_folder:!0,is_appfolder:!1};t.apps.push(n);var i=function(){t.nodeApi.orderApps(t.apps).subscribe((function(e){t.folder={name:"",color:""},(t.permissions.availablePermissions.has(X.a.InHouseAppsEndpoint)?t.appsService.getMyApps():t.nodeApi.getMyApps()).subscribe((function(e){t.appsHelper.appsUpdated.next(e)}))}))};if(t.contextApp){var o=function(e){return e.id===t.contextApp.id},r=t.apps,a=U()(t.apps,o);-1===a&&(r=j()(t.apps,(function(e){return!!t.appsHelper.isFolder(e)&&j()(e.apps,o)})).apps,a=U()(r,o)),r.splice(a,1),n.apps.push(t.contextApp),t.nodeApi.addAppToFolder(t.contextApp,e).subscribe((function(t){i()}))}else i()})),this.cdr.detectChanges()},t.prototype.onInputClick=function(t){t.preventDefault()},t.prototype.onVisibleChange=function(){this.showFolderModal||this.appsHelper.folderCreatorVisibleChanged.next(!1)},t.\u0275fac=function(e){return new(e||t)(c.Mb(l.a),c.Mb(J.a),c.Mb(p.a),c.Mb(A.a),c.Mb(c.h),c.Mb($.a),c.Mb(X.b))},t.\u0275cmp=c.Gb({type:t,selectors:[["app-create-folder"]],viewQuery:function(t,e){var n;1&t&&c.Jc(vt.w,!0),2&t&&c.rc(n=c.ac())&&(e.input=n.first)},decls:2,vars:2,consts:[["aria-labelledby","folderModalTitle",1,"modal-small","auto-height",3,"visible","clFocusTrap","visibleChange"],[4,"transloco"],[1,"modal-header"],["id","folderModalTitle"],[1,"modal-main-content"],["for","folderNameInput"],[3,"attributes","events","charLimit","value","valueChange"],["for","folderColorInput"],[1,"relative-ctnr"],[3,"attributes","value","valueChange"],["type","color",3,"ngModel","clColorPicker","cpPosition","cpSaveClickOutside","cpOKButton","cpOKButtonClass","cpCancelButton","cpCancelButtonClass","ngModelChange","click","clColorPickerChange"],[1,"modal-controls"],[1,"button","button-secondary","left-auto",3,"disabled","click"]],template:function(t,e){1&t&&(c.Sb(0,"cl-modal",0),c.Zb("visibleChange",(function(t){return e.showFolderModal=t}))("visibleChange",(function(){return e.onVisibleChange()})),c.Cc(1,Sc,16,29,"ng-container",1),c.Rb()),2&t&&c.ic("visible",e.showFolderModal)("clFocusTrap",e.showFolderModal)},directives:[vt.A,vt.s,ct.c,vt.w,Oe.a,Oe.i,Oe.l,vt.g],styles:[".modal-controls[_ngcontent-%COMP%]{-ms-flex-pack:end!important;justify-content:flex-end!important;margin-top:60px!important}cl-input[_ngcontent-%COMP%]{margin-bottom:20px}label[_ngcontent-%COMP%]{margin-bottom:5px}.relative-ctnr[_ngcontent-%COMP%]{width:100%}.relative-ctnr[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{position:absolute;right:0;top:0;cursor:pointer;width:40px;height:40px;max-width:40px;border-radius:5px;border:2px solid var(--color-border-dark);background-color:var(--color-white);padding:1px 2px}"]}),t}(),Mc=["button"],Ac=["logoutButton"];function kc(t,e){if(1&t){var n=c.Tb();c.Qb(0),c.Sb(1,"h1"),c.Ec(2),c.Rb(),c.Sb(3,"h4"),c.Ec(4),c.Rb(),c.Sb(5,"div",6),c.Sb(6,"button",7,8),c.Zb("click",(function(){return c.vc(n),c.cc(2).onStayLoggedIn()})),c.Ec(8),c.Rb(),c.Sb(9,"button",9),c.Zb("click",(function(){return c.vc(n),c.cc(2).logout()})),c.Ec(10),c.Rb(),c.Rb(),c.Pb()}if(2&t){var i=c.cc().$implicit,o=c.cc();c.Ab(2),c.Fc(i("warning")),c.Ab(2),c.Ic("",i("timerFirst")," ",o.timerVal," ",i("timerSecond"),""),c.Ab(2),c.ic("tabindex",o.visible?0:-1),c.Bb("aria-label",i("keepLoggedIn")),c.Ab(2),c.Fc(i("keepLoggedIn")),c.Ab(1),c.ic("tabindex",o.visible?0:-1),c.Bb("aria-label",i("logout")),c.Ab(1),c.Fc(i("logout"))}}function _c(t,e){if(1&t){var n=c.Tb();c.Sb(0,"h1"),c.Ec(1),c.Rb(),c.Sb(2,"h4"),c.Ec(3),c.Rb(),c.Sb(4,"button",7,10),c.Zb("click",(function(){return c.vc(n),c.cc(2).logout()})),c.Ec(6),c.Rb()}if(2&t){var i=c.cc().$implicit,o=c.cc();c.Ab(1),c.Fc(i("oops")),c.Ab(2),c.Fc(i("youArentLoggedIn")),c.Ab(1),c.ic("tabindex",o.visible?0:-1),c.Bb("aria-label",i("login")),c.Ab(2),c.Fc(i("login"))}}function Rc(t,e){if(1&t&&(c.Qb(0),c.Sb(1,"div",2),c.Nb(2,"img",3),c.Cc(3,kc,11,10,"ng-container",4),c.Cc(4,_c,7,5,"ng-template",null,5,c.Dc),c.Rb(),c.Pb()),2&t){var n=c.sc(5),i=c.cc();c.Ab(1),c.ic("clFocusTrap",i.visible),c.Ab(1),c.ic("src","assets/images/classlink-logo-invert-filled.svg",c.xc)("alt","Classlink Logo"),c.Ab(1),c.ic("ngIf",i.showWarning)("ngIfElse",n)}}var Ic=function(t){return{active:t}},Tc=function(){function t(t,e,n){var i=this;this.appsHelper=t,this.zone=e,this.sessionService=n,this.visible=!1,this.showWarning=!0,this.timerVal=60,this.subscriptions=[],this.subscriptions[0]=t.sessionTimedOut.subscribe((function(t){return i.onSessionTimeout(t)})),this.subscriptions[1]=this.sessionService.settingsUpdated.subscribe((function(t){return i.settings=t}))}return Object.defineProperty(t.prototype,"buttonRef",{set:function(t){t&&t.nativeElement.focus()},enumerable:!1,configurable:!0}),t.prototype.ngOnDestroy=function(){this.subscriptions.forEach((function(t){return t.unsubscribe()}))},t.prototype.onSessionTimeout=function(t){t||(this.visible=!1),t!==this.visible&&(this.visible=t,this.showLoggedOut())},t.prototype.onStayLoggedIn=function(){this.visible=!1,this.showWarning=!0,this.timerVal=60,this.subscriptions[1].unsubscribe(),this.appsHelper.sessionTimedOut.next(!1)},t.prototype.onTimerTick=function(t){var e=t+1;this.timerVal=60-e,60===e&&(this.showLoggedOut(),this.subscriptions[1].unsubscribe())},t.prototype.showLoggedOut=function(){var t,e;this.showWarning=!1,this.customPage=null===(e=null===(t=this.settings)||void 0===t?void 0:t.buildingSettings)||void 0===e?void 0:e.loginUrl,this.appsHelper.logout(!1)},t.prototype.logout=function(){window.location.href=K.a.launchpadUrl+"/"+(this.customPage?this.customPage:"logout")},t.\u0275fac=function(e){return new(e||t)(c.Mb(p.a),c.Mb(c.z),c.Mb(A.a))},t.\u0275cmp=c.Gb({type:t,selectors:[["app-session-expired"]],viewQuery:function(t,e){var n;1&t&&(c.Jc(Mc,!0),c.Jc(Ac,!0)),2&t&&(c.rc(n=c.ac())&&(e.button=n.first),c.rc(n=c.ac())&&(e.buttonRef=n.first))},decls:2,vars:5,consts:[[1,"bg","flex-start-center","column-nowrap",3,"ngClass"],[4,"transloco","translocoRead"],["aria-modal","true",1,"modal","flex-center","column-nowrap",3,"clFocusTrap"],[3,"src","alt"],[4,"ngIf","ngIfElse"],["loggedOut",""],[1,"button-ctnr","flex-space-between-center"],[1,"button","button-primary",3,"tabindex","click"],["button",""],[1,"button","button-danger",3,"tabindex","click"],["logoutButton",""]],template:function(t,e){1&t&&(c.Sb(0,"div",0),c.Cc(1,Rc,6,5,"ng-container",1),c.Rb()),2&t&&(c.ic("ngClass",c.lc(3,Ic,e.visible)),c.Bb("aria-hidden",!e.visible),c.Ab(1),c.ic("translocoRead","sessionExpired"))},directives:[i.i,ct.c,vt.s,i.k],styles:[".bg[_ngcontent-%COMP%]{opacity:0;pointer-events:none;width:100%;height:100%;position:fixed;top:0;left:0;background-color:rgba(0,0,0,.4);z-index:1009}.bg.active[_ngcontent-%COMP%]{opacity:1;pointer-events:all}.bg[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]{position:relative;top:200px;overflow:visible;min-width:200px;width:40%;height:200px;padding:20px;background-color:var(--color-white);box-shadow:0 0 30px rgba(0,0,0,.3);border-radius:5px}.bg[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;right:40px;top:-40px;width:100px;z-index:1;filter:drop-shadow(0 4px 4px rgba(0,0,0,.25))}.bg[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:26px;font-weight:800;margin-bottom:10px}.bg[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:16px;margin-bottom:40px}.bg[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .button-ctnr[_ngcontent-%COMP%]{padding:0 40px;width:100%}"]}),t}();function Ec(t,e){if(1&t&&(c.Qb(0),c.Sb(1,"div",2),c.Nb(2,"i",3),c.Sb(3,"h3"),c.Ec(4),c.Rb(),c.Rb(),c.Sb(5,"div",4),c.Sb(6,"p"),c.Ec(7),c.Sb(8,"span",5),c.Ec(9),c.Rb(),c.Ec(10),c.Sb(11,"span",5),c.Ec(12),c.Rb(),c.Rb(),c.Rb(),c.Pb()),2&t){var n=e.$implicit;c.Ab(4),c.Fc(n("title")),c.Ab(3),c.Gc("",n("descriptionOne")," "),c.Ab(2),c.Fc(n("browsersOne")),c.Ab(1),c.Gc(" ",n("or")," "),c.Ab(2),c.Fc(n("browsersTwo"))}}var Fc=function(){function t(t){this.appsHelper=t,this.visible=!1,this.text={title:"",main:""}}return t.prototype.ngOnInit=function(){var t=ht.a.getBrowser()===Pe.a.OperaMini;t!==this.visible&&(this.visible=t,this.onVisibleChange())},t.prototype.onVisibleChange=function(){this.appsHelper.unsupporterBrowserShown.next(this.visible)},t.\u0275fac=function(e){return new(e||t)(c.Mb(p.a))},t.\u0275cmp=c.Gb({type:t,selectors:[["app-unsupported-browser"]],decls:2,vars:2,consts:[[1,"modal-small","unsupported-browser",3,"visible","visibleChange"],[4,"transloco","translocoRead"],[1,"modal-header"],[1,"far","fa-exclamation-triangle"],[1,"modal-main-content"],[1,"bold"]],template:function(t,e){1&t&&(c.Sb(0,"cl-modal",0),c.Zb("visibleChange",(function(t){return e.visible=t}))("visibleChange",(function(){return e.onVisibleChange()})),c.Cc(1,Ec,13,5,"ng-container",1),c.Rb()),2&t&&(c.ic("visible",e.visible),c.Ab(1),c.ic("translocoRead","unsupportedBrowser"))},directives:[vt.A,ct.c],styles:[".modal-header[_ngcontent-%COMP%]{margin-bottom:20px!important}svg[_ngcontent-%COMP%]{font-size:40px;margin-right:20px;color:#f99a24}p[_ngcontent-%COMP%]{font-size:16px}"]}),t}();function Dc(t,e){if(1&t){var n=c.Tb();c.Sb(0,"button",10),c.Zb("click",(function(){return c.vc(n),c.cc(2).showConfirm=!0})),c.Ec(1),c.Rb()}if(2&t){var i=c.cc().$implicit,o=c.sc(11),r=c.cc();c.ic("clTooltip",o)("clTooltipDirection","bottom")("clTooltipBodyAppend",!1)("clTooltipPersist",!0)("clTooltipDisplay",r.showConfirm),c.Ab(1),c.Fc(i("common.delete"))}}function Nc(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",11),c.Sb(1,"h4"),c.Ec(2),c.Rb(),c.Sb(3,"p"),c.Ec(4),c.Rb(),c.Sb(5,"div",12),c.Sb(6,"button",13),c.Zb("click",(function(){return c.vc(n),c.cc(2).showConfirm=!1})),c.Ec(7),c.Rb(),c.Sb(8,"button",14),c.Zb("click",(function(){c.vc(n);var t=c.cc(2);return t.deleteTag(),t.showConfirm=!1})),c.Ec(9),c.Rb(),c.Rb(),c.Rb()}if(2&t){var i=c.cc().$implicit;c.Ab(2),c.Fc(i("addTag.deleteTitle")),c.Ab(2),c.Fc(i("addTag.deleteSubtitle")),c.Ab(3),c.Fc(i("common.cancel")),c.Ab(2),c.Fc(i("common.delete"))}}var Lc=function(t){return{type:"text","aria-label":t,required:!0}},Hc=function(t){return{"keydown.enter":t}};function Uc(t,e){if(1&t){var n=c.Tb();c.Qb(0),c.Sb(1,"div",2),c.Sb(2,"h2",3),c.Ec(3),c.Rb(),c.Rb(),c.Sb(4,"div",4),c.Sb(5,"cl-input",5),c.Zb("valueChange",(function(t){return c.vc(n),c.cc().activeTag.name=t})),c.Rb(),c.Rb(),c.Sb(6,"div",6),c.Cc(7,Dc,2,6,"button",7),c.Sb(8,"button",8),c.Zb("click",(function(){return c.vc(n),c.cc().onSave()})),c.Ec(9),c.Rb(),c.Rb(),c.Cc(10,Nc,10,4,"ng-template",null,9,c.Dc),c.Pb()}if(2&t){var i=e.$implicit,o=c.cc();c.Ab(3),c.Fc(i(-1===o.activeTag.id?"addTag.add":"addTag.edit")),c.Ab(2),c.ic("value",o.activeTag.name)("attributes",c.lc(12,Lc,i("addTag.label")))("events",c.lc(14,Hc,o.onSave.bind(o)))("charLimit",255)("label",i("addTag.label")),c.Ab(2),c.ic("ngIf",-1!==o.activeTag.id),c.Ab(1),c.Eb("disabled",!o.canSave()),c.ic("tabindex",o.canSave()?0:-1)("disabled",!o.canSave()),c.Ab(1),c.Gc(" ",i(-1===o.activeTag.id?"common.create":"common.save")," ")}}var Bc=function(){function t(t,e,n){var i=this;this.tagsHelper=t,this.translationHelper=e,this.tagsService=n,this.activeTag={id:-1,name:"",apps:[]},this.showConfirm=!1,this.visible=!1,this.otherTagNames=[],this.tags=[],this.subscriptions=[],this.subscriptions[0]=t.tagsUpdated.subscribe((function(t){return i.tags=t})),this.subscriptions[1]=t.tagCreated.subscribe((function(t){i.activeTag=t.tag?D()(t.tag):{id:-1,name:"",apps:[]},i.otherTagNames=i.tags.filter((function(t){return i.activeTag.id!==t.id})).map((function(t){return t.name.trim().toLowerCase()})),i.appContext=t.app,Object(u.a)(0).subscribe((function(){return i.input.inputElement.focus()}))})),this.subscriptions[2]=t.tagModalVisibleChanged.subscribe((function(t){return i.visible=t}))}return t.prototype.ngOnDestroy=function(){this.subscriptions.forEach((function(t){return t.unsubscribe()}))},t.prototype.canSave=function(){var t=this.activeTag.name.trim().toLowerCase();return t.length>0&&t.length<=255&&!this.otherTagNames.includes(t)},t.prototype.onSave=function(){this.canSave()&&(-1===this.activeTag.id?this.createTag():this.updateTag())},t.prototype.onVisibleChange=function(){!this.visible&&this.showConfirm&&(this.showConfirm=!1),this.visible||this.tagsHelper.tagModalVisibleChanged.next(!1)},t.prototype.createTag=function(){var t=this,e=this.activeTag.name.trim();this.tagsService.createTag(e).subscribe((function(){t.onRequestSuccess("created"),t.appContext&&t.tagsService.getTags().subscribe((function(n){var i=j()(n,(function(t){return t.name===e}));i.apps=[t.appContext.id],t.tagsHelper.tagsUpdated.next(n),t.tagsService.updateTagAppsById(i.id,[t.appContext.id]).subscribe((function(){}))}))}))},t.prototype.updateTag=function(){var t=this;this.tagsService.updateTagNameById(this.activeTag.id,this.activeTag.name.trim()).subscribe((function(e){return t.onRequestSuccess("edited")}))},t.prototype.deleteTag=function(){var t=this;this.tagsService.deleteTagById(this.activeTag.id).subscribe((function(e){return t.onRequestSuccess("deleted")}))},t.prototype.onRequestSuccess=function(t){var e=this;this.tagsService.getTags().subscribe((function(t){return e.tagsHelper.tagsUpdated.next(t)})),this.translationHelper.translateAndAddGenericGrowl({severity:"success"},{subject:"common.tag",verb:"common."+t}),this.tagsHelper.tagModalVisibleChanged.next(!1)},t.\u0275fac=function(e){return new(e||t)(c.Mb(k.a),c.Mb(J.a),c.Mb(ut.a))},t.\u0275cmp=c.Gb({type:t,selectors:[["app-add-tag"]],viewQuery:function(t,e){var n;1&t&&c.Jc(vt.w,!0),2&t&&c.rc(n=c.ac())&&(e.input=n.first)},decls:2,vars:1,consts:[["role","dialog","aria-labelledby","addTagTitle",1,"modal-small","auto-height",3,"visible","visibleChange"],[4,"transloco"],[1,"modal-header"],["id","addTagTitle"],[1,"modal-main-content"],[3,"value","attributes","events","charLimit","label","valueChange"],[1,"modal-controls"],["class","button button-default text-danger",3,"clTooltip","clTooltipDirection","clTooltipBodyAppend","clTooltipPersist","clTooltipDisplay","click",4,"ngIf"],[1,"button","button-secondary","left-auto",3,"tabindex","disabled","click"],["deleteConfirmation",""],[1,"button","button-default","text-danger",3,"clTooltip","clTooltipDirection","clTooltipBodyAppend","clTooltipPersist","clTooltipDisplay","click"],[1,"cl-tooltip","confirmation"],[1,"buttons-ctnr"],[1,"button","button-default",3,"click"],[1,"button","button-default","text-danger",3,"click"]],template:function(t,e){1&t&&(c.Sb(0,"cl-modal",0),c.Zb("visibleChange",(function(t){return e.visible=t}))("visibleChange",(function(){return e.onVisibleChange()})),c.Cc(1,Uc,12,16,"ng-container",1),c.Rb()),2&t&&c.ic("visible",e.visible)},directives:[vt.A,ct.c,vt.w,i.k,vt.P],styles:["cl-input[_ngcontent-%COMP%]{height:59px!important;margin:20px 0 40px}h2[_ngcontent-%COMP%]{font-weight:800;font-size:26px;padding-right:10px;word-break:break-word}"]}),t}(),jc=["growlTemplate"],zc=["button"];function Vc(t,e){if(1&t){var n=c.Tb();c.Qb(0),c.Sb(1,"div",2),c.Sb(2,"h4"),c.Ec(3),c.Rb(),c.Sb(4,"p"),c.Ec(5),c.Sb(6,"span",3),c.Ec(7),c.Rb(),c.Rb(),c.Sb(8,"button",4),c.Zb("click",(function(){return c.vc(n),c.cc(2).onAccept()})),c.Ec(9),c.Rb(),c.Rb(),c.Pb()}if(2&t){var i=e.$implicit,o=c.cc(2);c.Ab(3),c.Fc(i("title")),c.Ab(2),c.Gc("",i("descriptionOne")," "),c.Ab(2),c.Hc("",o.timeLeft," ",i("descriptionTwo"),""),c.Ab(2),c.Fc(i("reload"))}}function Gc(t,e){1&t&&c.Cc(0,Vc,10,5,"ng-container",1),2&t&&c.ic("translocoRead","updateRequired")}var $c=function(){function t(t,e){var n=this;this.appsHelper=t,this.translationHelper=e,this.visible=!1,this.timeLeft=30,this.viewInit=!1,this.initialTime=30,this.subscriptions=[],this.subscriptions[0]=t.showWorkerUpdate.pipe(Object(mt.a)((function(t){return!0===t}))).subscribe((function(t){n.visible=t,n.onShow()}))}return t.prototype.ngAfterViewInit=function(){this.viewInit=!0,this.visible&&this.onShow()},t.prototype.ngOnDestroy=function(){this.subscriptions.forEach((function(t){return t.unsubscribe()}))},t.prototype.onShow=function(){var t=this;this.viewInit&&(this.translationHelper.translateAndAddGrowl({severity:"info",unclosable:!0,sticky:!0,template:this.growlTemplate}),this.subscriptions[1]=Object(u.a)(1e3,1e3).subscribe((function(e){var n=t.initialTime-e;t.timeLeft=n>0?n:0,t.timeLeft<=0&&(t.subscriptions[1].unsubscribe(),t.onAccept())})))},t.prototype.onAccept=function(){this.visible=!1,this.appsHelper.showWorkerUpdate.next(!1)},t.\u0275fac=function(e){return new(e||t)(c.Mb(p.a),c.Mb(J.a))},t.\u0275cmp=c.Gb({type:t,selectors:[["app-update-required"]],viewQuery:function(t,e){var n;1&t&&(c.Jc(jc,!0),c.Jc(zc,!0)),2&t&&(c.rc(n=c.ac())&&(e.growlTemplate=n.first),c.rc(n=c.ac())&&(e.button=n.first))},decls:2,vars:0,consts:[["growlTemplate",""],[4,"transloco","translocoRead"],[1,"update-growl","flex-start","column-nowrap"],[1,"bold"],[1,"button","button-primary",3,"click"]],template:function(t,e){1&t&&c.Cc(0,Gc,1,1,"ng-template",null,0,c.Dc)},directives:[ct.c],styles:[""]}),t}(),Zc=["focusButton"];function Wc(t,e){if(1&t){var n=c.Tb();c.Qb(0),c.Sb(1,"div",2),c.Sb(2,"h3"),c.Ec(3),c.Rb(),c.Rb(),c.Sb(4,"div",3),c.Sb(5,"p"),c.Ec(6),c.Rb(),c.Rb(),c.Sb(7,"div",4),c.Sb(8,"button",5,6),c.Zb("click",(function(){return c.vc(n),c.cc().logout()})),c.Ec(10),c.Rb(),c.Sb(11,"button",7),c.Zb("click",(function(){return c.vc(n),c.cc().setupRecovery()})),c.Ec(12),c.Rb(),c.Rb(),c.Pb()}if(2&t){var i=e.$implicit;c.Ab(3),c.Fc(i("title")),c.Ab(3),c.Fc(i("required")),c.Ab(4),c.Fc(i("logout")),c.Ab(2),c.Fc(i("setup"))}}var qc=function(){function t(t,e){var n=this;this.appsHelper=t,this.slideoverService=e,this.visible=!1,this.subscriptions=[],this.subscriptions[0]=t.showForcePasswordRecovery.subscribe((function(t){n.visible=t,n.visible&&Object(u.a)(0).subscribe((function(){return n.focusButton.nativeElement.focus()}))}))}return t.prototype.ngOnDestroy=function(){this.subscriptions.forEach((function(t){return t.unsubscribe()}))},t.prototype.logout=function(){this.appsHelper.logout(!0)},t.prototype.onVisibleChange=function(t){this.visible!==t&&(this.visible=t,this.appsHelper.showForcePasswordRecovery.next(t))},t.prototype.setupRecovery=function(){this.onVisibleChange(!1),this.slideoverService.myProfile.opened.next({id:7,forcePasswordRecovery:!0})},t.\u0275fac=function(e){return new(e||t)(c.Mb(p.a),c.Mb(z.a))},t.\u0275cmp=c.Gb({type:t,selectors:[["app-force-password-recovery"]],viewQuery:function(t,e){var n;1&t&&c.Jc(Zc,!0),2&t&&c.rc(n=c.ac())&&(e.focusButton=n.first)},decls:2,vars:5,consts:[[1,"modal-small",3,"visible","clickOutsideToClose","escapeToClose","showCloseIcon","visibleChange"],[4,"transloco","translocoRead"],[1,"modal-header"],[1,"modal-main-content"],[1,"modal-controls"],[1,"button","button-danger",3,"click"],["focusButton",""],[1,"button","button-primary",3,"click"]],template:function(t,e){1&t&&(c.Sb(0,"cl-modal",0),c.Zb("visibleChange",(function(t){return e.visible=t}))("visibleChange",(function(t){return e.onVisibleChange(t)})),c.Cc(1,Wc,13,4,"ng-container",1),c.Rb()),2&t&&(c.ic("visible",e.visible)("clickOutsideToClose",!1)("escapeToClose",!1)("showCloseIcon",!1),c.Ab(1),c.ic("translocoRead","forcePasswordRecovery"))},directives:[vt.A,ct.c],styles:[""]}),t}(),Yc=n("Te9D"),Kc=n.n(Yc),Qc=["noteinput"];function Jc(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",13),c.Sb(1,"div",14),c.Zb("click",(function(){c.vc(n);var t=e.$implicit;return c.cc(3).selectNote(t)}))("keydown.space",(function(t){c.vc(n);var i=e.$implicit,o=c.cc(3);return t.preventDefault(),o.selectNote(i)}))("keydown.Enter",(function(){c.vc(n);var t=e.$implicit;return c.cc(3).selectNote(t)})),c.Sb(2,"p",15),c.Ec(3),c.Rb(),c.Sb(4,"p",16),c.Ec(5),c.Rb(),c.Rb(),c.Sb(6,"button",17),c.Zb("click",(function(t){c.vc(n);var i=e.$implicit,o=e.index,r=c.cc(3);return r.cancelTooltip(),r.showDeleteNote(i,o),t.stopPropagation()}))("keydown.space",(function(t){c.vc(n);var i=e.$implicit,o=e.index,r=c.cc(3);return r.cancelTooltip(),r.showDeleteNote(i,o),t.stopPropagation()}))("keydown.enter",(function(t){c.vc(n);var i=e.$implicit,o=e.index,r=c.cc(3);return r.cancelTooltip(),r.showDeleteNote(i,o),t.stopPropagation()}))("clTooltipDisplayChange",(function(t){c.vc(n);var i=e.$implicit;return c.cc(3).showTooltip[i.id]=t})),c.Nb(7,"i",18),c.Rb(),c.Rb()}if(2&t){var i=e.$implicit;c.cc(2);var o=c.sc(14),r=c.cc();c.Ab(1),c.Bb("aria-describedby",i.id+"_date"),c.Ab(2),c.Fc(i.content+(i.contenttrimmed?"...":"")),c.Ab(1),c.ic("id",i.id+"_date"),c.Ab(1),c.Fc(i.created_at),c.Ab(1),c.ic("clTooltipDirection","left")("clTooltip",o)("clTooltipPersist",!0)("clTooltipDisplay",r.showTooltip[i.id])("clTooltipBodyAppend",!1),c.Bb("aria-describedby",i.id+"_date")}}function Xc(t,e){if(1&t&&(c.Sb(0,"div",11),c.Cc(1,Jc,8,10,"div",12),c.Rb()),2&t){var n=c.cc(2);c.Ab(1),c.ic("ngForOf",n.notes)("ngForTrackBy",n.trackByFn)}}function tl(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",19),c.Sb(1,"h4"),c.Ec(2),c.Rb(),c.Sb(3,"div",20),c.Sb(4,"button",21),c.Zb("click",(function(){return c.vc(n),c.cc(2).cancelTooltip()})),c.Ec(5),c.Rb(),c.Sb(6,"button",22),c.Zb("click",(function(){return c.vc(n),c.cc(2).deleteNote()})),c.Ec(7),c.Rb(),c.Rb(),c.Rb()}if(2&t){var i=c.cc().$implicit;c.Ab(2),c.Fc(i("notes.deleteNote")),c.Ab(3),c.Fc(i("common.cancel")),c.Ab(2),c.Fc(i("common.delete"))}}var el=function(){return[25,50,100]};function nl(t,e){if(1&t){var n=c.Tb();c.Qb(0),c.Sb(1,"div",2),c.Sb(2,"h2",3),c.Ec(3),c.Rb(),c.Rb(),c.Sb(4,"div",4),c.Sb(5,"textarea",5,6),c.Zb("ngModelChange",(function(t){return c.vc(n),c.cc().noteText=t})),c.Rb(),c.Sb(7,"button",7),c.Zb("click",(function(){return c.vc(n),c.cc().addNote()})),c.Ec(8),c.Rb(),c.Sb(9,"h3"),c.Ec(10),c.Rb(),c.Cc(11,Xc,2,2,"div",8),c.Sb(12,"cl-paginator",9),c.Zb("pageChange",(function(t){return c.vc(n),c.cc().activePage=t}))("pageChange",(function(){return c.vc(n),c.cc().onPage()})),c.Rb(),c.Rb(),c.Cc(13,tl,8,3,"ng-template",null,10,c.Dc),c.Pb()}if(2&t){var i=e.$implicit,o=c.cc(),r=c.sc(2);c.Ab(3),c.Fc(i("notes.notes")),c.Ab(2),c.ic("ngModel",o.noteText),c.Bb("aria-label",i("notes.enterNote")),c.Ab(2),c.Eb("disabled",!o.canSaveNewNote()),c.ic("tabindex",o.canSaveNewNote()?0:-1),c.Ab(1),c.Fc(i("common.save")),c.Ab(2),c.Fc(i("notes.previous")),c.Ab(1),c.ic("ngIf",o.notes)("ngIfElse",r),c.Ab(1),c.ic("page",o.activePage)("pageSizes",c.kc(13,el))("length",o.noteCount)}}function il(t,e){1&t&&c.Nb(0,"cl-progress-spinner")}var ol=function(){function t(t,e){this.nodeApi=t,this.translationHelper=e,this.activeNoteChange=new c.n,this.noteText="",this.params={page:1,rows:25,search:"",smallcontent:100},this.noteCount=0,this.activePage={pageSize:25,pageIndex:0},this.deleteNoteInfo={id:-1,index:-1},this.showTooltip={}}return t.prototype.ngOnInit=function(){var t=this;this.getNotes(),Object(u.a)(1e3).subscribe((function(){return t.getNotes()}),(function(t){return console.log(t)}),(function(){return t.noteInput.nativeElement.focus()}))},t.prototype.getNotes=function(){var t=this;this.nodeApi.getNotes(this.params).subscribe((function(e){t.noteCount=e.count,t.notes=e.notes}))},t.prototype.onPage=function(){this.params.page=this.activePage.pageIndex+1,this.params.rows=this.activePage.pageSize,this.getNotes()},t.prototype.canSaveNewNote=function(){return""!==this.noteText.trim()},t.prototype.selectNote=function(t){this.activeNoteChange.emit(t)},t.prototype.showDeleteNote=function(t,e){this.showTooltip[t.id]=!0,this.deleteNoteInfo={id:t.id,index:e}},t.prototype.cancelTooltip=function(){for(var t=0,e=Object.keys(this.showTooltip);t<e.length;t++)this.showTooltip[e[t]]=!1;this.deleteNoteInfo={id:-1,index:-1}},t.prototype.trackByFn=function(t,e){return e.id+e.content},t.prototype.addNote=function(){var t=this,e=Kc()(this.noteText);this.nodeApi.addNote(e).subscribe((function(e){e.content.length>=t.params.smallcontent&&(e.content=e.content.slice(0,t.params.smallcontent),e.contenttrimmed=!0),t.notes=Object(R.e)([e],t.notes),t.noteText="",t.translationHelper.translateAndAddGenericGrowl({severity:"success"},{subject:"notes.note",verb:"common.created"})}))},t.prototype.deleteNote=function(){var t=this,e=this.deleteNoteInfo.index;this.nodeApi.deleteNote(this.deleteNoteInfo.id).subscribe((function(n){0===n?t.translationHelper.translateAndAddGrowl({severity:"error",summary:"error.cantDeleteNote",detail:"error.cantDeleteNoteDetail"}):(t.notes.splice(e,1),t.translationHelper.translateAndAddGenericGrowl({severity:"success"},{subject:"notes.note",verb:"common.deleted"}))})),this.deleteNoteInfo=void 0},t.\u0275fac=function(e){return new(e||t)(c.Mb(l.a),c.Mb(J.a))},t.\u0275cmp=c.Gb({type:t,selectors:[["app-notes-list"]],viewQuery:function(t,e){var n;1&t&&c.Jc(Qc,!0),2&t&&c.rc(n=c.ac())&&(e.noteInput=n.first)},outputs:{activeNoteChange:"activeNoteChange"},decls:3,vars:0,consts:[[4,"transloco"],["loader",""],[1,"slideover-header"],["id","notesAppLabel"],[1,"slideover-content"],[1,"custom-scroll",3,"ngModel","ngModelChange"],["noteinput",""],[1,"button","button-primary","left-auto",3,"tabindex","click"],["class","notes-ctnr custom-scroll",4,"ngIf","ngIfElse"],[3,"page","pageSizes","length","pageChange"],["tooltip",""],[1,"notes-ctnr","custom-scroll"],["class","note",4,"ngFor","ngForOf","ngForTrackBy"],[1,"note"],["role","button","tabindex","0","aria-label","view and edit note",3,"click","keydown.space","keydown.Enter"],[1,"note-title"],[3,"id"],["aria-label","delete this note",1,"delete","color-danger","icon-button",3,"clTooltipDirection","clTooltip","clTooltipPersist","clTooltipDisplay","clTooltipBodyAppend","click","keydown.space","keydown.enter","clTooltipDisplayChange"],[1,"far","fa-times"],[1,"cl-tooltip","confirmation"],[1,"buttons-ctnr","flex-start-center"],[1,"button","button-default",3,"click"],[1,"button","button-danger","left-auto",3,"click"]],template:function(t,e){1&t&&(c.Cc(0,nl,15,14,"ng-container",0),c.Cc(1,il,1,0,"ng-template",null,1,c.Dc))},directives:[ct.c,Oe.a,Oe.i,Oe.l,i.k,vt.D,i.j,vt.P,vt.F],styles:[".slideover-header[_ngcontent-%COMP%]{height:60px!important;-ms-flex-preferred-size:60px!important;flex-basis:60px!important}.slideover-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:calc(var(--font-modifier) * 18px);font-weight:800}.slideover-content[_ngcontent-%COMP%]{padding:20px 50px!important}.slideover-content[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{-ms-flex-negative:0;flex-shrink:0}.slideover-content[_ngcontent-%COMP%] > h3[_ngcontent-%COMP%]{margin-bottom:20px;text-transform:uppercase!important}.slideover-content[_ngcontent-%COMP%]   .note-title[_ngcontent-%COMP%], .slideover-content[_ngcontent-%COMP%] > h3[_ngcontent-%COMP%]{font-size:calc(var(--font-modifier) * 14px);font-weight:700}.slideover-content[_ngcontent-%COMP%]   .note-title[_ngcontent-%COMP%]{color:var(--color-dark)!important;word-break:break-all;word-break:break-word;width:100%;margin-top:0!important}.slideover-content[_ngcontent-%COMP%]   button.button-primary[_ngcontent-%COMP%]{margin:20px 0}.slideover-content[_ngcontent-%COMP%]   .notes-ctnr[_ngcontent-%COMP%]{position:relative;width:calc(100% + 100px);left:-50px;overflow-y:auto}.slideover-content[_ngcontent-%COMP%]   .notes-ctnr[_ngcontent-%COMP%]   .note[_ngcontent-%COMP%]{width:100%;padding:30px 50px;border-top:1px solid var(--color-border-light);border-bottom:1px solid var(--color-border-light);display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between}.slideover-content[_ngcontent-%COMP%]   .notes-ctnr[_ngcontent-%COMP%]   .note[_ngcontent-%COMP%]:focus, .slideover-content[_ngcontent-%COMP%]   .notes-ctnr[_ngcontent-%COMP%]   .note[_ngcontent-%COMP%]:hover{background-color:var(--color-bg-dark)}.slideover-content[_ngcontent-%COMP%]   .notes-ctnr[_ngcontent-%COMP%]   .note[_ngcontent-%COMP%]:after{content:none}.slideover-content[_ngcontent-%COMP%]   .notes-ctnr[_ngcontent-%COMP%]   .note[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:98%;margin-right:5px}.slideover-content[_ngcontent-%COMP%]   .notes-ctnr[_ngcontent-%COMP%]   .note[_ngcontent-%COMP%]   button.icon-button[_ngcontent-%COMP%]{width:24px;height:24px;border-radius:4px}.slideover-content[_ngcontent-%COMP%]   .notes-ctnr[_ngcontent-%COMP%]   .note[_ngcontent-%COMP%]   button.icon-button[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{font-size:20px}.slideover-content[_ngcontent-%COMP%]   .notes-ctnr[_ngcontent-%COMP%]   .note[_ngcontent-%COMP%]   button.icon-button[_ngcontent-%COMP%]:hover{background-color:var(--color-white)}.slideover-content[_ngcontent-%COMP%]   .notes-ctnr[_ngcontent-%COMP%]   .note[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--color-medium);margin-top:5px}.slideover-content[_ngcontent-%COMP%]   cl-paginator[_ngcontent-%COMP%]{margin-top:auto;width:calc(100% + 100px);left:-50px;position:relative}cl-progress-spinner[_ngcontent-%COMP%]{margin:50px auto}"]}),t}(),rl=["noteinput"];function al(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",11),c.Sb(1,"h4"),c.Ec(2),c.Rb(),c.Sb(3,"div",12),c.Sb(4,"button",13),c.Zb("click",(function(){return c.vc(n),c.cc(2).showDeleteTooltip=void 0})),c.Ec(5),c.Rb(),c.Sb(6,"button",14),c.Zb("click",(function(){return c.vc(n),c.cc(2).deleteNote()})),c.Ec(7),c.Rb(),c.Rb(),c.Rb()}if(2&t){var i=c.cc().$implicit;c.Ab(2),c.Fc(i("notes.deleteNote")),c.Ab(3),c.Fc(i("common.cancel")),c.Ab(2),c.Fc(i("common.delete"))}}function sl(t,e){if(1&t){var n=c.Tb();c.Qb(0),c.Sb(1,"div",1),c.Sb(2,"button",2),c.Zb("click",(function(){return c.vc(n),c.cc().onGoBack()})),c.Nb(3,"i",3),c.Rb(),c.Rb(),c.Sb(4,"div",4),c.Sb(5,"p"),c.Ec(6),c.Rb(),c.Sb(7,"textarea",5,6),c.Zb("ngModelChange",(function(t){return c.vc(n),c.cc().activeNote.content=t})),c.Rb(),c.Sb(9,"div",7),c.Sb(10,"button",8),c.Zb("click",(function(){return c.vc(n),c.cc().showDeleteTooltip=!0}))("clTooltipDisplayChange",(function(t){return c.vc(n),c.cc().showDeleteTooltip=t})),c.Ec(11),c.Rb(),c.Sb(12,"button",9),c.Zb("click",(function(){return c.vc(n),c.cc().editNote()})),c.Ec(13),c.Rb(),c.Rb(),c.Rb(),c.Cc(14,al,8,3,"ng-template",null,10,c.Dc),c.Pb()}if(2&t){var i=e.$implicit,o=c.sc(15),r=c.cc();c.Ab(2),c.Bb("aria-label",i("common.goBack")),c.Ab(4),c.Fc(r.activeNote.created_at),c.Ab(1),c.ic("ngModel",r.activeNote.content),c.Bb("aria-label",i("notes.enterNote")),c.Ab(3),c.ic("clTooltip",o)("clTooltipPersist",!0)("clTooltipDisplay",r.showDeleteTooltip),c.Ab(1),c.Fc(i("common.delete")),c.Ab(1),c.ic("tabindex",r.canSaveNote()?0:-1)("disabled",!r.canSaveNote()),c.Ab(1),c.Fc(i("common.save"))}}var cl=function(){function t(t,e){this.nodeApi=t,this.translationHelper=e,this.activeNoteChange=new c.n,this.showDeleteTooltip=!1}return t.prototype.ngAfterViewInit=function(){this.noteInput.nativeElement.focus()},t.prototype.ngOnChanges=function(t){t.activeNote&&this.getActiveNote()},t.prototype.getActiveNote=function(){var t=this;this.nodeApi.getNote(this.activeNote.id).subscribe((function(e){t.activeNote=e,t.originalContent=e.content}))},t.prototype.canSaveNote=function(){return this.activeNote&&this.originalContent&&this.activeNote.content.trim()!==this.originalContent.trim()},t.prototype.onGoBack=function(){this.activeNote=void 0,this.activeNoteChange.emit(void 0)},t.prototype.editNote=function(){var t=this,e=Kc()(this.activeNote.content);this.nodeApi.editNote(this.activeNote.id,e).subscribe((function(e){t.translationHelper.translateAndAddGenericGrowl({severity:"success"},{subject:"notes.note",verb:"common.edited"}),t.onGoBack()}))},t.prototype.deleteNote=function(){var t=this;this.nodeApi.deleteNote(this.activeNote.id).subscribe((function(e){0===e?t.translationHelper.translateAndAddGrowl({severity:"error",summary:"error.cantDeleteNote",detail:"error.cantDeleteNoteDetail"}):t.translationHelper.translateAndAddGenericGrowl({severity:"success"},{subject:"notes.note",verb:"common.deleted"}),t.onGoBack()}))},t.\u0275fac=function(e){return new(e||t)(c.Mb(l.a),c.Mb(J.a))},t.\u0275cmp=c.Gb({type:t,selectors:[["app-note-edit"]],viewQuery:function(t,e){var n;1&t&&c.Jc(rl,!0),2&t&&c.rc(n=c.ac())&&(e.noteInput=n.first)},inputs:{activeNote:"activeNote"},outputs:{activeNoteChange:"activeNoteChange"},features:[c.yb],decls:1,vars:0,consts:[[4,"transloco"],[1,"slideover-header"],[1,"return","color-primary","icon-button",3,"click"],[1,"fas","fa-arrow-left"],[1,"slideover-content"],[1,"grow","custom-scroll",3,"ngModel","ngModelChange"],["noteinput",""],[1,"buttons-ctnr","flex-start-center"],[1,"button","button-danger",3,"clTooltip","clTooltipPersist","clTooltipDisplay","click","clTooltipDisplayChange"],[1,"button","button-primary","left-auto",3,"tabindex","disabled","click"],["tooltip",""],[1,"cl-tooltip","confirmation"],[1,"buttons-ctnr"],[1,"button","button-default",3,"click"],[1,"button","button-danger",3,"click"]],template:function(t,e){1&t&&c.Cc(0,sl,16,11,"ng-container",0)},directives:[ct.c,Oe.a,Oe.i,Oe.l,vt.P],styles:[".slideover-header[_ngcontent-%COMP%]{height:60px!important;-ms-flex-preferred-size:60px!important;flex-basis:60px!important}.slideover-content[_ngcontent-%COMP%]{padding:20px 50px!important}.slideover-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--color-medium);margin-bottom:20px}.slideover-content[_ngcontent-%COMP%]   .buttons-ctnr[_ngcontent-%COMP%]{margin-top:20px}"]}),t}();function ll(t,e){if(1&t){var n=c.Tb();c.Sb(0,"app-notes-list",5),c.Zb("activeNoteChange",(function(t){return c.vc(n),c.cc(3).changeActiveNote(t)})),c.Rb()}}function pl(t,e){if(1&t){var n=c.Tb();c.Sb(0,"app-note-edit",6),c.Zb("activeNoteChange",(function(t){return c.vc(n),c.cc(3).activeNote=t})),c.Rb()}if(2&t){var i=c.cc(3);c.ic("activeNote",i.activeNote)}}function ul(t,e){if(1&t&&(c.Qb(0),c.Cc(1,ll,1,0,"app-notes-list",3),c.Cc(2,pl,1,1,"app-note-edit",4),c.Pb()),2&t){var n=c.cc(2);c.Ab(1),c.ic("ngIf",!n.activeNote),c.Ab(1),c.ic("ngIf",n.activeNote)}}function dl(t,e){if(1&t){var n=c.Tb();c.Sb(0,"cl-slideover",1),c.Zb("visibleChange",(function(t){return c.vc(n),c.cc().visible=t}))("visibleChange",(function(){return c.vc(n),c.cc().onVisibleChange()})),c.Cc(1,ul,3,2,"ng-container",2),c.Rb()}if(2&t){var i=e.$implicit,o=c.cc();c.ic("visible",o.visible)("width","50%")("autoFocusClose",!1)("clFocusTrap",o.visible),c.Bb("aria-labelledby",o.activeNote?null:"notesAppLabel")("aria-label",o.activeNote?i("notes.notes"):null),c.Ab(1),c.ic("ngIf",o.visible)}}var bl=function(){function t(t){var e=this;this.slideoverService=t,this.visible=!1,this.subscriptions=[],this.subscriptions[0]=t.notes.opened.subscribe((function(t){e.visible=!0,e.activeNote=void 0}))}return t.prototype.ngOnDestroy=function(){this.subscriptions.forEach((function(t){return t.unsubscribe()}))},t.prototype.onVisibleChange=function(){this.visible||this.slideoverService.notes.closed.next(!0)},t.prototype.changeActiveNote=function(t){this.activeNote=t},t.\u0275fac=function(e){return new(e||t)(c.Mb(z.a))},t.\u0275cmp=c.Gb({type:t,selectors:[["app-notes"]],decls:1,vars:0,consts:[[3,"visible","width","autoFocusClose","clFocusTrap","visibleChange",4,"transloco"],[3,"visible","width","autoFocusClose","clFocusTrap","visibleChange"],[4,"ngIf"],[3,"activeNoteChange",4,"ngIf"],[3,"activeNote","activeNoteChange",4,"ngIf"],[3,"activeNoteChange"],[3,"activeNote","activeNoteChange"]],template:function(t,e){1&t&&c.Cc(0,dl,2,7,"cl-slideover",0)},directives:[ct.c,vt.L,vt.s,i.k,ol,cl],styles:["app-note-edit[_ngcontent-%COMP%], app-notes-list[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-flow:column nowrap;flex-flow:column nowrap;height:100%;width:100%}"]}),t}();function gl(t,e){if(1&t&&(c.Sb(0,"p"),c.Ec(1),c.Rb()),2&t){var n=c.cc(2).$implicit,i=c.cc(2);c.Ab(1),c.Fc(n(i.appInfo.lockerStatus?"set":"notSet"))}}function fl(t,e){if(1&t&&(c.Qb(0),c.Sb(1,"h4"),c.Ec(2),c.Rb(),c.Cc(3,gl,2,1,"p",12),c.Pb()),2&t){var n=c.cc().$implicit,i=c.sc(22),o=c.cc(2);c.Ab(2),c.Fc(n("passwordStatus")),c.Ab(1),c.ic("ngIf",void 0!==o.appInfo.lockerStatus)("ngIfElse",i)}}function hl(t,e){1&t&&c.Nb(0,"cl-progress-spinner",13),2&t&&c.ic("strokeWidth",2)}function ml(t,e){if(1&t&&(c.Qb(0),c.Sb(1,"div",3),c.Nb(2,"application",4),c.Sb(3,"div",5),c.Sb(4,"h2",6),c.Ec(5),c.Rb(),c.Sb(6,"div",7),c.Ec(7),c.Rb(),c.Rb(),c.Rb(),c.Sb(8,"div",8),c.Sb(9,"p",9),c.Ec(10),c.Rb(),c.Nb(11,"div",10),c.Sb(12,"h4"),c.Ec(13),c.Rb(),c.Sb(14,"p"),c.Ec(15),c.Rb(),c.Sb(16,"h4"),c.Ec(17),c.Rb(),c.Sb(18,"p"),c.Ec(19),c.Rb(),c.Cc(20,fl,4,3,"ng-container",1),c.Cc(21,hl,1,1,"ng-template",null,11,c.Dc),c.Rb(),c.Pb()),2&t){var n=e.$implicit,i=c.cc(2);c.Ab(2),c.ic("app",i.app)("showName",!1)("showFlags",!1),c.Ab(3),c.Fc(i.app.name),c.Ab(2),c.Fc(i.appInfo.type),c.Ab(2),c.Eb("fade",!i.app.appdesc),c.Ab(1),c.Fc(i.app.appdesc?i.app.appdesc:n("noDescription")),c.Ab(3),c.Fc(n("assignedBy")),c.Ab(2),c.Fc(i.appInfo.assignment),c.Ab(2),c.Fc(n("source")),c.Ab(2),c.Fc(i.appInfo.source),c.Ab(1),c.ic("ngIf",i.appInfo.showLocker)}}function vl(t,e){1&t&&(c.Qb(0),c.Cc(1,ml,23,13,"ng-container",2),c.Pb()),2&t&&(c.Ab(1),c.ic("translocoRead","appInfo"))}var yl=function(){function t(t,e){var n=this;this.appsHelper=t,this.nodeApi=e,this.visible=!1,this.subscriptions=[],this.subscriptions[0]=t.appInfoVisible.subscribe((function(t){n.app=t,n.visible=!!t,n.appInfo=t?{showLocker:9===t.type||15===t.type,lockerStatus:void 0,assignment:p.a.getAssignmentFromApp(t),type:p.a.convertTypeToText(n.app.type),source:p.a.convertSourceToText(n.app.source)}:void 0,!n.visible||9!==t.type&&15!==t.type||n.getLockerStatus()}))}return t.prototype.ngOnDestroy=function(){this.subscriptions.forEach((function(t){return t.unsubscribe()}))},t.prototype.onVisibleChange=function(){this.visible||this.appsHelper.appInfoVisible.next(void 0)},t.prototype.getLockerStatus=function(){var t=this;(15===this.app.type?this.nodeApi.getLockersForApp(this.app.id,{offset:0,limit:10,term:""}):this.nodeApi.getLockerDetails(this.app.id)).subscribe((function(e){t.appInfo.lockerStatus=15===t.app.type&&e.count>0||9===t.app.type&&e.UserCredentials&&e.UserCredentials.length>0}))},t.\u0275fac=function(e){return new(e||t)(c.Mb(p.a),c.Mb(l.a))},t.\u0275cmp=c.Gb({type:t,selectors:[["app-app-info"]],decls:2,vars:2,consts:[["role","dialog","aria-labelledby","appNameLabel",1,"modal-small","auto-height","pad-30",3,"visible","visibleChange"],[4,"ngIf"],[4,"transloco","translocoRead"],[1,"modal-header","flex-start-center"],[3,"app","showName","showFlags"],[1,"info","column-nowrap","flex-start"],["id","appNameLabel"],[1,"tag"],[1,"modal-main-content","column-nowrap"],[1,"small"],[1,"divider"],["loader",""],[4,"ngIf","ngIfElse"],[3,"strokeWidth"]],template:function(t,e){1&t&&(c.Sb(0,"cl-modal",0),c.Zb("visibleChange",(function(t){return e.visible=t}))("visibleChange",(function(){return e.onVisibleChange()})),c.Cc(1,vl,2,1,"ng-container",1),c.Rb()),2&t&&(c.ic("visible",e.visible),c.Ab(1),c.ic("ngIf",e.app))},directives:[vt.A,i.k,ct.c,Bt,vt.F],styles:[".modal-header[_ngcontent-%COMP%]{-ms-flex-flow:row nowrap;flex-flow:row nowrap}application[_ngcontent-%COMP%]{margin-right:10px}h3[_ngcontent-%COMP%]{font-size:calc(var(--font-modifier) * 20px)!important;margin-bottom:10px;font-weight:700!important}h4[_ngcontent-%COMP%]{font-weight:800;font-size:calc(var(--font-modifier) * 14px);text-transform:uppercase;margin-bottom:3px}p[_ngcontent-%COMP%]{word-spacing:normal;letter-spacing:normal;margin-bottom:20px;font-size:calc(var(--font-modifier) * 14px)!important}p.small[_ngcontent-%COMP%]{font-size:calc(var(--font-modifier) * 13px)!important}p.fade[_ngcontent-%COMP%]{color:var(--color-medium)}.tag[_ngcontent-%COMP%]{border-radius:5px;background-color:var(--color-bg-dark);font-weight:600;font-size:calc(var(--font-modifier) * 14px);padding:5px 10px}.divider[_ngcontent-%COMP%]{margin:20px 0;min-height:1px;width:100%;height:1px;background-color:var(--color-border-dark)}"]}),t}(),Cl=["startBtn"],wl=function(t){return{name:t}};function xl(t,e){if(1&t){var n=c.Tb();c.Qb(0),c.Nb(1,"img",2),c.Sb(2,"div",3),c.Sb(3,"h2"),c.Ec(4),c.Rb(),c.Sb(5,"p"),c.Ec(6),c.Rb(),c.Sb(7,"button",4,5),c.Zb("click",(function(){return c.vc(n),c.cc().openSetup()})),c.Ec(9),c.Rb(),c.Sb(10,"button",6),c.Zb("click",(function(){return c.vc(n),c.cc().skip()})),c.Ec(11),c.Rb(),c.Rb(),c.Pb()}if(2&t){var i=e.$implicit,o=c.cc();c.Ab(1),c.ic("src","/assets/images/wizard-intro-graphic.svg",c.xc)("alt",i("welcomeImgAlt")),c.Ab(3),c.Fc(i("welcomeTitle",c.lc(6,wl,o.name))),c.Ab(2),c.Fc(i("welcomeSubtitle")),c.Ab(3),c.Fc(i("getStarted")),c.Ab(2),c.Fc(i("skip"))}}var Pl=function(){function t(t,e){var n=this;this.sessionService=t,this.initialRunHelper=e,this.open=new c.n,this.close=new c.n,this.name="",this.subscriptions=[],this.subscriptions[0]=t.userInfoUpdated.subscribe((function(t){return n.name=(null==t?void 0:t.FirstName)+" "+(null==t?void 0:t.LastName)})),this.subscriptions[1]=e.modalVisible.subscribe((function(t){var e=t.visible;n.visible=e,e&&Object(u.a)(700).subscribe((function(){return n.startBtn.nativeElement.focus()}))}))}return t.prototype.ngOnInit=function(){},t.prototype.ngOnDestroy=function(){this.subscriptions.forEach((function(t){return t.unsubscribe()}))},t.prototype.openSetup=function(){this.open.emit(),this.visible=!1},t.prototype.skip=function(){this.close.emit(),this.visible=!1},t.prototype.onVisibleChange=function(t){this.initialRunHelper.modalVisible.next({visible:t})},t.\u0275fac=function(e){return new(e||t)(c.Mb(A.a),c.Mb(cn))},t.\u0275cmp=c.Gb({type:t,selectors:[["app-welcome-modal"]],viewQuery:function(t,e){var n;1&t&&c.Jc(Cl,!0),2&t&&c.rc(n=c.ac())&&(e.startBtn=n.first)},outputs:{open:"open",close:"close"},decls:2,vars:4,consts:[[1,"modal-small","welcome-wizard",3,"visible","showCloseIcon","clFocusTrap","visibleChange"],[4,"transloco","translocoRead"],[3,"src","alt"],[1,"content-container"],["tabindex","0",1,"button","button-primary",3,"click"],["startBtn",""],[1,"button","skip",3,"click"]],template:function(t,e){1&t&&(c.Sb(0,"cl-modal",0),c.Zb("visibleChange",(function(t){return e.visible=t}))("visibleChange",(function(t){return e.onVisibleChange(t)})),c.Cc(1,xl,12,8,"ng-container",1),c.Rb()),2&t&&(c.ic("visible",e.visible)("showCloseIcon",!1)("clFocusTrap",!0),c.Ab(1),c.ic("translocoRead","initialRun"))},directives:[vt.A,vt.s,ct.c],styles:["cl-modal[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]{margin:auto;padding:20px;text-align:center}cl-modal[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:18px;font-weight:800;margin:20px 0 10px}cl-modal[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   button.button-primary[_ngcontent-%COMP%]{min-height:35px;height:35px;margin:25px auto 0}cl-modal[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   button.skip[_ngcontent-%COMP%]{color:var(--color-medium);text-decoration:underline;margin:auto;font-weight:400}"]}),t}(),Sl=function(){function t(){this.slideover=new T.a({open:!1,key:"",videoSrc:"",steps:null})}return t.\u0275prov=c.Ib({token:t,factory:t.\u0275fac=function(e){return new(e||t)},providedIn:"root"}),t}();function Ol(t,e){if(1&t&&(c.Sb(0,"p"),c.Ec(1),c.Rb()),2&t){var n=e.$implicit,i=c.cc(3);c.Ab(1),c.Fc(i.steps[n])}}function Ml(t,e){if(1&t&&(c.Qb(0),c.Sb(1,"div",3),c.Sb(2,"h2"),c.Ec(3),c.Rb(),c.Sb(4,"p"),c.Ec(5),c.Rb(),c.Rb(),c.Sb(6,"div",4),c.Sb(7,"video",5),c.Nb(8,"source",6),c.Rb(),c.Sb(9,"div",7),c.Cc(10,Ol,2,1,"p",8),c.Rb(),c.Rb(),c.Pb()),2&t){var n=c.cc().$implicit,i=c.cc();c.Ab(3),c.Fc(n("launchpadLesson")),c.Ab(2),c.Fc(n("steps."+i.key)),c.Ab(3),c.ic("src",i.videoSrc,c.xc),c.Ab(2),c.ic("ngForOf",i.stepKeys)}}function Al(t,e){if(1&t){var n=c.Tb();c.Sb(0,"cl-slideover",1),c.Zb("visibleChange",(function(t){return c.vc(n),c.cc().visible=t})),c.Cc(1,Ml,11,4,"ng-container",2),c.Rb()}if(2&t){var i=c.cc();c.ic("visible",i.visible),c.Ab(1),c.ic("ngIf",i.visible)}}var kl=function(){function t(t){var e=this;this.learnMoreService=t,this.steps={},this.stepKeys=[],this.subscription=t.slideover.subscribe((function(t){var n=t.open,i=t.steps,o=t.key,r=t.videoSrc;e.visible=n,n&&(e.key=o,e.steps=i,e.videoSrc=K.a.videosCdn+"/"+r+".webm",e.orderSteps(i))}))}return t.prototype.ngOnInit=function(){},t.prototype.orderSteps=function(t){var e=Object.keys(t);e.sort((function(t,e){return+t<+e?-1:1})),this.stepKeys=e},t.\u0275fac=function(e){return new(e||t)(c.Mb(Sl))},t.\u0275cmp=c.Gb({type:t,selectors:[["app-learn-more-slideover"]],decls:1,vars:1,consts:[[3,"visible","visibleChange",4,"transloco","translocoRead"],[3,"visible","visibleChange"],[4,"ngIf"],[1,"slideover-header"],[1,"slideover-content"],["autoplay","","loop","","playsinline",""],["type","video/webm",3,"src"],[1,"instructions"],[4,"ngFor","ngForOf"]],template:function(t,e){1&t&&c.Cc(0,Al,2,2,"cl-slideover",0),2&t&&c.ic("translocoRead","initialRun")},directives:[ct.c,vt.L,i.k,i.j],styles:[".slideover-header[_ngcontent-%COMP%]{-ms-flex-flow:column nowrap!important;flex-flow:column nowrap!important;-ms-flex-pack:center!important;justify-content:center!important;-ms-flex-align:start!important;align-items:flex-start!important}.slideover-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-weight:700;color:#008ad7;font-size:calc(var(--font-modifier)*18px);margin:15px 0}.slideover-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:700;font-size:calc(var(--font-modifier)*14px)}.slideover-content[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{max-width:100%;width:100%;border-radius:10px;margin-bottom:20px;height:auto}.slideover-content[_ngcontent-%COMP%]   .instructions[_ngcontent-%COMP%]{background-color:var(--color-bg-dark);border-radius:10px;padding:20px}.slideover-content[_ngcontent-%COMP%]   .instructions[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:not(:last-of-type){margin-bottom:15px}"]}),t}();function _l(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",12),c.Nb(1,"img",13),c.Sb(2,"cl-slide-toggle",14),c.Zb("toggledChange",(function(t){c.vc(n);var i=e.$implicit;return c.cc(2).onCustomizationChange("theme",i.value,t)})),c.Ec(3),c.Rb(),c.Rb()}if(2&t){var i=e.$implicit,o=c.cc().$implicit,r=c.cc();c.Ab(1),c.ic("src",i.image,c.xc),c.Ab(1),c.ic("toggled",r.settings.customUISettings.theme===i.value)("disabled",!r.settings.userInfo.canSetTheme),c.Ab(1),c.Hc(" ",o(i.label)," ",i.default?"("+o("default")+")":""," ")}}function Rl(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",7),c.Sb(1,"div",15),c.Sb(2,"div",16),c.Nb(3,"img",13),c.Rb(),c.Sb(4,"label"),c.Ec(5),c.Rb(),c.Rb(),c.Sb(6,"cl-slide-toggle",17),c.Zb("toggledChange",(function(t){c.vc(n);var i=e.$implicit;return c.cc(2).onCustomizationChange("iconSize",i.value,t)})),c.Rb(),c.Rb()}if(2&t){var i=e.$implicit,o=c.cc().$implicit,r=c.cc();c.Ab(3),c.ic("src",i.image,c.xc),c.Ab(2),c.Fc(o(i.label)),c.Ab(1),c.ic("disabled",2===r.settings.customUISettings.theme)("toggled",r.settings.customUISettings.iconSize===i.value)}}function Il(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",7),c.Sb(1,"div",15),c.Sb(2,"span",18),c.Ec(3,"A"),c.Rb(),c.Sb(4,"label"),c.Ec(5),c.Rb(),c.Rb(),c.Sb(6,"cl-slide-toggle",17),c.Zb("toggledChange",(function(t){c.vc(n);var i=e.$implicit;return c.cc(2).onCustomizationChange("fontBackgroundTreatment",i.value,t)})),c.Rb(),c.Rb()}if(2&t){var i=e.$implicit,o=c.cc().$implicit,r=c.cc();c.Ab(2),c.ic("ngClass",i.class),c.Ab(3),c.Hc("",o(i.label)," ",i.default?"("+o("default")+")":"",""),c.Ab(1),c.ic("disabled",1!==r.settings.customUISettings.theme)("toggled",r.settings.customUISettings.fontBackgroundTreatment===i.value)}}function Tl(t,e){if(1&t&&(c.Sb(0,"label"),c.Ec(1),c.Rb()),2&t){var n=e.$implicit;c.Ab(1),c.Fc(n("highContrast"))}}function El(t,e){if(1&t&&(c.Sb(0,"label"),c.Ec(1),c.Rb()),2&t){var n=e.$implicit;c.Ab(1),c.Fc(n("preview"))}}function Fl(t,e){if(1&t&&(c.Sb(0,"p"),c.Ec(1),c.Rb()),2&t){var n=e.$implicit;c.Ab(1),c.Fc(n("previewDescription"))}}function Dl(t,e){if(1&t&&c.Nb(0,"application",19),2&t){var n=c.cc(2);c.ic("app",n.exampleApp)}}var Nl=function(){return[0,1,2,3,4,5]};function Ll(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div"),c.Sb(1,"div",1),c.Cc(2,_l,4,5,"div",2),c.Rb(),c.Sb(3,"div",3),c.Sb(4,"div",4),c.Sb(5,"h3",5),c.Ec(6),c.Rb(),c.Cc(7,Rl,7,4,"div",6),c.Nb(8,"hr"),c.Cc(9,Il,7,5,"div",6),c.Sb(10,"div",7),c.Cc(11,Tl,2,1,"label",0),c.Sb(12,"cl-slide-toggle",8),c.Zb("toggledChange",(function(t){return c.vc(n),c.cc().settings.customUISettings.highContrastSelected=t}))("toggledChange",(function(t){return c.vc(n),c.cc().onCustomizationChange("highContrastSelected",t)})),c.Rb(),c.Rb(),c.Rb(),c.Sb(13,"div",9),c.Cc(14,El,2,1,"label",0),c.Cc(15,Fl,2,1,"p",0),c.Sb(16,"div",10),c.Cc(17,Dl,1,1,"application",11),c.Rb(),c.Rb(),c.Rb(),c.Rb()}if(2&t){var i=e.$implicit,o=c.cc();c.Ab(2),c.ic("ngForOf",o.themeOptions),c.Ab(4),c.Fc(i("appSize")),c.Ab(1),c.ic("ngForOf",o.sizeOptions),c.Ab(2),c.ic("ngForOf",o.fontStyleOptions),c.Ab(2),c.ic("translocoRead","header"),c.Ab(1),c.ic("toggled",o.settings.customUISettings.highContrastSelected),c.Ab(2),c.ic("translocoRead","myProfile.themes"),c.Ab(1),c.ic("translocoRead","initialRun"),c.Ab(2),c.ic("ngForOf",c.kc(9,Nl))}}var Hl=function(){function t(t,e,n,i){var o=this;this.settingsHelper=t,this.settingsService=e,this.sessionService=n,this.initialRunHelper=i,this.themeCustomized=new c.n,this.Themes=pt.a,this.exampleApp={name:"Application Name",icon:K.a.coreCDN+"/assets/images/default-app-icon.png"},this.themeOptions=[{label:"classic",value:1,image:"assets/images/lp-wizard-classic.png",default:!0},{label:"primary",value:2,image:"assets/images/lp-wizard-primary.png"},{label:"professional",value:3,image:"assets/images/lp-wizard-professional.png"}],this.sizeOptions=[{label:"small",value:"small",image:"assets/images/app-icon-small.svg"},{label:"default",value:"medium",image:"assets/images/app-icon-default.svg"},{label:"large",value:"large",image:"assets/images/app-icon-large.svg"}],this.fontStyleOptions=[{label:"textBackground",value:"solid-block",class:"text-bg",default:!0},{label:"textShadow",value:"text-shadow",class:"text-shadow"}],this.subscriptions=[],this.subscriptions[0]=n.settingsUpdated.subscribe((function(t){o.settings=t,t.userInfo.canSetTheme||(o.themeOptions=[j()(o.themeOptions,(function(e){return e.value===t.customUISettings.theme}))])}))}return t.prototype.ngOnInit=function(){},t.prototype.onCustomizationChange=function(t,e,n){if(this.themeCustomized.emit(),"highContrastSelected"!==t&&!n)switch(t){case"fontBackgroundTreatment":e="solid-block"===e?"text-shadow":"solid-block";break;case"iconSize":e="medium"===e?"small":"medium";break;case"theme":e=1===e?2:1}this.settings.customUISettings[t]=e,this.sessionService.setSettings(this.settings),this.settingsService.setSettings(this.settings).subscribe((function(t){}));var i=this.initialRunHelper.progress.value;i.customizeTheme=!0,this.initialRunHelper.progress.next(i)},t.\u0275fac=function(e){return new(e||t)(c.Mb(M.a),c.Mb(xe.a),c.Mb(A.a),c.Mb(cn))},t.\u0275cmp=c.Gb({type:t,selectors:[["app-customize-theme"]],outputs:{themeCustomized:"themeCustomized"},decls:1,vars:1,consts:[[4,"transloco","translocoRead"],[1,"flex-space-between-center"],["class","theme-option",4,"ngFor","ngForOf"],[1,"customizations"],[1,"display-options"],[1,"size"],["class","option",4,"ngFor","ngForOf"],[1,"option"],[3,"toggled","toggledChange"],[1,"preview"],[1,"preview-container"],["class","cl-app app-margin",3,"app",4,"ngFor","ngForOf"],[1,"theme-option"],[3,"src"],[3,"toggled","disabled","toggledChange"],[1,"display-opt"],[1,"img-wrapper"],[3,"disabled","toggled","toggledChange"],[1,"icon-ctnr",3,"ngClass"],[1,"cl-app","app-margin",3,"app"]],template:function(t,e){1&t&&c.Cc(0,Ll,18,10,"div",0),2&t&&c.ic("translocoRead","editBar")},directives:[ct.c,i.j,vt.J,i.i,Bt],styles:[".theme-option[_ngcontent-%COMP%]{max-width:30%}.theme-option[_ngcontent-%COMP%]   cl-slide-toggle[_ngcontent-%COMP%]{display:block;margin-top:20px}.theme-option[_ngcontent-%COMP%]   cl-slide-toggle[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:calc(var(--font-modifier)*14px)}.customizations[_ngcontent-%COMP%]{margin-top:40px;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between}.customizations[_ngcontent-%COMP%]   .display-options[_ngcontent-%COMP%]{margin-right:20px;-ms-flex-positive:1;flex-grow:1}.customizations[_ngcontent-%COMP%]   .display-options[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-weight:700;font-size:calc(var(--font-modifier)*16px);margin-bottom:20px}.customizations[_ngcontent-%COMP%]   .display-options[_ngcontent-%COMP%]   h3.size[_ngcontent-%COMP%]{margin-bottom:30px}.customizations[_ngcontent-%COMP%]   .display-options[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{border:none;border-top:.5px solid var(--color-border-dark);margin-bottom:25px}.customizations[_ngcontent-%COMP%]   .display-options[_ngcontent-%COMP%]   .option[_ngcontent-%COMP%]{margin-bottom:20px;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;-ms-flex-align:center;align-items:center}.customizations[_ngcontent-%COMP%]   .display-options[_ngcontent-%COMP%]   .option.size[_ngcontent-%COMP%]{min-height:60px}.customizations[_ngcontent-%COMP%]   .display-options[_ngcontent-%COMP%]   .option[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-weight:700;font-size:calc(var(--font-modifier) * 14px);letter-spacing:.3px}.customizations[_ngcontent-%COMP%]   .display-options[_ngcontent-%COMP%]   .option[_ngcontent-%COMP%]   .display-opt[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}.customizations[_ngcontent-%COMP%]   .display-options[_ngcontent-%COMP%]   .option[_ngcontent-%COMP%]   .display-opt[_ngcontent-%COMP%]   .icon-ctnr[_ngcontent-%COMP%]{font-size:calc(var(--font-modifier) * 20px);display:block;font-weight:700;margin-right:10px;width:25px;text-align:center}.customizations[_ngcontent-%COMP%]   .display-options[_ngcontent-%COMP%]   .option[_ngcontent-%COMP%]   .display-opt[_ngcontent-%COMP%]   .icon-ctnr.text-bg[_ngcontent-%COMP%]{background-color:var(--color-primary)}.customizations[_ngcontent-%COMP%]   .display-options[_ngcontent-%COMP%]   .option[_ngcontent-%COMP%]   .display-opt[_ngcontent-%COMP%]   .img-wrapper[_ngcontent-%COMP%]{min-width:72px;margin-right:10px}.preview[_ngcontent-%COMP%]{width:60%;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}.preview[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:700;font-size:calc(var(--font-modifier)*18px);letter-spacing:.3px;margin-bottom:5px}.preview[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:10px}.preview[_ngcontent-%COMP%]   .preview-container[_ngcontent-%COMP%]{-ms-flex-positive:1;flex-grow:1;border-radius:5px;display:-ms-flexbox;display:flex;-ms-flex-flow:row wrap;flex-flow:row wrap;background-color:var(--color-bg-dark);padding:0 10px}"]}),t}();function Ul(t,e){1&t&&(c.Sb(0,"div",7),c.Nb(1,"i",8),c.Rb())}function Bl(t,e){if(1&t&&(c.Sb(0,"p",9),c.Ec(1),c.Rb()),2&t){var n=c.cc().$implicit,i=c.cc();c.Ab(1),c.Fc(n(i.cardContent.description))}}var jl=function(t,e){return{checked:t,selected:e}};function zl(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",1),c.Zb("click",(function(){return c.vc(n),c.cc().clicked.emit()})),c.Sb(1,"div",2),c.Sb(2,"div",3),c.Nb(3,"i",4),c.Sb(4,"p"),c.Ec(5),c.Rb(),c.Rb(),c.Cc(6,Ul,2,0,"div",5),c.Rb(),c.Cc(7,Bl,2,1,"p",6),c.Rb()}if(2&t){var i=e.$implicit,o=c.cc();c.ic("ngClass",c.mc(7,jl,o.checked,o.selected)),c.Bb("aria-controls",o.label)("aria-selected",o.selected),c.Ab(3),c.ic("ngClass",o.cardContent.icon),c.Ab(2),c.Fc(i(o.cardContent.title)),c.Ab(1),c.ic("ngIf",o.checked),c.Ab(1),c.ic("ngIf",o.cardContent.description)}}var Vl=function(){function t(){this.clicked=new c.n}return t.prototype.ngOnInit=function(){},t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=c.Gb({type:t,selectors:[["app-option-card"]],inputs:{cardContent:"cardContent",checked:"checked",selected:"selected",label:"label"},outputs:{clicked:"clicked"},decls:1,vars:0,consts:[["class","card-container","role","tab",3,"ngClass","click",4,"transloco"],["role","tab",1,"card-container",3,"ngClass","click"],[1,"top","flex-space-between-center"],[1,"card-title","flex-start-center"],[3,"ngClass"],["class","circle-check",4,"ngIf"],["class","description",4,"ngIf"],[1,"circle-check"],[1,"far","fa-check"],[1,"description"]],template:function(t,e){1&t&&c.Cc(0,zl,8,10,"div",0)},directives:[ct.c,i.i,i.k],styles:[".card-container[_ngcontent-%COMP%]{width:350px;height:120px;padding:15px 20px;border-radius:4px;border:1px solid var(--color-border-dark);cursor:pointer}.card-container.checked[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:var(--color-primary)}.card-container.selected[_ngcontent-%COMP%]{border:1px solid var(--color-primary)}.card-container[_ngcontent-%COMP%]:hover{box-shadow:0 0 20px rgba(0,0,0,.1)}.card-container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:700}.card-container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{margin-right:10px;font-size:30px;color:var(--color-border-dark)}.card-container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .circle-check[_ngcontent-%COMP%]{border-radius:50%;border:1px solid var(--color-primary);display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center;height:30px;width:30px}.card-container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .circle-check[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{font-size:18px;color:var(--color-primary)}.card-container[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{font-style:italic;margin-top:15px}"]}),t}();function Gl(t,e){1&t&&(c.Sb(0,"div",3),c.Nb(1,"cl-progress-spinner"),c.Rb())}function $l(t,e){if(1&t){var n=c.Tb();c.Sb(0,"app-option-card",10),c.Zb("clicked",(function(){c.vc(n);var t=c.cc().$implicit;return c.cc(3).onOptionClick(t.id)})),c.Rb()}if(2&t){var i=c.cc().$implicit,o=c.cc(3);c.ic("cardContent",i)("selected",i.id===o.activeTab)("checked",i.enabled)("label","recoveryTabpanel")}}function Zl(t,e){if(1&t&&(c.Qb(0),c.Cc(1,$l,1,4,"app-option-card",9),c.Pb()),2&t){var n=e.$implicit;c.Ab(1),c.ic("ngIf",n.show)}}function Wl(t,e){if(1&t&&(c.Sb(0,"div",12),c.Nb(1,"i",13),c.Sb(2,"p"),c.Ec(3),c.Rb(),c.Rb()),2&t){var n=e.$implicit;c.Ab(3),c.Fc(n("emailRecoveryWarning"))}}function ql(t,e){1&t&&(c.Qb(0),c.Cc(1,Wl,4,1,"div",11),c.Pb()),2&t&&(c.Ab(1),c.ic("translocoRead","initialRun"))}function Yl(t,e){if(1&t&&(c.Sb(0,"div",4),c.Cc(1,Zl,2,1,"ng-container",5),c.Rb(),c.Sb(2,"div",6),c.Cc(3,ql,2,1,"ng-container",7),c.Nb(4,"app-password-recovery",8),c.Rb()),2&t){var n=c.cc(2);c.Ab(1),c.ic("ngForOf",n.recoveryOptions),c.Ab(2),c.ic("ngIf",n.showWarning),c.Ab(1),c.ic("initialRun",!0)}}function Kl(t,e){if(1&t&&(c.Sb(0,"div"),c.Cc(1,Gl,2,0,"div",1),c.Cc(2,Yl,5,3,"ng-template",null,2,c.Dc),c.Rb()),2&t){var n=c.sc(3),i=c.cc();c.Ab(1),c.ic("ngIf",i.loading)("ngIfElse",n)}}var Ql=function(){function t(t,e){var n=this;this.nodeApi=t,this.initialRunHelper=e,this.recoveryOptions=[{title:"myProfile.security.mobilePhone",val:"phones",icon:"far fa-phone",id:0,show:!1,enabled:!1,description:"myProfile.security.passwordRecovery.phoneInfo",selected:!1},{title:"myProfile.security.email",val:"emails",icon:"far fa-envelope",id:1,show:!1,enabled:!1,description:"myProfile.security.passwordRecovery.emailInfo",selected:!1},{title:"myProfile.security.questions",val:"secretquestions",icon:"far fa-question-circle",id:2,show:!1,enabled:!1,description:"myProfile.security.passwordRecovery.questionInfo",selected:!1}],this.showWarning=!1,this.loading=!0,this.subscriptions=[],this.subscriptions[0]=e.initialRunSettingsUpdated.subscribe((function(t){var e=t?500:0;Object(u.a)(e).subscribe((function(){return n.getUserRecoveryOptions()}))}))}return t.prototype.ngOnInit=function(){this.getUserRecoveryOptions()},t.prototype.ngOnDestroy=function(){this.subscriptions.forEach((function(t){return t.unsubscribe()}))},t.prototype.getUserRecoveryOptions=function(){var t=this;this.nodeApi.getCurrentRecoveryOptions().subscribe((function(e){t.recoveryOptions.forEach((function(t){t.enabled=!!e[t.val].length,t.show=0!==e[t.val]}));var n=t.recoveryOptions.find((function(t){return t.show}));t.activeTab||(t.activeTab=n.id),t.shouldShowWarning(),t.initialRunHelper.recoverySelectionChanged.next(t.activeTab),t.loading=!1}))},t.prototype.shouldShowWarning=function(){var t=P()(this.recoveryOptions,(function(t){return t.enabled}));this.showWarning=1===t.length&&"emails"===t[0].val},t.prototype.onOptionClick=function(t){this.activeTab=t,this.initialRunHelper.recoverySelectionChanged.next(t)},t.\u0275fac=function(e){return new(e||t)(c.Mb(l.a),c.Mb(cn))},t.\u0275cmp=c.Gb({type:t,selectors:[["app-recovery-setup"]],decls:1,vars:1,consts:[[4,"transloco","translocoRead"],["class","flex-center",4,"ngIf","ngIfElse"],["recovery",""],[1,"flex-center"],["role","tablist",1,"flex-start"],[4,"ngFor","ngForOf"],["role","tabpanel","id","recoveryTabpanel"],[4,"ngIf"],[3,"initialRun"],[3,"cardContent","selected","checked","label","clicked",4,"ngIf"],[3,"cardContent","selected","checked","label","clicked"],["class","warning",4,"transloco","translocoRead"],[1,"warning"],[1,"far","fa-exclamation-triangle"]],template:function(t,e){1&t&&c.Cc(0,Kl,4,2,"div",0),2&t&&c.ic("translocoRead","myProfile.security")},directives:[ct.c,i.k,vt.F,i.j,Ur,Vl],styles:[".flex-start[_ngcontent-%COMP%]{margin-bottom:40px;-ms-flex-wrap:wrap;flex-wrap:wrap}.flex-start[_ngcontent-%COMP%]   app-option-card[_ngcontent-%COMP%]{margin:0 15px 15px 0}"]}),t}();function Jl(t,e){if(1&t){var n=c.Tb();c.Sb(0,"app-option-card",9),c.Zb("clicked",(function(){c.vc(n);var t=e.$implicit;return c.cc(3).onOptionClick(t.value)})),c.Rb()}if(2&t){var i=e.$implicit,o=c.cc(3);c.ic("cardContent",i)("selected",i.value===o.selectedOption)("checked",i.value===o.selectedOption)("label","mfaTabpanel")}}function Xl(t,e){if(1&t&&(c.Sb(0,"div"),c.Sb(1,"p",10),c.Ec(2),c.Rb(),c.Rb()),2&t){var n=c.cc(2).$implicit;c.Ab(2),c.Gc(" ",n("myProfile.security.twoFactor.validateTwoFactorDetail")," ")}}function tp(t,e){if(1&t){var n=c.Tb();c.Qb(0),c.Sb(1,"div",5),c.Cc(2,Jl,1,4,"app-option-card",6),c.Rb(),c.Cc(3,Xl,3,1,"div",4),c.Sb(4,"div",7),c.Sb(5,"app-two-factor",8),c.Zb("validateTwoFactor",(function(){return c.vc(n),c.cc(2).validateTwoFactor()})),c.Rb(),c.Rb(),c.Pb()}if(2&t){var i=c.cc(2);c.Ab(2),c.ic("ngForOf",i.twoFactorOptions),c.Ab(1),c.ic("ngIf",i.twoFactorError),c.Ab(2),c.ic("initialRun",!0)}}var ep=function(){return{"margin-right.px":10}};function np(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div"),c.Sb(1,"div",1),c.Sb(2,"cl-slide-toggle",2),c.Zb("toggledChange",(function(t){return c.vc(n),c.cc().twoFactor.is_eanabled=t}))("toggledChange",(function(t){return c.vc(n),c.cc().toggle2FA(t)})),c.Rb(),c.Sb(3,"label",3),c.Ec(4),c.Rb(),c.Rb(),c.Cc(5,tp,6,3,"ng-container",4),c.Rb()}if(2&t){var i=e.$implicit,o=c.cc();c.Ab(2),c.ic("ngStyle",c.kc(5,ep))("toggled",o.twoFactor.is_eanabled)("disabled",o.twoFactorRequired),c.Ab(2),c.Fc(i("myProfile.security.enableTwoFactor")),c.Ab(1),c.ic("ngIf",o.twoFactor.is_eanabled)}}var ip=function(){function t(t,e,n,i){var o=this;this.nodeApi=t,this.profileHelper=e,this.translationHelper=n,this.tmsService=i,this.verifyMFAMethod=new c.n,this.twoFactorEnabled=new c.n,this.twoFactorError=!1,this.twoFactorOptions=[],this.twoFactor={created_datetime:"",gauth_set:!1,id:null,image1:null,is_eanabled:!1,type:1},this.yubikeyRegistered=!1,this.twoFactorRequired=!1,this.pinConfigured=!1,this.subscriptions=[],this.subscriptions[0]=e.generalSettingsUpdated.subscribe((function(t){o.generalSettings=t,o.twoFactorOptions=[],t.EnableTwofactorSMS&&o.twoFactorOptions.push({title:"myProfile.security.mobileSms",value:1,verifyFunc:function(){return o.is2FAPhoneEnabled()},icon:"far fa-phone"}),t.EnableTwofactorImage&&o.twoFactorOptions.push({title:"myProfile.security.image",value:2,verifyFunc:function(){return o.is2FAImageEnabled()},icon:"far fa-image"}),t.EnableTwofactorMobile&&o.twoFactorOptions.push({title:"myProfile.security.authenticator",value:3,verifyFunc:function(){return o.is2FAAuthenticatorEnabled()},icon:"far fa-mobile-alt"}),t.EnableTwofactorDuo&&o.twoFactorOptions.push({title:"myProfile.security.duoPush",value:4,verifyFunc:function(){return o.is2FADuoPushEnabled()},icon:"far fa-mobile-alt"}),t.EnableTwofactorYubikey&&o.twoFactorOptions.push({title:"myProfile.security.yubikey",value:6,verifyFunc:function(){return o.is2FAYubikeyEnabled()},icon:"far fa-usb-drive"}),t.EnableTwofactorPIN&&o.twoFactorOptions.push({title:"myProfile.security.pin",value:7,verifyFunc:function(){return o.is2FAPinEnabled()},icon:"far fa-user-shield"})}))}return t.prototype.ngOnInit=function(){var t=this;this.getTwoFactor(),this.tmsService.getMFARequired().subscribe((function(e){return t.twoFactorRequired=e}),(function(){return t.twoFactorRequired=!1}))},t.prototype.onOptionClick=function(t){var e=this;this.selectedOption=t,this.twoFactorOptions.find((function(t){return t.value===e.selectedOption})).verifyFunc()?(this.twoFactor.type=t,this.verifyMFAMethod.emit(!0),this.nodeApi.updateTwoFactor(this.twoFactor).subscribe((function(t){}))):this.verifyMFAMethod.emit(!1),this.profileHelper.securityIndexChanged.next(t)},t.prototype.getTwoFactor=function(){var t=this;this.nodeApi.getTwoFactor().subscribe((function(e){t.twoFactor=e||t.twoFactor,t.twoFactorEnabled.emit(t.twoFactor.is_eanabled),t.verifyMFAMethod.emit(!0),t.selectedOption=t.twoFactor.type,t.twoFactor&&t.generalSettings.EnableTwofactorSMS&&t.getPhoneSetting(),t.twoFactor&&t.generalSettings.EnableTwofactorYubikey&&t.getYubikeySetting(),t.twoFactor&&t.generalSettings.EnableTwofactorPIN&&t.getPinSettings(),t.profileHelper.securityIndexChanged.next(t.selectedOption)}))},t.prototype.toggle2FA=function(t){var e=this;this.twoFactor.is_eanabled=t,this.twoFactorEnabled.emit(this.twoFactor.is_eanabled),this.nodeApi.updateTwoFactor(this.twoFactor).subscribe((function(n){var i=e.twoFactorOptions.find((function(t){return t.value===e.selectedOption})).verifyFunc();e.verifyMFAMethod.emit(!!i),e.translationHelper.translateAndAddGenericGrowl({severity:"success"},{subject:"myProfile.security.twoFactorAuthentication",verb:t?"common.enabled":"common.disabled"})}),(function(n){e.twoFactor.is_eanabled=!t})),this.selectedOption=this.twoFactor.type,this.profileHelper.securityIndexChanged.next(this.twoFactor.type)},t.prototype.validateTwoFactor=function(){this.getTwoFactor()},t.prototype.getPhoneSetting=function(){var t=this;this.nodeApi.getPhoneSeting().subscribe((function(e){t.twoFactorPhone=e}))},t.prototype.getYubikeySetting=function(){var t=this;this.nodeApi.checkYubikeyRegistration().subscribe((function(e){t.yubikeyRegistered=1===e.status}),(function(){t.yubikeyRegistered=!1}))},t.prototype.getPinSettings=function(){var t=this;this.tmsService.getStoredMfa("pin").subscribe((function(e){e.length&&(t.pinConfigured=!0)}))},t.prototype.base2FAEnabled=function(){return this.twoFactor&&this.twoFactor.is_eanabled},t.prototype.is2FAPhoneEnabled=function(){return this.base2FAEnabled()&&this.twoFactorPhone&&this.twoFactorPhone.is_verified},t.prototype.is2FAImageEnabled=function(){return this.base2FAEnabled()&&this.twoFactor.image1&&""!==this.twoFactor.image1},t.prototype.is2FAAuthenticatorEnabled=function(){return this.base2FAEnabled()&&this.twoFactor.gauth_set},t.prototype.is2FADuoPushEnabled=function(){return this.base2FAEnabled()},t.prototype.is2FAYubikeyEnabled=function(){return this.base2FAEnabled()&&this.yubikeyRegistered},t.prototype.is2FAPinEnabled=function(){return this.base2FAEnabled()&&this.pinConfigured},t.\u0275fac=function(e){return new(e||t)(c.Mb(l.a),c.Mb(lt),c.Mb(J.a),c.Mb(we))},t.\u0275cmp=c.Gb({type:t,selectors:[["app-two-factor-setup"]],inputs:{twoFactorError:"twoFactorError"},outputs:{verifyMFAMethod:"verifyMFAMethod",twoFactorEnabled:"twoFactorEnabled"},decls:1,vars:0,consts:[[4,"transloco"],[1,"toggle-wrapper"],["id","enable2FAToggle",1,"bold-label",3,"ngStyle","toggled","disabled","toggledChange"],["for","enable2FAToggle"],[4,"ngIf"],["role","tablist",1,"flex-start"],[3,"cardContent","selected","checked","label","clicked",4,"ngFor","ngForOf"],["role","tabpanel","id","mfaTabPanel"],[3,"initialRun","validateTwoFactor"],[3,"cardContent","selected","checked","label","clicked"],[1,"error-msg"]],template:function(t,e){1&t&&c.Cc(0,np,6,6,"div",0)},directives:[ct.c,vt.J,i.l,i.k,i.j,wa,Vl],styles:[".flex-start[_ngcontent-%COMP%]{margin-bottom:40px;-ms-flex-wrap:wrap;flex-wrap:wrap}.flex-start[_ngcontent-%COMP%]   app-option-card[_ngcontent-%COMP%]{margin:0 15px 15px 0}.toggle-wrapper[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;margin:20px 0}.toggle-wrapper[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:800!important;font-size:calc(var(--font-modifier) * 13px)}.error-msg[_ngcontent-%COMP%]{color:var(--color-danger);font-weight:600;margin-bottom:40px}"]}),t}(),op=["tabpanel"],rp=["tabitem"];function ap(t,e){1&t&&(c.Sb(0,"div",29),c.Nb(1,"i",30),c.Rb())}var sp=function(t,e){return{width:t,height:e}};function cp(t,e){if(1&t&&(c.Sb(0,"div",29),c.Nb(1,"div",31),c.Rb()),2&t){var n=c.cc().index,i=c.cc(2);c.Ab(1),c.ic("ngStyle",c.mc(1,sp,i.activeStep===n?"30%":"20%",i.activeStep===n?"30%":"20%"))}}function lp(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",24,25),c.Zb("click",(function(){c.vc(n);var t=e.index;return c.cc(2).onStepSelect(t)}))("keydown.enter",(function(){c.vc(n);var t=e.index;return c.cc(2).onStepSelect(t)}))("keydown.space",(function(){c.vc(n);var t=e.index;return c.cc(2).onStepSelect(t)}))("keydown.arrowleft",(function(){c.vc(n);var t=e.index;return c.cc(2).nav("left",t)}))("keydown.arrowright",(function(){c.vc(n);var t=e.index;return c.cc(2).nav("right",t)})),c.Sb(2,"p"),c.Ec(3),c.Rb(),c.Sb(4,"div",26),c.Cc(5,ap,2,0,"div",27),c.Cc(6,cp,2,4,"ng-template",null,28,c.Dc),c.Rb(),c.Rb()}if(2&t){var i=e.$implicit,o=e.index,r=c.sc(7),a=c.cc().$implicit,s=c.cc();c.ic("tabindex",s.activeStep===o?0:-1),c.Bb("aria-controls","initialRunPanel")("aria-selected",s.activeStep===o),c.Ab(3),c.Fc(a("steps."+i.key)),c.Ab(2),c.ic("ngIf",i.completed&&!(s.activeStep===o))("ngIfElse",r)}}function pp(t,e){if(1&t&&(c.Sb(0,"p"),c.Ec(1),c.Rb()),2&t){var n=c.cc().$implicit,i=c.cc();c.Ab(1),c.Fc(n(i.steps[i.activeStep].description))}}function up(t,e){1&t&&c.Nb(0,"app-select-avatar",32),2&t&&c.ic("initialRun",!0)}function dp(t,e){1&t&&c.Nb(0,"app-customize-theme")}function bp(t,e){1&t&&c.Nb(0,"app-recovery-setup")}function gp(t,e){if(1&t){var n=c.Tb();c.Sb(0,"app-two-factor-setup",33),c.Zb("verifyMFAMethod",(function(t){return c.vc(n),c.cc(2).verifyMFAMethod(t)}))("twoFactorEnabled",(function(t){return c.vc(n),c.cc(2).setTwoFactorEnabled(t)})),c.Rb()}if(2&t){var i=c.cc(2);c.ic("twoFactorError",i.twoFactorError)}}function fp(t,e){if(1&t){var n=c.Tb();c.Sb(0,"button",34),c.Zb("click",(function(){c.vc(n);var t=c.cc(2);return t.activeStep=t.activeStep-1})),c.Ec(1),c.Rb()}if(2&t){var i=c.cc().$implicit;c.Ab(1),c.Fc(i("previous"))}}function hp(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",1),c.Sb(1,"button",2),c.Zb("click",(function(){return c.vc(n),c.cc().onExit()})),c.Nb(2,"i",3),c.Rb(),c.Sb(3,"div",4),c.Sb(4,"div"),c.Sb(5,"div",5),c.Nb(6,"img",6),c.Sb(7,"h2"),c.Ec(8),c.Rb(),c.Rb(),c.Sb(9,"div",7),c.Sb(10,"div",8),c.Cc(11,lp,8,6,"div",9),c.Rb(),c.Rb(),c.Rb(),c.Rb(),c.Sb(12,"div",10,11),c.Sb(14,"div",12),c.Sb(15,"div",13),c.Sb(16,"p"),c.Ec(17),c.Rb(),c.Sb(18,"button",14,15),c.Zb("click",(function(){return c.vc(n),c.cc().openLearnMoreSlideover()})),c.Ec(20),c.Sb(21,"span"),c.Nb(22,"i",16),c.Rb(),c.Rb(),c.Rb(),c.Cc(23,pp,2,1,"p",17),c.Rb(),c.Sb(24,"div",18),c.Cc(25,up,1,1,"app-select-avatar",19),c.Cc(26,dp,1,0,"app-customize-theme",17),c.Cc(27,bp,1,0,"app-recovery-setup",17),c.Cc(28,gp,1,1,"app-two-factor-setup",20),c.Rb(),c.Sb(29,"div",21),c.Cc(30,fp,2,1,"button",22),c.Sb(31,"button",23),c.Zb("click",(function(){c.vc(n);var t=c.cc();return t.activeStep<t.steps.length-1?t.activeStep=t.activeStep+1:t.onFinishSetup()})),c.Ec(32),c.Rb(),c.Rb(),c.Rb(),c.Rb()}if(2&t){var i=e.$implicit,o=c.cc();c.ic("clFocusTrap",!0),c.Ab(6),c.ic("src","/assets/images/classlink-logo-invert.svg",c.xc),c.Ab(2),c.Fc(i("userWalkthrough")),c.Ab(3),c.ic("ngForOf",o.steps),c.Ab(6),c.Fc(o.activeStep+1+". "+i("steps."+o.steps[o.activeStep].key+"Long")),c.Ab(3),c.Gc(" ",i("learnMore")," "),c.Ab(3),c.ic("ngIf",o.steps[o.activeStep].description),c.Ab(2),c.ic("ngIf","selectAvatar"===o.steps[o.activeStep].key),c.Ab(1),c.ic("ngIf","customizeTheme"===o.steps[o.activeStep].key),c.Ab(1),c.ic("ngIf","passwordRecovery"===o.steps[o.activeStep].key),c.Ab(1),c.ic("ngIf","twoFactorAuth"===o.steps[o.activeStep].key),c.Ab(2),c.ic("ngIf",o.activeStep>0),c.Ab(2),c.Gc(" ",i(o.activeStep<o.steps.length-1?"next":"finish")," ")}}var mp=function(){function t(t,e,n,i,o){var r=this;this.sessionService=t,this.initialRunHelper=e,this.learnMoreSlideoverService=n,this.transloco=i,this.myProfileHelper=o,this.close=new c.n,this.toggleAnim=!1,this.twoFactorRegistered=!0,this.twoFactorError=!1,this.twoFactorEnabled=!1,this.steps=[{key:"selectAvatar",completed:!1,videoSrc:"avatar-selection"},{key:"customizeTheme",completed:!1,videoSrc:"theme-settings"},{key:"passwordRecovery",completed:!1,videoSrc:"pw-recovery-setup",description:"steps.passRecoveryDescription"},{key:"twoFactorAuth",completed:!1,videoSrc:"authenticator-setup",description:"steps.twoFactorDescription"}],this.subscriptions=[],this.subscriptions[0]=t.userInfoUpdated.subscribe((function(t){r.user=t})),this.subscriptions[1]=e.progress.subscribe((function(t){r.steps.forEach((function(e){t[e.key]&&(e.completed=t[e.key])}))})),this.subscriptions[2]=o.generalSettingsUpdated.subscribe((function(t){r.settings=t})),this.setTabs()}return t.prototype.ngOnInit=function(){this.activeStep=0},t.prototype.ngAfterViewInit=function(){this.tabpanel.nativeElement.focus()},t.prototype.ngOnDestroy=function(){this.subscriptions.forEach((function(t){return t.unsubscribe()}))},t.prototype.setTabs=function(){7!==this.settings.UserType&&8!==this.settings.UserType&&this.settings.EnablePasswordOptions||rt()(this.steps,(function(t){return"passwordRecovery"===t.key})),this.settings.EnableTwofactor||rt()(this.steps,(function(t){return"twoFactorAuth"===t.key}))},t.prototype.onStepSelect=function(t){this.activeStep=t},t.prototype.openLearnMoreSlideover=function(){var t=this.steps[this.activeStep],e=this.transloco.translateObject("initialRun.instructions."+t.key);this.learnMoreSlideoverService.slideover.next({open:!0,key:t.key,videoSrc:t.videoSrc,steps:e})},t.prototype.onExit=function(){this.close.emit()},t.prototype.nav=function(t,e){var n,i=this.tabs.toArray();"right"===t&&(n=e===i.length-1?0:e+1),"left"===t&&(n=0===e?i.length-1:e-1),i[e].nativeElement.tabIndex="-1",i[n].nativeElement.tabIndex="0",i[n].nativeElement.focus()},t.prototype.verifyMFAMethod=function(t){this.twoFactorRegistered=t,this.twoFactorError=!1},t.prototype.setTwoFactorEnabled=function(t){this.twoFactorEnabled=t,this.twoFactorError=!1},t.prototype.onFinishSetup=function(){this.twoFactorRegistered||!this.twoFactorEnabled?this.close.emit():this.twoFactorError=!0},t.\u0275fac=function(e){return new(e||t)(c.Mb(A.a),c.Mb(cn),c.Mb(Sl),c.Mb(ct.f),c.Mb(lt))},t.\u0275cmp=c.Gb({type:t,selectors:[["app-welcome-setup"]],viewQuery:function(t,e){var n;1&t&&(c.Jc(op,!0),c.Jc(rp,!0,c.l)),2&t&&(c.rc(n=c.ac())&&(e.tabpanel=n.first),c.rc(n=c.ac())&&(e.tabs=n))},outputs:{close:"close"},decls:2,vars:1,consts:[["class","container",3,"clFocusTrap",4,"transloco","translocoRead"],[1,"container",3,"clFocusTrap"],[1,"button","button-icon","close-btn",3,"click"],[1,"far","fa-times"],[1,"sidebar","custom-scroll"],[1,"heading"],[3,"src"],[1,"steps"],["role","tablist",1,"tabs"],["role","tab","class","tab",3,"tabindex","click","keydown.enter","keydown.space","keydown.arrowleft","keydown.arrowright",4,"ngFor","ngForOf"],["role","tabpanel","id","initialRunPanel","tabindex","0",1,"main-content"],["tabpanel",""],[1,"top"],[1,"flex-space-between-center"],[1,"button","button-text",3,"click"],["learnMoreBtn",""],[1,"far","fa-book-reader"],[4,"ngIf"],[1,"content-container","custom-scroll"],[3,"initialRun",4,"ngIf"],[3,"twoFactorError","verifyMFAMethod","twoFactorEnabled",4,"ngIf"],[1,"content-footer","flex-space-between-center"],["class","button button-default",3,"click",4,"ngIf"],[1,"button","next",3,"click"],["role","tab",1,"tab",3,"tabindex","click","keydown.enter","keydown.space","keydown.arrowleft","keydown.arrowright"],["tabitem",""],[1,"progress-wrapper"],["class","progress-indicator flex-center",4,"ngIf","ngIfElse"],["circle",""],[1,"progress-indicator","flex-center"],["aria-label","indicates if step has been completed",1,"far","fa-check"],["aria-label","indicates if step is selected",1,"circle",3,"ngStyle"],[3,"initialRun"],[3,"twoFactorError","verifyMFAMethod","twoFactorEnabled"],[1,"button","button-default",3,"click"]],template:function(t,e){1&t&&(c.Cc(0,hp,33,13,"div",0),c.Nb(1,"app-learn-more-slideover")),2&t&&c.ic("translocoRead","initialRun")},directives:[ct.c,kl,vt.s,i.j,i.k,i.l,xn,Hl,Ql,ip],styles:['div.container[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background-color:var(--color-white);z-index:300;display:-ms-flexbox;display:flex}div.container[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{position:absolute;top:20px;right:20px}div.container[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]{background:linear-gradient(180deg,var(--color-primary),var(--color-primary)),linear-gradient(0deg,var(--color-primary),var(--color-primary));width:275px;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;-ms-flex-direction:column;flex-direction:column;overflow-y:auto}div.container[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;padding:30px 20px;-ms-flex-align:center;align-items:center}div.container[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-weight:700;font-size:calc(var(--font-modifier) * 23px);color:var(--color-white);text-align:right;margin-left:10px}div.container[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:75px;width:75px}div.container[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .steps[_ngcontent-%COMP%], div.container[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .steps[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between}div.container[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .steps[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]{-ms-flex-direction:column;flex-direction:column;width:100%;padding:20px}div.container[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .steps[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]{position:relative;cursor:pointer;display:-ms-flexbox;display:flex;margin-bottom:30px;-ms-flex-pack:justify;justify-content:space-between;-ms-flex-align:center;align-items:center}div.container[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .steps[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]:after{content:"";position:absolute;width:calc(100% + 16px);height:calc(100% + 10px);top:-5px;left:-8px;border-radius:5px;border:2px solid var(--color-white);opacity:0;transition:all .1s ease-in-out;pointer-events:none}div.container[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .steps[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]:focus:after{opacity:1}div.container[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .steps[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:700;color:var(--color-white);letter-spacing:.3px;font-size:calc(var(--font-modifier)*14px)}div.container[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .steps[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]   .progress-wrapper[_ngcontent-%COMP%]{background-color:hsla(0,0%,100%,.1);width:45px;height:45px;border-radius:50%}div.container[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .steps[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]   .progress-wrapper[_ngcontent-%COMP%]   .progress-indicator[_ngcontent-%COMP%]{width:100%;height:100%}div.container[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .steps[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]   .progress-wrapper[_ngcontent-%COMP%]   .progress-indicator[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]{border-radius:50%;background-color:var(--color-white)}div.container[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .steps[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]   .progress-wrapper[_ngcontent-%COMP%]   .progress-indicator[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:var(--color-white);font-size:20px}div.container[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .number-step[_ngcontent-%COMP%]{margin-top:auto;font-size:225px;font-weight:700;color:var(--color-white);opacity:.2;text-align:right;padding-right:20px}div.container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]{-ms-flex:1;flex:1;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;-ms-flex-direction:column;flex-direction:column;width:calc(100% - 275px)}div.container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]{padding:40px}div.container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:700;font-size:calc(var(--font-modifier)*16px)}div.container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:var(--color-primary)}div.container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:25px;height:25px;background-color:var(--color-primary);border-radius:50%;display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center;margin-left:5px;font-size:14px}div.container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:var(--color-white)}div.container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]{height:100%;overflow-y:auto;padding:0 40px 40px}div.container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .content-footer[_ngcontent-%COMP%]{position:-webkit-sticky;position:sticky;border-top:1px solid var(--color-border-dark);background-color:var(--color-bg-light);top:85%;height:15%;width:100%;padding:20px 40px}div.container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .content-footer[_ngcontent-%COMP%]   button.next[_ngcontent-%COMP%]{background-color:var(--color-primary);margin-left:auto;color:var(--color-white)}'],data:{animation:[Object(wt.j)("fadeAnimation",[Object(wt.g)("in",Object(wt.h)({opacity:.2})),Object(wt.i)(":enter",[Object(wt.h)({opacity:0}),Object(wt.e)(400)]),Object(wt.i)(":leave",Object(wt.e)(400,Object(wt.h)({opacity:0})))])]}}),t}();function vp(t,e){if(1&t){var n=c.Tb();c.Sb(0,"app-welcome-setup",2),c.Zb("close",(function(){return c.vc(n),c.cc().closeInitialRun()})),c.Rb()}}var yp=function(){function t(t,e,n,i,o){var r=this;this.appsHelper=t,this.sessionService=e,this.settingsHelper=n,this.settingsService=o,this.setupActive=!1,this.subscriptions=[],this.subscriptions[0]=t.welcomeVisibleChanged.subscribe((function(t){r.desktopSettings?1==r.desktopSettings.isenabled_lplite?r.visibleLite=t:i.modalVisible.next({visible:t}):r.waitingSettings=t})),this.subscriptions[1]=e.settingsUpdated.subscribe((function(t){return r.settings=t})),this.subscriptions[2]=n.desktopSettingsUpdated.subscribe((function(t){r.desktopSettings=t,r.waitingSettings&&(1==r.desktopSettings.isenabled_lplite?r.visibleLite=!0:i.modalVisible.next({visible:!0})),r.waitingSettings=!1}))}return t.prototype.ngOnInit=function(){},t.prototype.closeInitialRun=function(){this.setupActive&&(this.setupActive=!1),this.appsHelper.welcomeVisibleChanged.next(!1),this.settings.customUISettings.showFirstTime=!1,this.sessionService.setSettings(this.settings),this.settingsService.setSettings(this.settings).subscribe((function(t){}))},t.\u0275fac=function(e){return new(e||t)(c.Mb(p.a),c.Mb(A.a),c.Mb(M.a),c.Mb(cn),c.Mb(xe.a))},t.\u0275cmp=c.Gb({type:t,selectors:[["app-initial-run-wizard"]],decls:2,vars:1,consts:[[3,"open","close"],[3,"close",4,"ngIf"],[3,"close"]],template:function(t,e){1&t&&(c.Sb(0,"app-welcome-modal",0),c.Zb("open",(function(){return e.setupActive=!0}))("close",(function(){return e.closeInitialRun()})),c.Rb(),c.Cc(1,vp,1,0,"app-welcome-setup",1)),2&t&&(c.Ab(1),c.ic("ngIf",e.setupActive))},directives:[Pl,i.k,mp],styles:[""]}),t}();function Cp(t,e){if(1&t&&(c.Sb(0,"p"),c.Ec(1),c.Rb()),2&t){var n=c.cc().$implicit;c.Ab(1),c.Fc(n("image"))}}function wp(t,e){if(1&t&&(c.Sb(0,"p"),c.Ec(1),c.Rb()),2&t){var n=c.cc().$implicit;c.Ab(1),c.Fc(n("disabled"))}}function xp(t,e){if(1&t){var n=c.Tb();c.Sb(0,"button",10),c.Zb("click",(function(){return c.vc(n),c.cc(2).changeVisibility(!1)})),c.Ec(1),c.Rb()}if(2&t){var i=e.$implicit;c.Ab(1),c.Fc(i("common.close"))}}function Pp(t,e){if(1&t){var n=c.Tb();c.Qb(0),c.Sb(1,"div",2),c.Nb(2,"i",3),c.Sb(3,"h3"),c.Ec(4),c.Rb(),c.Rb(),c.Sb(5,"div",4),c.Cc(6,Cp,2,1,"p",5),c.Cc(7,wp,2,1,"p",5),c.Sb(8,"p"),c.Ec(9),c.Sb(10,"a",6),c.Ec(11),c.Rb(),c.Rb(),c.Rb(),c.Sb(12,"div",7),c.Cc(13,xp,2,1,"button",8),c.Sb(14,"button",9),c.Zb("click",(function(){return c.vc(n),c.cc().openSecurityOptions()})),c.Ec(15),c.Rb(),c.Rb(),c.Pb()}if(2&t){var i=e.$implicit,o=c.cc();c.Ab(4),c.Fc(i("title")),c.Ab(2),c.ic("ngIf",o.image),c.Ab(1),c.ic("ngIf",!o.image),c.Ab(2),c.Gc("",i("instructions")," "),c.Ab(2),c.Fc(i("link")),c.Ab(4),c.Fc(i("securityOptions"))}}var Sp=function(){function t(t,e){var n=this;this.slideoverService=t,this.appsHelper=e,this.visible=!1,this.image=!1,this.subscriptions=[],this.subscriptions[0]=e.showMfaWarning.subscribe((function(t){n.visible=t.visible,n.image=t.image}))}return t.prototype.ngOnDestroy=function(){this.subscriptions.forEach((function(t){return t.unsubscribe}))},t.prototype.changeVisibility=function(t){this.visible=t,this.appsHelper.showMfaWarning.next({visible:t,image:this.image})},t.prototype.openSecurityOptions=function(){this.changeVisibility(!1),this.slideoverService.myProfile.opened.next({id:6})},t.\u0275fac=function(e){return new(e||t)(c.Mb(z.a),c.Mb(p.a))},t.\u0275cmp=c.Gb({type:t,selectors:[["app-weak-mfa"]],decls:2,vars:2,consts:[[1,"modal-small","weak-mfa",3,"visible","visibleChange"],[4,"transloco","translocoRead"],[1,"modal-header"],[1,"far","fa-exclamation-triangle"],[1,"modal-main-content"],[4,"ngIf"],["href","https://help.classlink.com/s/article/changing-your-multi-factor-authentication-method","target","_blank"],[1,"modal-controls"],["class","button button-default",3,"click",4,"transloco"],[1,"button","button-primary",3,"click"],[1,"button","button-default",3,"click"]],template:function(t,e){1&t&&(c.Sb(0,"cl-modal",0),c.Zb("visibleChange",(function(t){return e.visible=t})),c.Cc(1,Pp,16,6,"ng-container",1),c.Rb()),2&t&&(c.ic("visible",e.visible),c.Ab(1),c.ic("translocoRead","warnWeakMfa"))},directives:[vt.A,ct.c,i.k],styles:[".modal-header[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:var(--color-warning);font-size:30px!important}.modal-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:calc(var(--font-modifier) * 20px)!important}.modal-main-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:last-of-type{margin:20px 0}"]}),t}();function Op(t,e){if(1&t){var n=c.Tb();c.Sb(0,"button",8),c.Zb("click",(function(){return c.vc(n),c.cc(2).visible=!1})),c.Ec(1),c.Rb()}if(2&t){var i=e.$implicit;c.Ab(1),c.Gc(" ",i("common.close")," ")}}function Mp(t,e){if(1&t){var n=c.Tb();c.Qb(0),c.Sb(1,"div",2),c.Nb(2,"i",3),c.Sb(3,"h3"),c.Ec(4),c.Rb(),c.Rb(),c.Sb(5,"div",4),c.Sb(6,"p"),c.Ec(7),c.Rb(),c.Sb(8,"p"),c.Ec(9),c.Sb(10,"a",5),c.Ec(11),c.Rb(),c.Rb(),c.Cc(12,Op,2,1,"button",6),c.Sb(13,"a",7),c.Zb("click",(function(){return c.vc(n),c.cc().openRecoverySettings()})),c.Ec(14),c.Rb(),c.Rb(),c.Pb()}if(2&t){var i=e.$implicit;c.Ab(4),c.Fc(i("title")),c.Ab(3),c.Fc(i("detail")),c.Ab(2),c.Gc("",i("instructions")," "),c.Ab(2),c.Gc(" ",i("linkText")," "),c.Ab(3),c.Gc(" ",i("recoveryOptions"),"")}}var Ap=function(){function t(t,e){var n=this;this.appsHelper=t,this.slideoverService=e,this.visible=!1,this.subscriptions=[],this.subscriptions[0]=t.showRecoveryQuestionsWarning.subscribe((function(t){n.visible=t}))}return t.prototype.ngOnInit=function(){},t.prototype.ngOnDestroy=function(){this.subscriptions.forEach((function(t){return t.unsubscribe}))},t.prototype.onVisibleChange=function(t){this.visible!==t&&(this.visible=t,this.appsHelper.showRecoveryQuestionsWarning.next(t))},t.prototype.openRecoverySettings=function(){this.onVisibleChange(!1),this.slideoverService.myProfile.opened.next({id:7})},t.\u0275fac=function(e){return new(e||t)(c.Mb(p.a),c.Mb(z.a))},t.\u0275cmp=c.Gb({type:t,selectors:[["app-recovery-questions-modal"]],decls:2,vars:2,consts:[[1,"modal-small","recovery-questions",3,"visible","visibleChange"],[4,"transloco","translocoRead"],[1,"modal-header"],[1,"far","fa-exclamation-triangle"],[1,"modal-main-content"],["href","https://help.classlink.com/s/article/removing-challenge-response-questions-for-password-recovery","target","_blank"],["class","button button-default",3,"click",4,"transloco"],["tabindex","0",1,"recovery-link","cl-focusable",3,"click"],[1,"button","button-default",3,"click"]],template:function(t,e){1&t&&(c.Sb(0,"cl-modal",0),c.Zb("visibleChange",(function(t){return e.visible=t})),c.Cc(1,Mp,15,5,"ng-container",1),c.Rb()),2&t&&(c.ic("visible",e.visible),c.Ab(1),c.ic("translocoRead","warnRecoveryQuestions"))},directives:[vt.A,ct.c],styles:[".modal-header[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:var(--color-warning);font-size:30px!important}.modal-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:calc(var(--font-modifier) * 20px)!important}.modal-main-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:last-of-type{margin:20px 0}.recovery-link[_ngcontent-%COMP%]{margin-left:auto;background-color:var(--color-primary)!important;color:var(--color-white)!important;padding:0 12px;height:40px;width:150px;display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center;font-size:calc(var(--font-modifier) * 12px);font-weight:600;border-radius:5px;cursor:pointer}"]}),t}(),kp=["fileInput"],_p=["tabpanel"],Rp=["palette"],Ip=["fontStyle"],Tp=["wallpaper"],Ep=["tabitem"],Fp=["focusable"];function Dp(t,e){if(1&t&&(c.Sb(0,"div",11),c.Sb(1,"p"),c.Ec(2),c.Rb(),c.Rb()),2&t){var n=e.$implicit,i=c.cc().$implicit;c.Ab(2),c.Fc(i(n.title))}}var Np=function(t){return{option:t}};function Lp(t,e){if(1&t&&(c.Qb(0),c.Ob(1,5),c.Pb()),2&t){var n=c.cc(3).$implicit;c.Ab(1),c.ic("ngTemplateOutlet",n.dropdownTemplate)("ngTemplateOutletContext",c.lc(2,Np,n))}}function Hp(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",24,16),c.Zb("keydown.Enter",(function(t){c.vc(n);var i=e.$implicit,o=c.cc(4).$implicit;return t.stopPropagation(),i.handler(o,i)}))("keydown.space",(function(t){c.vc(n);var i=e.$implicit,o=c.cc(4).$implicit;return t.stopPropagation(),i.handler(o,i)}))("click",(function(t){c.vc(n);var i=e.$implicit,o=c.cc(4).$implicit;return t.stopPropagation(),i.handler(o,i)})),c.Sb(2,"span",25),c.Nb(3,"i",26),c.Rb(),c.Ec(4),c.Rb()}if(2&t){var i=e.$implicit,o=c.cc(4).$implicit,r=c.cc(2).$implicit;c.Eb("active",i.isActive(o,i)),c.Ab(2),c.ic("ngClass",i.iconClass),c.Ab(1),c.Cb(i.icon),c.ic("ngStyle",i.iconStyles),c.Ab(1),c.Gc(" ",r(i.title)," ")}}var Up=function(t){return{last:t}};function Bp(t,e){if(1&t&&(c.Sb(0,"app-dropdown-menu",22),c.Cc(1,Hp,5,7,"div",23),c.Rb()),2&t){var n=c.cc(3),i=n.index,o=n.$implicit,r=c.cc().options,a=c.cc(2);c.ic("ngClass",c.lc(2,Up,i===a.getAmountDisplayedOptions(r)-1)),c.Ab(1),c.ic("ngForOf",o.dropdownItems)}}function jp(t,e){if(1&t&&(c.Qb(0),c.Cc(1,Lp,2,4,"ng-container",20),c.Cc(2,Bp,2,4,"ng-template",null,21,c.Dc),c.Pb()),2&t){var n=c.sc(3),i=c.cc(2).$implicit;c.Ab(1),c.ic("ngIf",i.dropdownTemplate)("ngIfElse",n)}}function zp(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",14),c.Sb(1,"button",15,16),c.Zb("focus",(function(){c.vc(n);var t=c.cc().$implicit;return c.cc(3).updateFocus.emit("editbar-"+t.title)}))("keydown.Space",(function(t){c.vc(n);var e=c.cc(),i=e.$implicit;return i.handler(i,e.index,t)}))("keydown.Enter",(function(t){c.vc(n);var e=c.cc(),i=e.$implicit;return i.handler(i,e.index,t)}))("click",(function(t){c.vc(n);var e=c.cc(),i=e.$implicit;return i.handler(i,e.index,t)})),c.Sb(3,"span",17),c.Nb(4,"i"),c.Rb(),c.Sb(5,"p",18),c.Ec(6),c.Rb(),c.Rb(),c.Cc(7,jp,4,2,"ng-container",19),c.Rb()}if(2&t){var i=c.cc().$implicit,o=c.cc(2).$implicit,r=c.sc(8),a=c.cc();c.Ab(1),c.ic("id","editbar-"+i.title)("tabindex",a.isEditMode?0:-1)("clTooltipContext",i)("clTooltipPositionOffset",a.getOffset())("clTooltip",a.showTitleTooltip()?r:void 0)("clTooltipDirection",a.getDirection()),c.Bb("role",a.isEditMode?"menuitem":"none")("aria-hidden",!a.isEditMode)("aria-expanded",i.dropdownItems?!0===a.visibleMenus[i.title]:null),c.Ab(3),c.Cb(i.icon),c.Ab(1),c.ic("id",i.title),c.Ab(1),c.Fc(o(i.title)),c.Ab(1),c.ic("ngIf",(i.dropdownTemplate||i.dropdownItems)&&!0===a.visibleMenus[i.title])}}function Vp(t,e){if(1&t&&(c.Qb(0),c.Cc(1,zp,8,14,"div",13),c.Pb()),2&t){var n=e.$implicit;c.Ab(1),c.ic("ngIf",n.show())}}function Gp(t,e){1&t&&c.Cc(0,Vp,2,1,"ng-container",12),2&t&&c.ic("ngForOf",e.options)}var $p=function(t){return{options:t}};function Zp(t,e){if(1&t){var n=c.Tb();c.Qb(0),c.Sb(1,"div",4),c.Ob(2,5),c.Rb(),c.Sb(3,"div",6),c.Ob(4,5),c.Rb(),c.Sb(5,"button",7),c.Zb("focus",(function(){return c.vc(n),c.cc().updateFocus.emit("editbar-close")}))("click",(function(){return c.vc(n),c.cc().toggleEditMode()})),c.Nb(6,"i",8),c.Rb(),c.Cc(7,Dp,3,1,"ng-template",null,9,c.Dc),c.Cc(9,Gp,1,1,"ng-template",null,10,c.Dc),c.Pb()}if(2&t){var i=e.$implicit,o=c.sc(10),r=c.cc();c.Ab(2),c.ic("ngTemplateOutlet",o)("ngTemplateOutletContext",c.lc(8,$p,r.leftOptions)),c.Ab(2),c.ic("ngTemplateOutlet",o)("ngTemplateOutletContext",c.lc(10,$p,r.rightOptions)),c.Ab(1),c.ic("tabindex",r.isEditMode?0:-1),c.Bb("aria-label",i("close"))("aria-hidden",!r.isEditMode)("role",r.isEditMode?null:"none")}}function Wp(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",24,16),c.Zb("keydown.Enter",(function(t){c.vc(n);var i=e.$implicit,o=c.cc(2).option;return t.stopPropagation(),i.handler(o,i)}))("keydown.space",(function(t){c.vc(n);var i=e.$implicit,o=c.cc(2).option;return t.stopPropagation(),i.handler(o,i)}))("click",(function(t){c.vc(n);var i=e.$implicit,o=c.cc(2).option;return t.stopPropagation(),i.handler(o,i)})),c.Sb(2,"span",28),c.Ec(3,"A"),c.Rb(),c.Ec(4),c.Rb()}if(2&t){var i=e.$implicit,o=e.index,r=c.cc().$implicit,a=c.cc().option;c.Eb("active",i.isActive(a,i)),c.Ab(2),c.Eb("text-bg",0===o)("text-shadow",1===o),c.Ab(2),c.Gc(" ",r(i.title)," ")}}function qp(t,e){if(1&t&&(c.Qb(0),c.Sb(1,"app-dropdown-menu",27),c.Cc(2,Wp,5,7,"div",23),c.Rb(),c.Pb()),2&t){var n=c.cc().option;c.Ab(2),c.ic("ngForOf",n.dropdownItems)}}function Yp(t,e){1&t&&c.Cc(0,qp,3,1,"ng-container",0),2&t&&c.ic("translocoRead","editBar")}function Kp(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",32,16),c.Zb("keydown.space",(function(){c.vc(n);var t=e.$implicit;return c.cc(2).selectPalette(t)}))("keydown.Enter",(function(){c.vc(n);var t=e.$implicit;return c.cc(2).selectPalette(t)}))("click",(function(){c.vc(n);var t=e.$implicit;return c.cc(2).selectPalette(t)})),c.Rb()}if(2&t){var i=e.$implicit;c.Ac("background-color",i),c.Bb("aria-label",i)}}function Qp(t,e){if(1&t&&(c.Sb(0,"app-dropdown-menu",29),c.Sb(1,"div",30),c.Cc(2,Kp,2,3,"div",31),c.Rb(),c.Rb()),2&t){var n=e.option;c.Ab(2),c.ic("ngForOf",n.colors)}}function Jp(t,e){if(1&t){var n=c.Tb();c.Sb(0,"img",46,16),c.Zb("keydown.Enter",(function(){c.vc(n);var t=e.$implicit;return c.cc(4).selectWallpaper("image",t.link)}))("keydown.space",(function(t){c.vc(n);var i=e.$implicit,o=c.cc(4);return t.preventDefault(),o.selectWallpaper("image",i.link)}))("click",(function(){c.vc(n);var t=e.$implicit;return c.cc(4).selectWallpaper("image",t.link)})),c.Rb()}if(2&t){var i=e.$implicit,o=c.cc(2).$implicit;c.ic("src",i.display,c.xc)("alt",o("imageLabels.wallpaper."+i.key))}}function Xp(t,e){if(1&t&&(c.Sb(0,"div",43,44),c.Cc(2,Jp,2,2,"img",45),c.Rb()),2&t){var n=c.cc(3);c.Ab(2),c.ic("ngForOf",n.wallpapers)("ngForTrackBy",n.wallpaperTrackBy)}}function tu(t,e){if(1&t){var n=c.Tb();c.Sb(0,"input",51,52),c.Zb("change",(function(){return c.vc(n),c.cc(4).onImageUpload()})),c.Rb()}}function eu(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",53,16),c.Zb("keydown.space",(function(t){c.vc(n);var e=c.cc(4);return t.preventDefault(),e.clickInput()}))("keydown.Enter",(function(){return c.vc(n),c.cc(4).clickInput()}))("click",(function(){return c.vc(n),c.cc(4).clickInput()})),c.Nb(2,"i",54),c.Rb()}}function nu(t,e){if(1&t){var n=c.Tb();c.Sb(0,"img",55,16),c.Zb("keydown.Enter",(function(){c.vc(n);var t=e.$implicit;return c.cc(4).selectWallpaper("image",t.link)}))("keydown.space",(function(t){c.vc(n);var i=e.$implicit,o=c.cc(4);return t.preventDefault(),o.selectWallpaper("image",i.link)}))("click",(function(){c.vc(n);var t=e.$implicit;return c.cc(4).selectWallpaper("image",t.link)})),c.Rb()}if(2&t){var i=e.$implicit,o=c.cc(2).$implicit;c.ic("alt",o("editBar.customWallpaper"))("src",i.display,c.xc)}}function iu(t,e){if(1&t&&(c.Sb(0,"div",47,44),c.Cc(2,tu,2,0,"input",48),c.Cc(3,eu,3,0,"div",49),c.Cc(4,nu,2,2,"img",50),c.Rb()),2&t){var n=c.cc(3);c.Ab(2),c.ic("ngIf",n.settings.userInfo.roleLevel<=1),c.Ab(1),c.ic("ngIf",n.settings.userInfo.roleLevel<=1),c.Ab(1),c.ic("ngForOf",n.customWallpapers)("ngForTrackBy",n.wallpaperTrackBy)}}function ou(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",56,44),c.Sb(2,"span",57),c.Zb("clColorPickerChange",(function(t){return c.vc(n),c.cc(3).wallpaperColor=t}))("clColorPickerChange",(function(){return c.vc(n),c.cc(3).onColorChange()})),c.Rb(),c.Rb()}if(2&t){var i=c.cc(3);c.Ab(2),c.ic("clColorPicker",i.wallpaperColor)("cpSaveClickOutside",!1)("cpWidth","330px")("cpDialogDisplay","inline")("cpToggle",!0)("cpUseRootViewContainer",!0)}}function ru(t,e){if(1&t){var n=c.Tb();c.Qb(0),c.Sb(1,"app-dropdown-menu",34,16),c.Zb("click",(function(t){return c.vc(n),t.stopPropagation()})),c.Sb(3,"div",35),c.Sb(4,"button",36,37),c.Zb("keyup",(function(t){return c.vc(n),c.cc(2).nav(t,0)}))("keydown.tab",(function(){return c.vc(n),c.cc(2).focusPanel()}))("keydown.space",(function(){return c.vc(n),c.cc(2).wallpaperTab=0}))("click",(function(){return c.vc(n),c.cc(2).wallpaperTab=0})),c.Ec(6),c.Rb(),c.Sb(7,"button",38,37),c.Zb("keyup",(function(t){return c.vc(n),c.cc(2).nav(t,1)}))("keydown.tab",(function(){return c.vc(n),c.cc(2).focusPanel()}))("keydown.space",(function(){return c.vc(n),c.cc(2).wallpaperTab=1}))("click",(function(){return c.vc(n),c.cc(2).wallpaperTab=1})),c.Ec(9),c.Rb(),c.Sb(10,"button",39,37),c.Zb("keyup",(function(t){return c.vc(n),c.cc(2).nav(t,2)}))("keydown.tab",(function(){return c.vc(n),c.cc(2).focusPanel()}))("keydown.space",(function(){return c.vc(n),c.cc(2).wallpaperTab=2}))("click",(function(){return c.vc(n),c.cc(2).wallpaperTab=2})),c.Ec(12),c.Rb(),c.Rb(),c.Cc(13,Xp,3,2,"div",40),c.Cc(14,iu,5,4,"div",41),c.Cc(15,ou,3,6,"div",42),c.Rb(),c.Pb()}if(2&t){var i=e.$implicit,o=c.cc(2);c.Ab(4),c.Eb("active",0===o.wallpaperTab),c.Bb("aria-selected",0===o.wallpaperTab),c.Ab(2),c.Gc(" ",i("editBar.default")," "),c.Ab(1),c.Eb("active",1===o.wallpaperTab),c.Bb("aria-selected",1===o.wallpaperTab),c.Ab(2),c.Gc(" ",i("editBar.custom")," "),c.Ab(1),c.Eb("active",2===o.wallpaperTab),c.Bb("aria-selected",2===o.wallpaperTab),c.Ab(2),c.Gc(" ",i("editBar.color")," "),c.Ab(1),c.ic("ngIf",0===o.wallpaperTab),c.Ab(1),c.ic("ngIf",1===o.wallpaperTab),c.Ab(1),c.ic("ngIf",2===o.wallpaperTab)}}function au(t,e){1&t&&c.Cc(0,ru,16,15,"ng-container",33)}var su=function(){function t(t,e,n,i,o,r,a,s,l,p,u,d){var b=this;this.cdr=t,this.renderer=e,this.appsHelper=n,this.nodeApi=i,this.settingService=o,this.sessionService=r,this.utilsService=a,this.translationHelper=s,this.settingsHelper=l,this.menuHelper=p,this.viewContainerRef=u,this.updateFocus=new c.n,this.ariaHiddenAttr=!0,this.activeOptions={},this.visibleMenus={},this.isEditMode=!1,this.wallpaperTab=0,this.Themes=pt.a,this.leftOptions=[{icon:"far fa-folder-plus",title:"newFolder",show:function(){return!0},handler:function(){b.appsHelper.folderCreated.next(void 0),b.appsHelper.folderCreatorVisibleChanged.next(!0)}}],this.rightOptions=[{icon:"far fa-brush",title:"theme",show:function(){return b.settings.userInfo.canSetTheme},settingsKey:"theme",dropdownItems:[{title:"classic",icon:"far fa-user",settingsVal:1},{title:"primary",icon:"far fa-child",settingsVal:2},{title:"professional",icon:"far fa-user-tie",settingsVal:3}]},{icon:"far fa-weight",title:"appSize",show:function(){return b.settings&&b.settings.customUISettings.theme!==pt.a.Primary},settingsKey:"iconSize",dropdownItems:[{title:"small",icon:"far fa-square",settingsVal:"small",iconStyles:{"font-size.px":16}},{title:"default",icon:"far fa-square",settingsVal:"medium",iconStyles:{"font-size.px":20}},{title:"large",icon:"far fa-square",settingsVal:"large",iconStyles:{"font-size.px":24}}]},{icon:"far fa-lightbulb",title:"fontStyle",show:function(){return b.settings&&b.settings.customUISettings.theme===pt.a.Default},settingsKey:"fontBackgroundTreatment",dropdownItems:[{title:"textBackground",icon:"fas fa-font",settingsVal:"solid-block"},{title:"textShadow",icon:"fas fa-font",settingsVal:"text-shadow"}]},{icon:"far fa-palette",title:"palette",show:function(){return b.settings&&b.settings.customUISettings.theme!==pt.a.Primary},colors:["#0054FF","#00D796","#2BA700","#B1AA00","#D78100","#D72700","#D7005A","#D300D7","#7800D7","#5A32FB","#081163","#062638","#082B1F","#24230B","#2C0D06","#434343","#313131","#171717"]},{icon:"far fa-paint-roller",title:"customWallpaper",show:function(){return b.desktopSettings&&b.desktopSettings.is_allow_change_wallpaper&&b.settings&&b.settings.customUISettings.theme===pt.a.Default}}],this.wallpaperColor="#000000",this.sidenavCollapsed=!1,this.subscriptions=[],this.subscriptions[0]=d.documentClicked.subscribe((function(t){return b.closeOptions()})),this.subscriptions[1]=r.settingsUpdated.subscribe((function(t){b.settings=t,"color"===t.customUISettings.backgroundType&&(b.wallpaperColor=t.customUISettings.backgroundValue)})),this.subscriptions[2]=n.editModeChanged.subscribe((function(t){b.isEditMode=t,b.ariaHiddenAttr=!t,t&&b.optionList.toArray()[0].nativeElement.focus()})),this.subscriptions[3]=l.desktopSettingsUpdated.subscribe((function(t){return b.desktopSettings=t})),this.subscriptions[4]=l.sidenavCollapseChanged.subscribe((function(t){return b.sidenavCollapsed=t})),this.subscriptions[5]=r.gwsTokenSet.subscribe((function(){return b.getAllWallpapers()})),this.handles=this.rightOptions.map((function(t){return b.menuHelper.registerMenu((function(){return b.visibleMenus[t.title]=!1}))})),this.attachHandlers(this.rightOptions)}return t.prototype.attachHandlers=function(t){for(var e=0,n=t;e<n.length;e++){var i=n[e];if(i.handler=this.handleOptionClick.bind(this),i.dropdownItems)for(var o=0,r=i.dropdownItems;o<r.length;o++)(c=r[o]).handler=this.handleItemClick.bind(this),c.isActive=this.isItemActive.bind(this);if(i.options)for(var a=0,s=i.options;a<s.length;a++){var c;(c=s[a]).handler=this.handleItemClick.bind(this),c.isActive=this.isItemActive.bind(this)}}},t.prototype.ngAfterViewInit=function(){this.rightOptions[2].dropdownTemplate=this.fontStyleRef,this.rightOptions[3].dropdownTemplate=this.paletteRef,this.rightOptions[4].dropdownTemplate=this.wallpaperRef,this.backgroundElement=document.querySelector("#background-container"),this.cdr.detectChanges(),this.optionList.length&&this.optionList.toArray()[0].nativeElement.focus()},t.prototype.ngOnDestroy=function(){this.subscriptions.forEach((function(t){return t.unsubscribe()})),this.wallpaperTimer&&this.wallpaperTimer.unsubscribe()},t.prototype.getAmountDisplayedOptions=function(t){return P()(t,(function(t){return t.show()})).length},t.prototype.showTitleTooltip=function(){return this.settings&&this.settings.customUISettings.theme===pt.a.Professional},t.prototype.getDirection=function(){return this.settings&&this.settings.customUISettings.theme===pt.a.Professional?this.sidenavCollapsed?"right":"top":"bottom"},t.prototype.getOffset=function(){return this.settings&&this.settings.customUISettings.theme===pt.a.Professional?this.sidenavCollapsed?{top:-5,left:-5}:{top:2.5,left:-2.5}:void 0},t.prototype.getAllWallpapers=function(){var t=this;this.nodeApi.getWallpaperLinks().subscribe((function(e){return t.wallpapers=e})),this.nodeApi.getCustomWallpaperLinks().subscribe((function(e){return t.customWallpapers=e}))},t.prototype.toggleEditMode=function(){this.appsHelper.editModeChanged.next(!this.isEditMode)},t.prototype.handleOptionClick=function(t,e,n){n.stopPropagation(),this.visibleMenus[t.title]=!this.visibleMenus[t.title],this.menuHelper.closeAllOtherMenus(this.handles[e])},t.prototype.handleItemClick=function(t,e){this.menuHelper.closeAllMenus(),this.activeOptions[t.title]=e.title,"theme"===t.settingsKey&&this.settings.customUISettings.theme!==e.settingsVal&&this.settingsHelper.themeUpdated.next(e.settingsVal),this.settings.customUISettings[t.settingsKey]=e.settingsVal,this.setSettings()},t.prototype.isItemActive=function(t,e){return this.settings&&this.settings.customUISettings[t.settingsKey]===e.settingsVal},t.prototype.closeOptions=function(){for(var t=0,e=Object.keys(this.visibleMenus);t<e.length;t++)this.visibleMenus[e[t]]=!1},t.prototype.selectPalette=function(t){this.settings.customUISettings.paletteColor=t,this.setSettings()},t.prototype.selectWallpaper=function(t,e){this.settings.customUISettings.backgroundType=t,this.settings.customUISettings.backgroundValue=e,this.setSettings()},t.prototype.onColorChange=function(){var t=this;this.renderer.setStyle(this.backgroundElement,"background-color",this.wallpaperColor),this.wallpaperTimer&&this.wallpaperTimer.unsubscribe(),this.wallpaperTimer=Object(u.a)(200).subscribe((function(){return t.selectWallpaper("color",t.wallpaperColor)}))},t.prototype.setSettings=function(){this.sessionService.setSettings(this.settings),this.settingService.setSettings(this.settings).subscribe((function(t){}))},t.prototype.wallpaperTrackBy=function(t,e){return e.link},t.prototype.clickInput=function(){this.fileInput.nativeElement.click()},t.prototype.onImageUpload=function(){var t=this,e=this.settingsHelper.onImageUpload(this.fileInput.nativeElement);e&&e.subscribe((function(e){return t.customWallpapers=e}))},t.prototype.nav=function(t,e){var n,i=this.tabElements.toArray();if("ArrowRight"===t.key)n=e===i.length-1?0:e+1;else{if("ArrowLeft"!==t.key)return;n=0===e?i.length-1:e-1}i[e].nativeElement.tabIndex="-1",i[n].nativeElement.tabIndex="0",i[n].nativeElement.focus()},t.prototype.focusPanel=function(){for(var t=this.tabElements.toArray(),e=0;e<t.length;e++)t[e].nativeElement.tabIndex=e===this.wallpaperTab?0:-1;this.tabPanel.nativeElement.focus()},t.\u0275fac=function(e){return new(e||t)(c.Mb(c.h),c.Mb(c.E),c.Mb(p.a),c.Mb(l.a),c.Mb(xe.a),c.Mb(A.a),c.Mb(ht.a),c.Mb(J.a),c.Mb(M.a),c.Mb(gt),c.Mb(c.P),c.Mb(vt.z))},t.\u0275cmp=c.Gb({type:t,selectors:[["app-edit-bar"]],viewQuery:function(t,e){var n;1&t&&(c.Jc(kp,!0),c.Jc(_p,!0),c.zc(Rp,!0,c.L),c.zc(Ip,!0,c.L),c.zc(Tp,!0,c.L),c.Jc(Ep,!0),c.Jc(Fp,!0,c.l)),2&t&&(c.rc(n=c.ac())&&(e.fileInput=n.first),c.rc(n=c.ac())&&(e.tabPanel=n.first),c.rc(n=c.ac())&&(e.paletteRef=n.first),c.rc(n=c.ac())&&(e.fontStyleRef=n.first),c.rc(n=c.ac())&&(e.wallpaperRef=n.first),c.rc(n=c.ac())&&(e.tabElements=n),c.rc(n=c.ac())&&(e.optionList=n))},hostVars:1,hostBindings:function(t,e){2&t&&c.Bb("aria-hidden",e.ariaHiddenAttr)},outputs:{updateFocus:"updateFocus"},decls:7,vars:1,consts:[[4,"transloco","translocoRead"],["fontStyle",""],["palette",""],["wallpaper",""],[1,"left-options"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"right-options"],["id","editbar-close",1,"close",3,"tabindex","focus","click"],[1,"far","fa-times"],["title",""],["option",""],[1,"cl-tooltip"],[4,"ngFor","ngForOf"],["class","option-ctnr",4,"ngIf"],[1,"option-ctnr"],["clItem","","aria-haspopup","true",1,"option","flex-start-center",3,"id","tabindex","clTooltipContext","clTooltipPositionOffset","clTooltip","clTooltipDirection","focus","keydown.Space","keydown.Enter","click"],["focusable",""],[1,"flex-start-center"],[3,"id"],[4,"ngIf"],[4,"ngIf","ngIfElse"],["generic",""],[1,"show-triangle",3,"ngClass"],["class","dropdown-item","role","button","tabindex","0",3,"active","keydown.Enter","keydown.space","click",4,"ngFor","ngForOf"],["role","button","tabindex","0",1,"dropdown-item",3,"keydown.Enter","keydown.space","click"],[1,"icon-ctnr",3,"ngClass"],[3,"ngStyle"],[1,"show-triangle","font-style"],[1,"icon-ctnr"],["role","menu",1,"show-triangle","palette"],[1,"color-ctnr","flex-start"],["class","color cl-focusable","role","button menuitem","tabindex","0",3,"background-color","keydown.space","keydown.Enter","click",4,"ngFor","ngForOf"],["role","button menuitem","tabindex","0",1,"color","cl-focusable",3,"keydown.space","keydown.Enter","click"],[4,"transloco"],[1,"show-triangle","wallpaper",3,"click"],["role","tablist","aria-labelledby","Custom Wallpaper",1,"tabs","flex-start-center"],["role","tab","tabindex","0","id","defaultTab","aria-controls","defaultPanel",3,"keyup","keydown.tab","keydown.space","click"],["tabitem",""],["role","tab","tabindex","-1","id","customTab","aria-controls","customPanel",3,"keyup","keydown.tab","keydown.space","click"],["role","tab","aria-controls","colorPanel","id","colorTab","tabindex","-1",3,"keyup","keydown.tab","keydown.space","click"],["id","defaultPanel","class","wallpaper flex-start custom-scroll","role","tabpanel","aria-labelledby","defaultTab",4,"ngIf"],["id","customPanel","class","wallpaper flex-start custom-scroll","role","tabpanel","aria-labelledby","customTab",4,"ngIf"],["id","colorPanel","role","tabpanel","aria-labelledby","colorTab",4,"ngIf"],["id","defaultPanel","role","tabpanel","aria-labelledby","defaultTab",1,"wallpaper","flex-start","custom-scroll"],["tabpanel",""],["role","button","tabindex","0",3,"src","alt","keydown.Enter","keydown.space","click",4,"ngFor","ngForOf","ngForTrackBy"],["role","button","tabindex","0",3,"src","alt","keydown.Enter","keydown.space","click"],["id","customPanel","role","tabpanel","aria-labelledby","customTab",1,"wallpaper","flex-start","custom-scroll"],["type","file","accept",".jpg, .jpeg, .png",3,"change",4,"ngIf"],["role","button","tabindex","0","class","upload-placeholder flex-center",3,"keydown.space","keydown.Enter","click",4,"ngIf"],["role","button","tabindex","0",3,"alt","src","keydown.Enter","keydown.space","click",4,"ngFor","ngForOf","ngForTrackBy"],["type","file","accept",".jpg, .jpeg, .png",3,"change"],["fileInput",""],["role","button","tabindex","0",1,"upload-placeholder","flex-center",3,"keydown.space","keydown.Enter","click"],[1,"far","fa-plus"],["role","button","tabindex","0",3,"alt","src","keydown.Enter","keydown.space","click"],["id","colorPanel","role","tabpanel","aria-labelledby","colorTab"],[1,"inline-picker",3,"clColorPicker","cpSaveClickOutside","cpWidth","cpDialogDisplay","cpToggle","cpUseRootViewContainer","clColorPickerChange"]],template:function(t,e){1&t&&(c.Cc(0,Zp,11,12,"ng-container",0),c.Cc(1,Yp,1,1,"ng-template",null,1,c.Dc),c.Cc(3,Qp,3,1,"ng-template",null,2,c.Dc),c.Cc(5,au,1,0,"ng-template",null,3,c.Dc)),2&t&&c.ic("translocoRead","editBar")},directives:[ct.c,i.o,i.j,i.k,vt.C,vt.P,Tn,i.i,i.l,vt.g],styles:["[_nghost-%COMP%]{position:absolute;top:0;left:0;display:-ms-flexbox;display:flex;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-pack:start;justify-content:flex-start;-ms-flex-align:center;align-items:center;width:100%;height:50px;-ms-flex:0 0 50px;flex:0 0 50px;padding:5px 20px;background-color:var(--color-white);transition:transform .2s ease-in-out;pointer-events:none;z-index:201}.move-down[_nghost-%COMP%]{pointer-events:all;-ms-transform:translateY(50px);transform:translateY(50px)}.box-shadow[_nghost-%COMP%]{box-shadow:0 0 20px rgba(0,0,0,.1)}[_nghost-%COMP%] > button.close[_ngcontent-%COMP%]{position:relative;width:30px;height:30px;top:0;left:0;padding:5px}.left-options[_ngcontent-%COMP%], .right-options[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-pack:start;justify-content:flex-start;-ms-flex-align:center;align-items:center;height:100%;width:auto}.left-options[_ngcontent-%COMP%]{margin-right:auto}.divider[_ngcontent-%COMP%]{margin-left:auto;width:0;height:0}.option-ctnr[_ngcontent-%COMP%]{position:relative;margin-right:10px}.option-ctnr[_ngcontent-%COMP%]:last-child{margin-right:0}.option-ctnr[_ngcontent-%COMP%]   .option[_ngcontent-%COMP%]{padding:5px 10px;font-size:calc(var(--font-modifier) * 12px);font-weight:700;border-radius:5px;color:var(--color-dark)}.option-ctnr[_ngcontent-%COMP%]   .option[_ngcontent-%COMP%]:hover{background-color:var(--color-bg-dark);box-shadow:inset 0 0 1px var(--color-medium)}.option-ctnr[_ngcontent-%COMP%]   .option[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:30px;height:100%}.option-ctnr[_ngcontent-%COMP%]   .option[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{font-size:20px}.option-ctnr[_ngcontent-%COMP%]   app-dropdown-menu[_ngcontent-%COMP%]{width:auto;top:39px;padding:20px;max-height:60vh;height:auto}.option-ctnr[_ngcontent-%COMP%]   app-dropdown-menu[_ngcontent-%COMP%]:before{left:40px}.option-ctnr[_ngcontent-%COMP%]   app-dropdown-menu.palette[_ngcontent-%COMP%]{left:unset;right:0;width:232px}.option-ctnr[_ngcontent-%COMP%]   app-dropdown-menu.palette[_ngcontent-%COMP%]:before{left:unset;right:25px}.option-ctnr[_ngcontent-%COMP%]   app-dropdown-menu.wallpaper[_ngcontent-%COMP%]{left:unset;right:0;width:390px;height:300px}.option-ctnr[_ngcontent-%COMP%]   app-dropdown-menu.wallpaper[_ngcontent-%COMP%]:before{left:unset;right:25px}.option-ctnr[_ngcontent-%COMP%]   app-dropdown-menu.last[_ngcontent-%COMP%], .option-ctnr[_ngcontent-%COMP%]   app-dropdown-menu.last[_ngcontent-%COMP%]:before{left:unset;right:20px}.option-ctnr[_ngcontent-%COMP%]   app-dropdown-menu.font-style[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]   .icon-ctnr[_ngcontent-%COMP%]{font-size:calc(var(--font-modifier) * 22px);width:auto;margin-right:10px;padding:2px 5px}@media only screen and (max-width:515px){button.option[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{display:none}}"]}),t}();function cu(t,e){if(1&t&&(c.Qb(0),c.Nb(1,"img",6),c.Pb()),2&t){var n=c.cc().$implicit,i=c.cc();c.Ab(1),c.ic("src",i.APP_CONFIG.fileCdnUrl+"/"+i.settings.tenantSettings.customLogo,c.xc)("alt",n("logoAlt"))}}function lu(t,e){if(1&t&&c.Nb(0,"img",7),2&t){var n=c.cc().$implicit;c.ic("src","assets/images/classlink-logo-invert.svg",c.xc)("alt",n("logoAlt"))}}function pu(t,e){if(1&t&&(c.Qb(0),c.Cc(1,cu,2,2,"ng-container",4),c.Cc(2,lu,1,2,"ng-template",null,5,c.Dc),c.Sb(4,"h1"),c.Ec(5),c.Rb(),c.Pb()),2&t){var n=c.sc(3),i=c.cc();c.Ab(1),c.ic("ngIf",i.settings&&i.settings.tenantSettings.customLogo)("ngIfElse",n),c.Ab(4),c.Fc(i.settings&&i.settings.tenantSettings.customText?i.settings.tenantSettings.customText:"LaunchPad")}}function uu(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",12),c.Zb("click",(function(t){return c.vc(n),c.cc(2).openAppLibrary(t)}))("keydown.Enter",(function(t){return c.vc(n),c.cc(2).openAppLibrary(t)})),c.Nb(1,"i",13),c.Sb(2,"p"),c.Ec(3),c.Rb(),c.Rb()}if(2&t){var i=c.cc().$implicit;c.Bb("aria-label",i("openAppLibrary")),c.Ab(3),c.Fc(i("addApps"))}}function du(t,e){if(1&t){var n=c.Tb();c.Qb(0),c.Cc(1,uu,4,2,"div",8),c.Sb(2,"div",9),c.Zb("click",(function(){return c.vc(n),c.cc().toggleEditMode()}))("keydown.Enter",(function(){return c.vc(n),c.cc().toggleEditMode()})),c.Nb(3,"i",10),c.Sb(4,"p"),c.Ec(5),c.Rb(),c.Rb(),c.Sb(6,"app-edit-bar",11),c.Zb("updateFocus",(function(t){return c.vc(n),c.cc().updateDescendant(t)})),c.Rb(),c.Pb()}if(2&t){var i=e.$implicit,o=c.cc();c.Ab(1),c.ic("ngIf",o.appLibraryStatus&&o.appLibraryStatus.IsResourceLibraryEnabled),c.Ab(1),c.Eb("active",o.isEditMode),c.Bb("aria-label",i("editMode")),c.Ab(3),c.Fc(i("editMode")),c.Ab(1),c.Eb("move-down",o.isEditMode)("show-overflow",o.delayWaited),c.Bb("aria-activedescendant",o.activeOpt)}}var bu=function(t){return{"margin-bottom.px":t}};function gu(t,e){if(1&t&&(c.Sb(0,"div",15),c.Sb(1,"p"),c.Ec(2),c.Rb(),c.Rb()),2&t){var n=c.cc(2);c.ic("ngStyle",c.lc(2,bu,n.settings.tenantSettings.isEnabledSeasonalAnimation?75:0)),c.Ab(2),c.Fc(n.version)}}function fu(t,e){if(1&t&&(c.Qb(0),c.Cc(1,gu,3,4,"div",14),c.Pb()),2&t){var n=c.cc();c.Ab(1),c.ic("ngIf","PROD"!==n.version)}}var hu=function(){function t(t,e,n,i,o,r){var a=this;this.sessionService=t,this.appsHelper=e,this.appLibHelper=n,this.settingsService=i,this.settingsHelper=o,this.slideoverService=r,this.collapsedClass=!1,this.APP_CONFIG=K.a,this.isCollapsed=!1,this.isEditMode=!1,this.delayWaited=!1,this.activeOpt=null,this.subscriptions=[],this.subscriptions[0]=t.settingsUpdated.subscribe((function(t){return a.onSettingsUpdate(t)})),this.subscriptions[1]=e.editModeChanged.subscribe((function(t){return a.onEditChange(t)})),this.subscriptions[2]=n.appLibraryStatusUpdated.subscribe((function(t){return a.appLibraryStatus=t})),this.subscriptions[3]=o.dropdownItemsCreated.subscribe((function(t){return a.onDropdownItemsCreated(t)})),this.version=K.a.version}return t.prototype.ngOnDestroy=function(){this.subscriptions.forEach((function(t){return t.unsubscribe()}))},t.prototype.onEditChange=function(t){var e=this;this.isEditMode=t,this.delayWaited=!1;var n=Object(u.a)(200).subscribe((function(){e.delayWaited=t,n.unsubscribe()}))},t.prototype.onCollapsedChange=function(t){this.collapsedClass=t,this.settingsHelper.sidenavCollapseChanged.next(t)},t.prototype.onSettingsUpdate=function(t){this.settings=t},t.prototype.onDropdownItemsCreated=function(t){this.links=t.map((function(t){return{title:t.title,icon:t.customIcon?void 0:t.icon,route:t.link,handler:t.handler,customIcon:t.icon?void 0:t.customIcon+"_white.svg"}}))},t.prototype.toggleEditMode=function(){this.isEditMode=!this.isEditMode,this.appsHelper.editModeChanged.next(this.isEditMode)},t.prototype.setHighContrast=function(){var t=this;this.settingsService.setSettings(this.settings).subscribe((function(e){t.sessionService.setSettings(t.settings)}))},t.prototype.openAppLibrary=function(t){this.slideoverService.appLibrary.opened.next(null==t?void 0:t.target)},t.prototype.updateDescendant=function(t){this.activeOpt=t},t.\u0275fac=function(e){return new(e||t)(c.Mb(A.a),c.Mb(p.a),c.Mb(tt),c.Mb(xe.a),c.Mb(M.a),c.Mb(z.a))},t.\u0275cmp=c.Gb({type:t,selectors:[["app-sidenav"]],hostVars:2,hostBindings:function(t,e){2&t&&c.Eb("collapsed",e.collapsedClass)},decls:6,vars:5,consts:[[3,"collapsed","routes","collapsedChange"],[1,"logo"],[4,"transloco","translocoRead"],[1,"menu-options","flex-start","column-nowrap"],[4,"ngIf","ngIfElse"],["defaultLogo",""],["onerror","this.src = 'assets/images/classlink-logo-invert.svg'",3,"src","alt"],[3,"src","alt"],["role","button","tabindex","0",3,"click","keydown.Enter",4,"ngIf"],["role","button","tabindex","0",1,"edit-mode",3,"click","keydown.Enter"],[1,"far","fa-edit"],["role","menubar","aria-label","A menu with shortcuts to customizable options",3,"updateFocus"],["role","button","tabindex","0",3,"click","keydown.Enter"],[1,"far","fa-plus-circle"],["class","version-ctnr",3,"ngStyle",4,"ngIf"],[1,"version-ctnr",3,"ngStyle"]],template:function(t,e){1&t&&(c.Sb(0,"cl-sidenav",0),c.Zb("collapsedChange",(function(t){return e.isCollapsed=t}))("collapsedChange",(function(t){return e.onCollapsedChange(t)})),c.Sb(1,"div",1),c.Cc(2,pu,6,3,"ng-container",2),c.Rb(),c.Sb(3,"div",3),c.Cc(4,du,7,10,"ng-container",2),c.Rb(),c.Cc(5,fu,2,1,"ng-container",2),c.Rb()),2&t&&(c.ic("collapsed",e.isCollapsed)("routes",e.links),c.Ab(2),c.ic("translocoRead","header"),c.Ab(2),c.ic("translocoRead","header"),c.Ab(1),c.ic("translocoRead","header"))},directives:[vt.H,ct.c,i.k,su,i.l],styles:['[_nghost-%COMP%]   .logo[_ngcontent-%COMP%]{cursor:auto}[_nghost-%COMP%]   .logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:40px;margin-right:20px}[_nghost-%COMP%]   .logo[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-weight:800;word-break:break-all;word-break:break-word}[_nghost-%COMP%]   .menu-options[_ngcontent-%COMP%]{height:auto;padding:20px 0;margin-bottom:20px;border-bottom:1px solid hsla(0,0%,100%,.2)}[_nghost-%COMP%]   .menu-options[_ngcontent-%COMP%]   div[role=button][_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-pack:start;justify-content:flex-start;-ms-flex-align:center;align-items:center;position:relative;left:-20px;width:calc(100% + 40px);text-align:left;height:40px;color:var(--color-white);padding:0 20px;opacity:.8}[_nghost-%COMP%]   .menu-options[_ngcontent-%COMP%]   div[role=button][_ngcontent-%COMP%]   .notifications-number[_ngcontent-%COMP%]{right:unset;left:30px}[_nghost-%COMP%]   .menu-options[_ngcontent-%COMP%]   div[role=button][_ngcontent-%COMP%]:after{content:"";position:absolute;border:2px solid var(--color-white);width:4px;height:40px;opacity:0;top:0;left:0;border-radius:5px;pointer-events:none;-webkit-animation:none;animation:none}[_nghost-%COMP%]   .menu-options[_ngcontent-%COMP%]   div[role=button].active[_ngcontent-%COMP%]:after, [_nghost-%COMP%]   .menu-options[_ngcontent-%COMP%]   div[role=button][_ngcontent-%COMP%]:focus, [_nghost-%COMP%]   .menu-options[_ngcontent-%COMP%]   div[role=button][_ngcontent-%COMP%]:focus:after, [_nghost-%COMP%]   .menu-options[_ngcontent-%COMP%]   div[role=button][_ngcontent-%COMP%]:hover{opacity:1}[_nghost-%COMP%]   .menu-options[_ngcontent-%COMP%]   div[role=button].edit-mode.active[_ngcontent-%COMP%]:after{height:90px}[_nghost-%COMP%]   .menu-options[_ngcontent-%COMP%]   div[role=button][_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:20px;font-size:20px;margin-right:20px;color:var(--color-white)}[_nghost-%COMP%]   .menu-options[_ngcontent-%COMP%]   div[role=button][_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:calc(var(--font-modifier) * 13px);font-weight:600;color:var(--color-white)}[_nghost-%COMP%]   cl-slide-toggle[_ngcontent-%COMP%]{margin-top:auto}[_nghost-%COMP%]   .version-ctnr[_ngcontent-%COMP%]{margin-top:20px}.collapsed[_nghost-%COMP%]   .logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin:0}.collapsed[_nghost-%COMP%]   .menu-options[_ngcontent-%COMP%]   div[role=button][_ngcontent-%COMP%]{-ms-flex-pack:center;justify-content:center}.collapsed[_nghost-%COMP%]   .menu-options[_ngcontent-%COMP%]   div[role=button].edit-mode.active[_ngcontent-%COMP%]:after{height:266px}.collapsed[_nghost-%COMP%]   .menu-options[_ngcontent-%COMP%]   div[role=button][_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{display:none}.collapsed[_nghost-%COMP%]   .menu-options[_ngcontent-%COMP%]   div[role=button][_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{margin:0}']}),t}(),mu=function(){return function(t){this.id=t.id,this.title=t.title,this.always_show=t.showAlways,this.read=!!t.isRead,this.created_on=Y()(t.tmStart).format(),this.message=t.body,this.messageMarkup=t.body,this.isNotificationApi=!0}}(),vu=function(){function t(t,e,n){var i=this;this.sessionService=t,this.nodeApi=e,this.notificationsService=n,this.notificationsUpdated=new V.a(1),this.visibilitySet=new V.a(1),this.visible=!1,this.tokensSet=new T.a({gws:!1,bearer:!1}),this.subscriptions=[],this.subscriptions[0]=t.gwsTokenSet.subscribe((function(){return i.getNotifications()})),this.subscriptions[2]=this.visibilitySet.subscribe((function(t){return i.visible=t}))}return t.prototype.ngOnDestroy=function(){this.subscriptions.forEach((function(t){return t.unsubscribe()}))},t.prototype.getNotifications=function(){var t=this,e=this.nodeApi.getNotifications().pipe(Object(Sa.a)((function(t){return Object(et.a)([])}))),n=this.notificationsService.getUserNotifications().pipe(Object(Sa.a)((function(t){return Object(et.a)([])})));Object(E.a)({nodeApi:e,newApi:n}).subscribe((function(e){var n=e.nodeApi,i=e.newApi,o=[];i.length>0&&(o=i.map((function(t){return new mu(t)}))),o.push.apply(o,n),o.sort((function(t,e){return Y()(t.created_on).isAfter(Y()(e.created_on))?-1:Y()(t.created_on).isBefore(Y()(e.created_on))?1:0})),t.notificationsUpdated.next(o)}))},t.prototype.toggleVisibility=function(){this.visibilitySet.next(!this.visible)},t.\u0275fac=function(e){return new(e||t)(c.Wb(A.a),c.Wb(l.a),c.Wb(Pn))},t.\u0275prov=c.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),yu=n("kGJw"),Cu=n.n(yu),wu=n("TYy9"),xu=n.n(wu),Pu=n("sEfC"),Su=n.n(Pu),Ou=n("VRyK");function Mu(t,e){1&t&&(c.Qb(0),c.Sb(1,"span"),c.Nb(2,"i",7),c.Rb(),c.Pb())}function Au(t,e){if(1&t){var n=c.Tb();c.Sb(0,"span"),c.Nb(1,"i",7),c.Rb(),c.Sb(2,"p"),c.Ec(3),c.Rb(),c.Sb(4,"button",8),c.Zb("click",(function(t){c.vc(n);var e=c.cc(3);return e.selectedTagId=void 0,e.onTagSelect(),t.stopPropagation()})),c.Nb(5,"i",9),c.Rb()}if(2&t){var i=c.cc().item,o=c.cc().$implicit;c.Ab(3),c.Fc(i.name),c.Ab(1),c.Bb("aria-label",o("removeActive"))}}function ku(t,e){if(1&t&&(c.Sb(0,"div",4),c.Cc(1,Mu,3,0,"ng-container",5),c.Cc(2,Au,6,2,"ng-template",null,6,c.Dc),c.Rb()),2&t){var n=e.item,i=c.sc(3);c.Ab(1),c.ic("ngIf",!n||-1===n.id)("ngIfElse",i)}}function _u(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",12),c.Zb("click",(function(t){c.vc(n);var e=c.cc().item;return c.cc(2).showTagCreator(e,t)})),c.Sb(1,"span",13),c.Nb(2,"i",14),c.Rb(),c.Sb(3,"p",13),c.Ec(4),c.Rb(),c.Rb()}if(2&t){var i=c.cc().item;c.Ab(4),c.Fc(null==i?null:i.name)}}function Ru(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",15),c.Sb(1,"p"),c.Ec(2),c.Rb(),c.Sb(3,"button",16),c.Zb("click",(function(t){c.vc(n);var e=c.cc().item;return c.cc(2).showTagCreator(e,t)})),c.Nb(4,"i",17),c.Rb(),c.Rb()}if(2&t){var i=c.cc().item,o=c.cc().$implicit;c.Ab(2),c.Fc(null==i?null:i.name),c.Ab(1),c.Bb("aria-label",o("edit"))}}function Iu(t,e){if(1&t&&(c.Cc(0,_u,5,1,"div",10),c.Cc(1,Ru,5,2,"div",11)),2&t){var n=e.item;c.ic("ngIf",-1===(null==n?null:n.id)),c.Ab(1),c.ic("ngIf",-1!==(null==n?null:n.id))}}var Tu=function(t){return{"has-selection":t}};function Eu(t,e){if(1&t){var n=c.Tb();c.Qb(0),c.Sb(1,"cl-dropdown",1),c.Zb("selectionChange",(function(t){return c.vc(n),c.cc().selectedTagId=t}))("selectionChange",(function(){return c.vc(n),c.cc().onTagSelect()})),c.Cc(2,ku,4,2,"ng-template",2),c.Cc(3,Iu,2,2,"ng-template",3),c.Rb(),c.Pb()}if(2&t){var i=c.cc();c.Ab(1),c.ic("ariaLabel",i.addTagString)("ngClass",c.lc(8,Tu,void 0!==i.selectedTagId))("options",i.tags)("selection",i.selectedTagId)("optionLabel","name")("showRemove",!1)("optionValue","id")("inline",!0)}}var Fu=function(){function t(t,e,n,i,o){var r=this;this.tagsService=t,this.tagsHelper=e,this.translationService=n,this.menuHelper=i,this.cdr=o,this.tags=[],this.addTagString="Add Tag",this.subscriptions=[],this.subscriptions[0]=this.tagsHelper.tagsUpdated.subscribe((function(t){if(r.tags=Object(R.e)([{id:-1,name:r.addTagString,apps:[]}],t),r.tagFilter){var e=j()(r.tags,(function(t){return t.id===r.tagFilter.id}));r.tagsHelper.tagFilterUpdated.next(e)}})),this.subscriptions[1]=this.tagsHelper.tagFilterUpdated.subscribe((function(t){r.tagFilter=t,r.selectedTagId=t?t.id:void 0})),this.subscriptions[2]=n.selectTranslate("addTag.add").subscribe((function(t){r.addTagString=t,r.tags[0]&&(r.tags[0].name=t)})),this.menuHelper.registerMenu((function(){return r.tagDropdown.hideDropdown()}))}return t.prototype.ngOnInit=function(){},t.prototype.ngOnDestroy=function(){this.subscriptions.forEach((function(t){return t.unsubscribe()}))},t.prototype.getTags=function(){var t=this;this.tagsService.getTags().subscribe((function(e){t.tagsHelper.tagsUpdated.next(e)}))},t.prototype.onTagSelect=function(){var t=this;if(-1===this.selectedTagId)this.showTagCreator(this.tags[0]),Object(u.a)(0).subscribe((function(){return t.selectedTagId=void 0}));else{var e=j()(this.tags,(function(e){return e.id===t.selectedTagId}));this.tagFilter=e,this.tagsHelper.tagFilterUpdated.next(e)}},t.prototype.showTagCreator=function(t,e){e&&e.stopPropagation(),this.tagDropdown.hideDropdown(),this.tagsHelper.tagCreated.next({tag:t&&-1!==t.id?t:void 0,app:void 0}),this.tagsHelper.tagModalVisibleChanged.next(!0)},t.\u0275fac=function(e){return new(e||t)(c.Mb(ut.a),c.Mb(k.a),c.Mb(ct.f),c.Mb(gt),c.Mb(c.h))},t.\u0275cmp=c.Gb({type:t,selectors:[["app-tag-dropdown"]],viewQuery:function(t,e){var n;1&t&&c.Jc(vt.n,!0),2&t&&c.rc(n=c.ac())&&(e.tagDropdown=n.first)},decls:1,vars:1,consts:[[4,"transloco","translocoRead"],[1,"tag-dropdown",3,"ariaLabel","ngClass","options","selection","optionLabel","showRemove","optionValue","inline","selectionChange"],["clTemplate","selectedItem"],["clTemplate","item"],[1,"flex-end-center","selection-template"],[4,"ngIf","ngIfElse"],["def",""],[1,"fas","fa-tag"],[1,"hover-button",3,"click"],[1,"far","fa-times"],["class","flex-start-center option-template add","role","menuitem",3,"click",4,"ngIf"],["class","flex-space-between-center option-template","role","menuitem",4,"ngIf"],["role","menuitem",1,"flex-start-center","option-template","add",3,"click"],[1,"color-primary"],[1,"far","fa-plus"],["role","menuitem",1,"flex-space-between-center","option-template"],[1,"edit-button","color-primary",3,"click"],[1,"far","fa-edit"]],template:function(t,e){1&t&&c.Cc(0,Eu,4,10,"ng-container",0),2&t&&c.ic("translocoRead","addTag")},directives:[ct.c,vt.n,i.i,vt.c,i.k],styles:["cl-dropdown[_ngcontent-%COMP%]{position:absolute;right:0;top:0;height:100%;max-width:150px;width:30%}cl-dropdown.has-selection[_ngcontent-%COMP%]   .selection-template[_ngcontent-%COMP%]{-ms-flex:0 0 138px;flex:0 0 138px;width:138px;max-width:138px;height:28px;padding:0 12px;border-radius:5px;left:6px;background-color:var(--color-primary)}cl-dropdown.has-selection[_ngcontent-%COMP%]   .selection-template[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:600;margin:0 10px;font-size:13px}cl-dropdown.has-selection[_ngcontent-%COMP%]   .selection-template[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], cl-dropdown.has-selection[_ngcontent-%COMP%]   .selection-template[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:var(--color-white)}cl-dropdown.has-selection[_ngcontent-%COMP%]   .selection-template[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0 0 0 auto;padding:0}cl-dropdown[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:100%}cl-dropdown[_ngcontent-%COMP%]   div.add[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{width:27px}cl-dropdown[_ngcontent-%COMP%]   div.add[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{font-size:20px;height:20px;width:20px}cl-dropdown[_ngcontent-%COMP%]   div.add[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px;font-weight:800;text-transform:uppercase}cl-dropdown[_ngcontent-%COMP%]   div.selection-template[_ngcontent-%COMP%]{position:relative}cl-dropdown[_ngcontent-%COMP%]   div.selection-template[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{max-width:145px}cl-dropdown[_ngcontent-%COMP%]   div.selection-template[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{margin:0}cl-dropdown[_ngcontent-%COMP%]   div.option-template[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--color-dark)}cl-dropdown[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .edit-button[_ngcontent-%COMP%]{display:none;width:18px;height:18px;padding:0;margin-left:5px}cl-dropdown[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .edit-button[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:18px;height:18px;margin-right:0}cl-dropdown[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{white-space:nowrap;text-overflow:ellipsis;overflow:hidden;line-height:normal}"]}),t}(),Du=n("6Kvy"),Nu=["closeButton"];function Lu(t,e){if(1&t&&(c.Qb(0),c.Sb(1,"h2"),c.Ec(2),c.Rb(),c.Pb()),2&t){var n=c.cc(2).$implicit;c.Ab(2),c.Fc(n("notifications.notifications"))}}function Hu(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",12),c.Sb(1,"button",13),c.Zb("click",(function(){return c.vc(n),c.cc(3).changeMaximized(-1)})),c.Nb(2,"i",14),c.Rb(),c.Sb(3,"div",15),c.Sb(4,"h2"),c.Ec(5),c.dc(6,"title"),c.Rb(),c.Sb(7,"p"),c.Ec(8),c.Rb(),c.Rb(),c.Rb()}if(2&t){var i=c.cc(2).$implicit,o=c.cc();c.Ab(1),c.Bb("aria-label",i("common.goBack")),c.Ab(4),c.Fc(c.fc(6,3,o.notifications[o.maximizedIndex].title,100)),c.Ab(3),c.Fc(o.notifications[o.maximizedIndex].date)}}function Uu(t,e){if(1&t&&(c.Qb(0),c.Sb(1,"p",16),c.Ec(2),c.Rb(),c.Pb()),2&t){var n=c.cc(2).$implicit;c.Ab(2),c.Fc(n("notifications.none"))}}var Bu=function(t,e){return{$implicit:t,index:e}};function ju(t,e){if(1&t&&c.Ob(0,18),2&t){var n=e.$implicit,i=e.index;c.cc(3);var o=c.sc(6);c.ic("ngTemplateOutlet",o)("ngTemplateOutletContext",c.mc(2,Bu,n,i))}}function zu(t,e){if(1&t&&(c.Qb(0),c.Cc(1,ju,1,5,"ng-container",17),c.Pb()),2&t){var n=c.cc(3);c.Ab(1),c.ic("ngForOf",n.notifications)("ngForTrackBy",n.trackByFn)}}var Vu=function(t){return{$implicit:t}};function Gu(t,e){if(1&t&&c.Ob(0,18),2&t){c.cc(2);var n=c.sc(8),i=c.cc();c.ic("ngTemplateOutlet",n)("ngTemplateOutletContext",c.lc(2,Vu,i.notifications[i.maximizedIndex]))}}var $u=function(t){return{large:t}};function Zu(t,e){if(1&t&&(c.Sb(0,"app-dropdown-menu",8),c.Cc(1,Lu,3,1,"ng-container",9),c.Cc(2,Hu,9,6,"div",10),c.Cc(3,Uu,3,1,"ng-container",9),c.Cc(4,zu,2,2,"ng-container",9),c.Cc(5,Gu,1,4,"ng-container",11),c.Rb()),2&t){var n=c.cc(2);c.ic("ngClass",c.lc(6,$u,-1!==n.maximizedIndex)),c.Ab(1),c.ic("ngIf",-1===n.maximizedIndex),c.Ab(1),c.ic("ngIf",-1!==n.maximizedIndex),c.Ab(1),c.ic("ngIf",0===(null==n.notifications?null:n.notifications.length)),c.Ab(1),c.ic("ngIf",(null==n.notifications?null:n.notifications.length)>0&&-1===n.maximizedIndex),c.Ab(1),c.ic("ngIf",(null==n.notifications?null:n.notifications.length)>0&&-1!==n.maximizedIndex)}}function Wu(t,e){1&t&&(c.Sb(0,"div"),c.Nb(1,"i",24),c.Rb())}function qu(t,e){1&t&&c.Nb(0,"div")}var Yu=function(t){return{title:t}};function Ku(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",19),c.Zb("keydown.Space",(function(){c.vc(n);var t=e.index;return c.cc(2).changeMaximized(t)}))("keydown.Enter",(function(){c.vc(n);var t=e.index;return c.cc(2).changeMaximized(t)}))("click",(function(){c.vc(n);var t=e.index;return c.cc(2).changeMaximized(t)})),c.dc(1,"title"),c.Sb(2,"div",20),c.Sb(3,"p",21),c.Ec(4),c.dc(5,"title"),c.Rb(),c.Cc(6,Wu,2,0,"div",22),c.Cc(7,qu,1,0,"ng-template",null,23,c.Dc),c.Rb(),c.Sb(9,"p"),c.Ec(10),c.Rb(),c.Rb()}if(2&t){var i=e.$implicit,o=e.index,r=c.sc(8),a=c.cc().$implicit,s=c.cc();c.Eb("no-border",o===s.notifications.length-1),c.Bb("aria-label",a("notifications.readNotificationLabel",c.lc(15,Yu,c.fc(1,9,i.title,100)))+" "+s.getDateLabel(i.created_on)),c.Ab(3),c.Eb("important",i.always_show),c.Ab(1),c.Fc(c.fc(5,12,i.title,100)),c.Ab(2),c.ic("ngIf",i.always_show)("ngIfElse",r),c.Ab(4),c.Fc(i.date)}}function Qu(t,e){1&t&&c.Nb(0,"div",25),2&t&&c.ic("innerHTML",e.$implicit.messageMarkup,c.wc)}function Ju(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",1),c.Sb(1,"button",2,3),c.Zb("click",(function(){return c.vc(n),c.cc().closeNotifications()})),c.Nb(3,"i",4),c.Rb(),c.Cc(4,Zu,6,8,"app-dropdown-menu",5),c.Cc(5,Ku,11,17,"ng-template",null,6,c.Dc),c.Cc(7,Qu,1,1,"ng-template",null,7,c.Dc),c.Rb()}if(2&t){var i=e.$implicit,o=c.cc();c.ic("clFocusTrap",o.visible),c.Ab(1),c.Bb("aria-label",i("common.close")),c.Ab(3),c.ic("ngIf",o.visible)}}var Xu=function(){function t(t,e,n,i,o,r,a,s,c,l){var p=this;this.san=t,this.nodeApi=e,this.notificationsHelper=n,this.cdr=i,this.ele=o,this.renderer=r,this.sessionService=a,this.settingsSerivce=s,this.notificationsService=c,this.safeHtml=l,this.visible=!1,this.notifications=[],this.maximizedIndex=-1,this.allowMaximized=!0,this.initialized=!1,this.failedShowing=!1,this.subscriptions=[],this.subscriptions[0]=n.notificationsUpdated.subscribe((function(t){p.onNotificationsUpdate(t)})),this.subscriptions[1]=n.visibilitySet.subscribe((function(t){p.visible=t,t&&p.closeButton.nativeElement.focus()})),this.subscriptions[2]=a.settingsUpdated.subscribe((function(t){p.settings=t,p.notificationsHelper.visibilitySet.next(!1)})),this.subscriptions[3]=a.useTMSUpdated.subscribe((function(t){p.tmsSettings=t}))}return t.prototype.ngAfterViewInit=function(){this.closeButton.nativeElement.focus()},t.prototype.getDateLabel=function(t){return Y()(t).format("MM/DD/YYY")},t.prototype.onNotificationsUpdate=function(t){var e=this;if(this.notifications=t.map((function(t,n){return(!t.read||t.always_show&&!t.read)&&e.allowMaximized&&(e.maximizedIndex=n,e.allowMaximized=!1),t.messageMarkup=e.safeHtml.transform(t.message),t.date=Y()(t.created_on).format("MM/DD/YYYY"),t})),!this.failedShowing&&this.settings){if(this.settings.userInfo.failedLoginInfo&&this.settings.userInfo.failedLoginInfo.count>0){var n=this.settings.userInfo.failedLoginInfo;this.notifications.push({always_show:!0,created_by:"Security",created_on:Y()().format("MM/DD/YYYY"),date:Y()().format("MM/DD/YYYY"),expire_on:Y()().add(1,"day").format("MM/DD/YYYY"),id:-2,message:"There have been "+n.count+" failed login attempts since the last success"+(n.lastLogin?" on "+Y()(n.lastLogin).local().format("MMM DD, YYYY [at] h:mm A")+". ":"."),messageMarkup:null,maximized:!0,read:!1,start_on:Y()().format("MM/DD/YYYY"),title:"Failed Login Attempts"})}this.failedShowing=!0,this.initialized=!1,this.failedShowing=!0}this.initialized||(this.notificationsHelper.visibilitySet.next(Pa()(this.notifications,(function(t){return t.always_show}))||-1!==this.maximizedIndex),this.initialized=!0),-1===this.maximizedIndex||this.notifications[this.maximizedIndex].read||this.markNotificationRead(this.notifications[this.maximizedIndex].id,this.maximizedIndex)},t.prototype.ngOnDestroy=function(){this.subscriptions.forEach((function(t){return t.unsubscribe()}))},t.prototype.trackByFn=function(t,e){return e.id},t.prototype.onClick=function(t){t.stopPropagation()},t.prototype.changeMaximized=function(t){this.closeButton.nativeElement.focus(),this.maximizedIndex=this.maximizedIndex===t?-1:t;var e=this.notifications[this.maximizedIndex];e&&!e.read&&this.markNotificationRead(e.id,t)},t.prototype.closeNotifications=function(){this.notificationsHelper.visibilitySet.next(!1)},t.prototype.markNotificationRead=function(t,e){this.notifications[e].read=!0,this.notificationsHelper.notificationsUpdated.next(this.notifications),-2!=t&&(this.sessionService.getUserInfo().isImpersonated||(this.notifications[e].isNotificationApi?this.notificationsService.readNotification(t).subscribe((function(t){})):this.nodeApi.markNotificationRead(t).subscribe((function(t){}))))},t.\u0275fac=function(e){return new(e||t)(c.Mb(te.b),c.Mb(l.a),c.Mb(vu),c.Mb(c.h),c.Mb(c.l),c.Mb(c.E),c.Mb(A.a),c.Mb(xe.a),c.Mb(Pn),c.Mb(Du.a))},t.\u0275cmp=c.Gb({type:t,selectors:[["app-notifications"]],viewQuery:function(t,e){var n;1&t&&c.Jc(Nu,!0,c.l),2&t&&c.rc(n=c.ac())&&(e.closeButton=n.first)},hostBindings:function(t,e){1&t&&c.Zb("click",(function(t){return e.onClick(t)}))},decls:1,vars:0,consts:[[3,"clFocusTrap",4,"transloco"],[3,"clFocusTrap"],[1,"close",3,"click"],["closeButton",""],[1,"far","fa-times"],["class","custom-scroll",3,"ngClass",4,"ngIf"],["notificationTemplate",""],["activeNotification",""],[1,"custom-scroll",3,"ngClass"],[4,"ngIf"],["class","title-ctnr flex-start",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngIf"],[1,"title-ctnr","flex-start"],[1,"color-primary",3,"click"],[1,"fas","fa-arrow-left"],[1,"text","flex-start","column-nowrap"],[1,"none"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngFor","ngForOf","ngForTrackBy"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["role","button","tabindex","0","clItem","",1,"notification","flex-start","column-nowrap",3,"keydown.Space","keydown.Enter","click"],[1,"title-line","flex-space-between-center"],[1,"notif-title"],[4,"ngIf","ngIfElse"],["blank",""],[1,"fas","fa-thumbtack"],[1,"notification-content-ctnr","custom-scroll",3,"innerHTML"]],template:function(t,e){1&t&&c.Cc(0,Ju,9,3,"div",0)},directives:[ct.c,vt.s,i.k,Tn,i.i,i.j,i.o,vt.C],pipes:[kt.a],styles:["[_nghost-%COMP%]{position:absolute;top:43px;left:calc(100% - 58px);width:47vw;z-index:203}.professional[_nghost-%COMP%]{left:unset;right:-11px}.hide[_nghost-%COMP%]{pointer-events:none;opacity:0}[_nghost-%COMP%]   .close[_ngcontent-%COMP%]{z-index:1001}app-dropdown-menu[_ngcontent-%COMP%]{position:relative;display:-ms-flexbox;display:flex;-ms-flex-flow:column nowrap;flex-flow:column nowrap;-ms-flex-pack:start;justify-content:flex-start;-ms-flex-align:start;align-items:flex-start;height:auto;max-height:60vh;width:100%;padding:20px 20px 0;overflow-y:auto;overflow-x:hidden}app-dropdown-menu[_ngcontent-%COMP%]   .title-ctnr[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], app-dropdown-menu[_ngcontent-%COMP%] > h2[_ngcontent-%COMP%]{font-size:18px;font-weight:800;margin-bottom:10px;word-break:break-all;word-break:break-word}app-dropdown-menu[_ngcontent-%COMP%]   .title-ctnr[_ngcontent-%COMP%], app-dropdown-menu[_ngcontent-%COMP%] > h2[_ngcontent-%COMP%]{margin-bottom:20px;margin-right:30px}.title-ctnr[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:10px}.title-ctnr[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:var(--color-primary);font-size:20px}.notification-content-ctnr[_ngcontent-%COMP%]{width:100%;overflow:auto;margin-bottom:20px;word-wrap:break-word;overflow-wrap:break-word;min-height:31px}.notification-content-ctnr[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:unset}.close-button[_ngcontent-%COMP%]{top:15px;right:15px}.none[_ngcontent-%COMP%]{width:100%;text-align:center;color:var(--color-medium);font-weight:600;margin:20px 0 40px}.notification[_ngcontent-%COMP%]{padding:20px 0;width:100%;overflow:visible;border-bottom:1px solid var(--color-border-light);cursor:pointer}.notification[_ngcontent-%COMP%]:after{height:100%}.notification[_ngcontent-%COMP%]:hover{opacity:.85}.notification.no-border[_ngcontent-%COMP%]{border-bottom:none}.notification[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:100%}.notification[_ngcontent-%COMP%] > .title-line[_ngcontent-%COMP%]{margin-bottom:5px}.notification[_ngcontent-%COMP%] > .title-line[_ngcontent-%COMP%]   p.notif-title[_ngcontent-%COMP%]{font-size:14px;font-weight:700;letter-spacing:0;word-break:break-all;word-break:break-word}.notification[_ngcontent-%COMP%] > .title-line[_ngcontent-%COMP%]   p.notif-title.important[_ngcontent-%COMP%]{color:var(--color-primary)}.notification[_ngcontent-%COMP%] > .title-line[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin-left:5px;min-width:13px}.notification[_ngcontent-%COMP%] > .title-line[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:var(--color-primary);font-size:18px;-ms-transform:rotate(22.5deg);transform:rotate(22.5deg)}.notification[_ngcontent-%COMP%] > .notification-content-ctnr[_ngcontent-%COMP%]{margin:15px 0}.notification[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{font-size:13px;color:var(--color-medium)}"]}),t}(),td=["input"],ed=["profNotificationButton"],nd=["notificationButton"],id=["focusable"],od=["appSubItem"],rd=function(t){return{$implicit:t}};function ad(t,e){if(1&t){var n=c.Tb();c.Sb(0,"a",42,12),c.Zb("focus",(function(){c.vc(n);var t=c.cc().$implicit;return c.cc(3).hamburgerItemFocus(t.title)}))("keydown.Enter",(function(){c.vc(n);var t=c.cc().$implicit;return c.cc(3).goToLink(t.link)})),c.Ob(2,43),c.Rb()}if(2&t){var i=c.cc().$implicit;c.cc();var o=c.sc(4),r=c.cc(2);c.ic("href",i.link,c.xc)("target","_blank")("id",r.genId(i.title)),c.Ab(2),c.ic("ngTemplateOutlet",o)("ngTemplateOutletContext",c.lc(5,rd,i))}}function sd(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",44,12),c.Zb("focus",(function(){c.vc(n);var t=c.cc().$implicit;return c.cc(3).hamburgerItemFocus(t.title)}))("click",(function(){c.vc(n);var t=c.cc().$implicit,e=c.cc(3);return t.handler(),e.showLinksMenu=!1}))("keydown.Enter",(function(){c.vc(n);var t=c.cc().$implicit,e=c.cc(3);return t.handler(),e.showLinksMenu=!1}))("keydown.Space",(function(t){c.vc(n);var e=c.cc().$implicit,i=c.cc(3);return t.stopPropagation(),e.handler(),i.showLinksMenu=!1})),c.Ob(2,43),c.Rb()}if(2&t){var i=c.cc().$implicit;c.cc();var o=c.sc(4),r=c.cc(2);c.ic("id",r.genId(i.title)),c.Ab(2),c.ic("ngTemplateOutlet",o)("ngTemplateOutletContext",c.lc(3,rd,i))}}function cd(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",45,12),c.Zb("focus",(function(){c.vc(n);var t=c.cc().$implicit;return c.cc(3).hamburgerItemFocus(t.title)}))("click",(function(){c.vc(n);var t=c.cc().$implicit,e=c.cc(3);return t.handler(),e.showLinksMenu=!1}))("keydown.Enter",(function(){c.vc(n);var t=c.cc().$implicit,e=c.cc(3);return t.handler(),e.showLinksMenu=!1})),c.Ob(2,43),c.Rb()}if(2&t){var i=c.cc().$implicit;c.cc();var o=c.sc(4),r=c.cc(2);c.ic("id",r.genId(i.title)),c.Ab(2),c.ic("ngTemplateOutlet",o)("ngTemplateOutletContext",c.lc(3,rd,i))}}function ld(t,e){if(1&t&&(c.Qb(0),c.Cc(1,ad,3,7,"a",39),c.Cc(2,sd,3,5,"div",40),c.Cc(3,cd,3,5,"div",41),c.Pb()),2&t){var n=e.$implicit;c.Ab(1),c.ic("ngIf",n.link),c.Ab(1),c.ic("ngIf",!n.link&&!n.icon.includes("backpack")),c.Ab(1),c.ic("ngIf",n.icon.includes("backpack"))}}function pd(t,e){if(1&t&&c.Nb(0,"i"),2&t){var n=c.cc().$implicit;c.Cb(n.icon)}}function ud(t,e){if(1&t&&c.Nb(0,"img",49),2&t){var n=c.cc().$implicit;c.ic("src",n.customIcon+".svg",c.xc)("alt",n.title)}}function dd(t,e){if(1&t&&(c.Sb(0,"span",46),c.Cc(1,pd,1,2,"i",47),c.Cc(2,ud,1,2,"img",48),c.Rb(),c.Ec(3)),2&t){var n=e.$implicit;c.Ab(1),c.ic("ngIf",n.icon),c.Ab(1),c.ic("ngIf",n.customIcon),c.Ab(1),c.Gc(" ",n.title," ")}}function bd(t,e){if(1&t){var n=c.Tb();c.Sb(0,"app-dropdown-menu",35),c.Zb("click",(function(t){return c.vc(n),t.stopPropagation()})),c.Nb(1,"img",36),c.Cc(2,ld,4,3,"ng-container",37),c.Cc(3,dd,4,3,"ng-template",null,38,c.Dc),c.Rb()}if(2&t){var i=c.cc(2);c.ic("clFocusTrap",i.showLinksMenu),c.Bb("aria-activedescendant",i.focusedHamburgerItem),c.Ab(1),c.ic("src","assets/images/classlink-logo.svg",c.xc),c.Ab(1),c.ic("ngForOf",i.dropdownItems)}}function gd(t,e){if(1&t&&(c.Qb(0),c.Nb(1,"img",50),c.Pb()),2&t){var n=c.cc().$implicit,i=c.cc();c.Ab(1),c.ic("src",i.APP_CONFIG.fileCdnUrl+"/"+i.settings.tenantSettings.customLogo,c.xc)("alt",n("header.logoAlt"))}}function fd(t,e){if(1&t&&c.Nb(0,"img",49),2&t){var n=c.cc().$implicit;c.ic("src","assets/images/classlink-logo-invert.svg",c.xc)("alt",n("header.logoAlt"))}}function hd(t,e){if(1&t){var n=c.Tb();c.Sb(0,"button",51,12),c.Zb("click",(function(t){return c.vc(n),c.cc(2).openAppLibrary(t)})),c.Nb(2,"i",52),c.Rb()}if(2&t){var i=c.cc().$implicit,o=c.sc(14);c.ic("clTooltip",o)("clTooltipDirection","bottom"),c.Bb("aria-label",i("header.openAppLibrary"))}}function md(t,e){if(1&t&&(c.Sb(0,"div",53),c.Sb(1,"p"),c.Ec(2),c.Rb(),c.Rb()),2&t){var n=c.cc().$implicit;c.Ab(2),c.Fc(n("header.openAppLibrary"))}}function vd(t,e){if(1&t&&(c.Sb(0,"div",53),c.Sb(1,"p"),c.Ec(2),c.Rb(),c.Rb()),2&t){var n=c.cc().$implicit;c.Ab(2),c.Fc(n("header.editMode"))}}function yd(t,e){if(1&t&&(c.Sb(0,"div",53),c.Sb(1,"p"),c.Ec(2),c.Rb(),c.Rb()),2&t){var n=c.cc().$implicit;c.Ab(2),c.Fc(n("notifications.notifications"))}}function Cd(t,e){if(1&t&&c.Nb(0,"app-notifications",54),2&t){var n=c.cc(2);c.Eb("hide",!n.notificationsVisible)}}function wd(t,e){if(1&t&&(c.Sb(0,"div",55),c.Ec(1),c.Rb()),2&t){var n=c.cc(2);c.Ab(1),c.Fc(n.notificationsUnread)}}function xd(t,e){if(1&t&&(c.Sb(0,"p"),c.Ec(1),c.Rb()),2&t){var n=c.cc(2);c.Ab(1),c.Fc(n.version)}}function Pd(t,e){if(1&t){var n=c.Tb();c.Sb(0,"button",56),c.Zb("click",(function(){return c.vc(n),c.cc(2).clearFilter()})),c.Nb(1,"i",57),c.Rb()}if(2&t){var i=c.cc(2);c.ic("tabIndex",""!==i.filter?0:-1),c.Bb("aria-hidden",""===i.filter||null)}}function Sd(t,e){1&t&&(c.Qb(0),c.Sb(1,"span"),c.Nb(2,"i",64),c.Rb(),c.Pb())}function Od(t,e){if(1&t){var n=c.Tb();c.Sb(0,"img",66),c.Zb("error",(function(t){return c.vc(n),c.cc(5).handleImage(t)})),c.Rb()}if(2&t){var i=c.cc(2).$implicit;c.ic("src",i.icon,c.xc)}}function Md(t,e){if(1&t&&c.Cc(0,Od,1,1,"img",65),2&t){var n=c.cc().$implicit;c.ic("ngIf",""!==n)}}function Ad(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",60,61),c.Zb("focus",(function(){c.vc(n);var t=e.$implicit;return c.cc(3).focusedResult=t.name+"_result"}))("click",(function(){c.vc(n);var t=e.$implicit;return c.cc(3).onAppLaunch(t)}))("keydown.Enter",(function(){c.vc(n);var t=e.$implicit;return c.cc(3).onAppLaunch(t)})),c.Cc(2,Sd,3,0,"ng-container",6),c.Cc(3,Md,1,1,"ng-template",null,62,c.Dc),c.Nb(5,"div",63),c.Rb()}if(2&t){var i=e.$implicit,o=e.index,r=c.sc(4),a=c.cc(3);c.Eb("active",a.keyedIndex===o),c.Ab(2),c.ic("ngIf",a.appsHelper.isFolder(i))("ngIfElse",r),c.Ab(3),c.ic("innerHTML",a.filterResultsMarkup[o],c.wc)}}function kd(t,e){if(1&t&&(c.Sb(0,"app-dropdown-menu",58),c.Cc(1,Ad,6,5,"div",59),c.Rb()),2&t){var n=c.cc(2);c.Ab(1),c.ic("ngForOf",n.filterResults.slice(0,10))}}function _d(t,e){if(1&t&&(c.Sb(0,"div",55),c.Ec(1),c.Rb()),2&t){var n=c.cc(2);c.Ab(1),c.Fc(n.notificationsUnread)}}function Rd(t,e){if(1&t&&c.Nb(0,"app-notifications",67),2&t){var n=c.cc(2);c.Eb("hide",!n.notificationsVisible)}}function Id(t,e){if(1&t){var n=c.Tb();c.Sb(0,"button",78),c.Zb("click",(function(){return c.vc(n),c.cc(3).logout()})),c.Ec(1),c.Rb()}if(2&t){var i=c.cc(2).$implicit;c.Bb("aria-label",i("header.signOut")),c.Ab(1),c.Fc(i("header.signOut"))}}function Td(t,e){if(1&t){var n=c.Tb();c.Sb(0,"button",78),c.Zb("click",(function(){return c.vc(n),c.cc(3).endImpersonation()})),c.Ec(1),c.Rb()}if(2&t){var i=c.cc(2).$implicit;c.Bb("aria-label",i("header.endImpersonation")),c.Ab(1),c.Fc(i("header.endImpersonation"))}}function Ed(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",84),c.Zb("click",(function(t){c.vc(n);var i=e.$implicit,o=c.cc(5);return o.toggleProfileDropdown(t),o.switchProfile(i)}))("keydown.Enter",(function(t){c.vc(n);var i=e.$implicit,o=c.cc(5);return o.toggleProfileDropdown(t),o.switchProfile(i)}))("keydown.space",(function(t){c.vc(n);var i=e.$implicit,o=c.cc(5);return o.toggleProfileDropdown(t),o.switchProfile(i)})),c.Sb(1,"p",72),c.Ec(2),c.Rb(),c.Sb(3,"p"),c.Ec(4),c.Rb(),c.Sb(5,"p"),c.Ec(6),c.Rb(),c.Rb()}if(2&t){var i=e.$implicit,o=c.cc(4).$implicit;c.Eb("active",i.IsCurrentProfile),c.Ab(2),c.Fc(i.ProfileName),c.Ab(2),c.Hc("",o("header.group")," ",i.GroupName,""),c.Ab(2),c.Hc("",o("header.role")," ",i.RoleName,"")}}function Fd(t,e){if(1&t&&(c.Sb(0,"div",82),c.Cc(1,Ed,7,7,"div",83),c.Rb()),2&t){var n=c.cc(4);c.Ab(1),c.ic("ngForOf",n.profiles)}}function Dd(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",79),c.Zb("click",(function(t){return c.vc(n),c.cc(3).toggleShowProfiles(t)}))("keydown.space",(function(t){return c.vc(n),c.cc(3).toggleShowProfiles(t)}))("keydown.Enter",(function(t){return c.vc(n),c.cc(3).toggleShowProfiles(t)})),c.Sb(1,"h2"),c.Ec(2),c.Sb(3,"span"),c.Ec(4),c.Rb(),c.Rb(),c.Sb(5,"span"),c.Nb(6,"i",80),c.Rb(),c.Cc(7,Fd,2,1,"div",81),c.Rb()}if(2&t){var i=c.cc(2).$implicit,o=c.cc();c.Ab(2),c.Gc("",i("header.profile")," "),c.Ab(2),c.Fc(o.getCurrentProfile().ProfileName),c.Ab(3),c.ic("ngIf",o.showProfileDropdown&&o.showUserProfiles)}}function Nd(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",68),c.Zb("click",(function(t){return c.vc(n),t.stopPropagation()})),c.Sb(1,"div",69),c.Sb(2,"div",70),c.Sb(3,"div",71),c.Sb(4,"p",72),c.Ec(5),c.Rb(),c.Sb(6,"p",73),c.Ec(7),c.Rb(),c.Sb(8,"p",73),c.Ec(9),c.Rb(),c.Rb(),c.Sb(10,"div",74),c.Sb(11,"button",75),c.Zb("click",(function(t){c.vc(n);var e=c.cc(2);return t.stopPropagation(),e.openMyProfile(t)})),c.Ec(12),c.Rb(),c.Cc(13,Id,2,2,"button",76),c.Cc(14,Td,2,2,"button",76),c.Rb(),c.Rb(),c.Nb(15,"img",32),c.Rb(),c.Cc(16,Dd,8,3,"div",77),c.Rb()}if(2&t){var i=c.cc().$implicit,o=c.cc();c.Ab(5),c.Fc(o.userInfo.DisplayName),c.Ab(2),c.Fc(o.userInfo.Email),c.Ab(2),c.Fc(o.userInfo.Tenant),c.Ab(2),c.Bb("aria-label",i("header.settings")),c.Ab(1),c.Fc(i("header.settings")),c.Ab(1),c.ic("ngIf",!o.userInfo.isImpersonated),c.Ab(1),c.ic("ngIf",o.userInfo.isImpersonated),c.Ab(1),c.ic("src",o.userInfo.ImagePath,c.xc)("alt",i("header.profilePictureLabel")),c.Ab(1),c.ic("ngIf",o.profiles&&o.profiles.length>1)}}var Ld=function(t){return{amount:t}},Hd=function(t,e,n){return{"keyup.arrowup":t,"keyup.arrowdown":e,"keydown.enter":n}},Ud=function(t,e){return{"aria-label":t,"aria-autocomplete":"list","aria-controls":e}};function Bd(t,e){if(1&t){var n=c.Tb();c.Qb(0),c.Sb(1,"div",1),c.Sb(2,"button",2),c.Zb("keydown.shift.Tab",(function(){return c.vc(n),c.cc().onShiftTab()}))("click",(function(t){return c.vc(n),c.cc().toggleLinksDropdown(t)})),c.Nb(3,"i",3),c.Rb(),c.Cc(4,bd,5,4,"app-dropdown-menu",4),c.Sb(5,"div",5),c.Cc(6,gd,2,2,"ng-container",6),c.Cc(7,fd,1,2,"ng-template",null,7,c.Dc),c.Sb(9,"h1"),c.Ec(10),c.Rb(),c.Rb(),c.Sb(11,"div",8),c.Cc(12,hd,3,3,"button",9),c.Cc(13,md,3,1,"ng-template",null,10,c.Dc),c.Sb(15,"button",11,12),c.Zb("click",(function(){return c.vc(n),c.cc().toggleEditMode()})),c.Nb(17,"i",13),c.Rb(),c.Cc(18,vd,3,1,"ng-template",null,14,c.Dc),c.Sb(20,"button",15,16),c.Zb("click",(function(t){return c.vc(n),c.cc().toggleShowNotifications(t)})),c.Nb(23,"i",17),c.Rb(),c.Cc(24,yd,3,1,"ng-template",null,18,c.Dc),c.Cc(26,Cd,1,2,"app-notifications",19),c.Cc(27,wd,2,1,"div",20),c.Rb(),c.Sb(28,"div",21),c.Cc(29,xd,2,1,"p",22),c.Sb(30,"div",23),c.Sb(31,"cl-input",24,25),c.Zb("valueChange",(function(t){return c.vc(n),c.cc().filter=t}))("valueChange",(function(t){return c.vc(n),c.cc().onFilterUpdate(t)}))("click",(function(t){return c.vc(n),c.cc().onInputFocus(t)})),c.Rb(),c.Cc(33,Pd,2,2,"button",26),c.Nb(34,"app-tag-dropdown"),c.Cc(35,kd,2,1,"app-dropdown-menu",27),c.Rb(),c.Rb(),c.Sb(36,"div",28),c.Sb(37,"button",29),c.Zb("click",(function(t){return c.vc(n),c.cc().toggleShowNotifications(t)})),c.Nb(38,"i",17),c.Rb(),c.Cc(39,_d,2,1,"div",20),c.Cc(40,Rd,1,2,"app-notifications",30),c.Rb(),c.Sb(41,"div",31),c.Zb("keydown.Enter",(function(t){return c.vc(n),c.cc().toggleProfileDropdown(t)}))("keydown.space",(function(t){return c.vc(n),c.cc().toggleProfileDropdown(t)}))("click",(function(t){return c.vc(n),c.cc().toggleProfileDropdown(t)})),c.Nb(42,"img",32),c.Nb(43,"i",33),c.Rb(),c.Cc(44,Nd,17,10,"div",34),c.Rb(),c.Pb()}if(2&t){var i=e.$implicit,o=c.sc(8),r=c.sc(19),a=c.sc(25),s=c.cc();c.Ab(2),c.Bb("aria-expanded",s.showLinksMenu)("aria-label",i("header.buttonLabel")),c.Ab(2),c.ic("ngIf",s.showLinksMenu),c.Ab(2),c.ic("ngIf",s.settings&&s.settings.tenantSettings.customLogo)("ngIfElse",o),c.Ab(4),c.Fc(s.settings&&s.settings.tenantSettings.customText?s.settings.tenantSettings.customText:"LaunchPad"),c.Ab(2),c.ic("ngIf",s.appLibraryStatus&&s.appLibraryStatus.IsResourceLibraryEnabled),c.Ab(3),c.Eb("active",s.isEditMode),c.ic("clTooltip",r)("clTooltipDirection","bottom"),c.Bb("aria-pressed",s.isEditMode)("aria-label",i("header.editMode"))("aria-expanded",s.isEditMode),c.Ab(5),c.Eb("active",s.notificationsVisible),c.ic("clTooltip",a)("clTooltipDirection","bottom"),c.Bb("aria-expanded",s.notificationsVisible)("aria-label",i("notifications.notificationsLabel",c.lc(44,Ld,s.notificationsUnread))),c.Ab(6),c.ic("ngIf",(null==s.settings?null:s.settings.customUISettings.theme)!==s.Themes.Professional),c.Ab(1),c.ic("ngIf",s.notificationsUnread>0),c.Ab(2),c.ic("ngIf",s.version&&"PROD"!==s.version),c.Ab(1),c.Bb("aria-expanded",s.resultsVisible)("aria-label",i("header.searchLabel"))("aria-activedescendant",s.resultsVisible&&""!==s.focusedResult?s.focusedResult:null),c.Ab(1),c.ic("value",s.filter)("events",c.nc(46,Hd,s.onArrowPress.bind(s,!1),s.onArrowPress.bind(s,!0),s.onAppLaunch.bind(s,s.filterResults&&void 0!==s.keyedIndex?s.filterResults[s.keyedIndex]:void 0)))("icon","far fa-search")("attributes",c.mc(50,Ud,i("header.searchLabel"),s.resultsVisible?"appsSearchResults":null)),c.Ab(2),c.ic("ngIf",""!==s.filter),c.Ab(2),c.ic("ngIf",s.resultsVisible),c.Ab(2),c.Eb("active",s.notificationsVisible),c.ic("clTooltip",a)("clTooltipDirection","bottom"),c.Bb("aria-label",i("notifications.notifications")),c.Ab(2),c.ic("ngIf",s.notificationsUnread>0),c.Ab(1),c.ic("ngIf",(null==s.settings?null:s.settings.customUISettings.theme)===s.Themes.Professional),c.Ab(1),c.Bb("aria-expanded",s.showProfileDropdown)("aria-label",i("header.profileLabel")),c.Ab(1),c.ic("src",s.userInfo.ImagePath,c.xc)("alt",i("header.profilePictureLabel")),c.Ab(2),c.ic("ngIf",s.showProfileDropdown)}}var jd=function(){function t(t,e,n,i,o,r,a,s,c,l,p,u,d,b){var g=this;this.layoutService=t,this.appsHelper=e,this.san=n,this.sessionService=i,this.settingsService=o,this.slideoverService=r,this.menuHelper=a,this.nodeApi=s,this.appLibHelper=c,this.settingsHelper=l,this.notificationsHelper=p,this.tagsHelper=u,this.tmsService=d,this.formPostAppHelper=b,this.APP_CONFIG=K.a,this.Themes=pt.a,this.filter="",this.isEditMode=!1,this.filterResults=[],this.filterResultsMarkup=[],this.focusedResult="",this.showLinksMenu=!1,this.showUserProfiles=!1,this.showProfileDropdown=!1,this.notificationsVisible=!1,this.notifications=[],this.notificationsUnread=0,this.focusedHamburgerItem="",this.firstKeyDown=!0,this.modalOpen=!1,this.slideoverOpen=!1,this.subscriptions=[],localStorage.setItem("impersonationEnded",JSON.stringify(!1)),this.subscriptions[0]=e.appsUpdated.subscribe((function(t){g.apps=t,g.clearFilter()})),this.subscriptions[1]=e.editModeChanged.subscribe((function(t){return g.isEditMode=t})),this.subscriptions[2]=this.sessionService.settingsUpdated.subscribe((function(t){return g.onSettingsUpdate(t)})),this.subscriptions[3]=this.layoutService.documentClicked.subscribe((function(){return g.onDocumentClick()})),this.subscriptions[4]=this.sessionService.userInfoUpdated.subscribe((function(t){return g.userInfo=t})),this.subscriptions[5]=this.appLibHelper.appLibraryStatusUpdated.subscribe((function(t){return g.appLibraryStatus=t})),this.subscriptions[6]=this.appsHelper.activeFolderChanged.subscribe((function(t){return g.activeFolder=t})),this.subscriptions[7]=p.visibilitySet.subscribe((function(t){return g.notificationsVisible=t})),this.subscriptions[8]=p.notificationsUpdated.subscribe((function(t){g.notificationsUnread=P()(t,(function(t){return!t.read})).length,g.notificationsUnread>0&&!g.notificationsVisible&&g.toggleShowNotifications()})),this.subscriptions[9]=l.dropdownItemsCreated.subscribe((function(t){return g.dropdownItems=t})),this.subscriptions[10]=this.tagsHelper.tagFilterUpdated.subscribe((function(t){g.tagFilter=t,g.filterApps()})),this.subscriptions[11]=i.userInfoUpdated.subscribe((function(t){return g.userInfo=t})),this.subscriptions[12]=Object(Ou.a)(e.folderViewVisibleChanged,e.sessionTimedOut,e.appTwoFactorRequired,e.deleteConfirmationRequired,e.welcomeVisibleChanged,e.folderCreatorVisibleChanged,u.tagModalVisibleChanged,e.unsupporterBrowserShown,e.showWorkerUpdate,e.showForcePasswordRecovery,e.editCustomAppUpdated,e.appInfoVisible).subscribe((function(t){g.modalOpen=!!t,g.checkAndSetKeyListener()})),this.subscriptions[13]=this.slideoverService.isOpenStateChange.subscribe((function(t){g.slideoverOpen=t,g.checkAndSetKeyListener()})),this.subscriptions[14]=this.sessionService.gwsTokenSet.subscribe((function(){return g.getProfiles()})),this.userInfo=i.getUserInfo(),this.linksHandle=a.registerMenu((function(){return g.showLinksMenu=!1})),this.profileHandle=a.registerMenu((function(){return g.showProfileDropdown=!1})),this.resultsHandle=a.registerMenu((function(){return g.resultsVisible=!1})),this.notificationsHandle=a.registerMenu((function(){return g.notificationsHelper.visibilitySet.next(!1)})),this.version=K.a.version,this.endImpersonation=Su()(this.endImpersonation,2e3,{leading:!0}),this.checkAndSetKeyListener()}return t.prototype.ngOnDestroy=function(){this.subscriptions.forEach((function(t){return t.unsubscribe()})),this.menuHelper.unregisterMenu(this.linksHandle),this.menuHelper.unregisterMenu(this.profileHandle),this.menuHelper.unregisterMenu(this.resultsHandle),this.menuHelper.unregisterMenu(this.notificationsHandle)},t.prototype.checkAndSetKeyListener=function(){var t=this;this.slideoverOpen||this.modalOpen||this.subscriptions[15]&&!this.subscriptions[15].closed?this.subscriptions[15]&&(this.slideoverOpen||this.modalOpen)&&this.subscriptions[15].unsubscribe():this.subscriptions[15]=Object(ft.a)(document,"keydown",{passive:!0}).subscribe((function(e){var n=e.key;t.firstKeyDown&&e.shiftKey&&"Tab"===n?t.appsHelper.showAccessibilityBar.next(!0):t.firstKeyDown&&!e.shiftKey&&(t.firstKeyDown=!1),"Tab"===n||"Alt"===n||"Enter"===n||"Shift"===n||e.altKey&&"/"===n||" "===n||"Space"===n||e.shiftKey&&"F10"===n||"ArrowLeft"===n||"ArrowRight"===n||"ArrowUp"===n||"ArrowDown"===n||("Escape"===n?t.clearFilter():t.onKeyDown())}))},t.prototype.onShiftTab=function(){this.appsHelper.showAccessibilityBar.next(!0)},t.prototype.onKeyDown=function(){document.activeElement instanceof HTMLInputElement||document.activeElement instanceof HTMLTextAreaElement||this.input.inputElement.focus()},t.prototype.onSettingsUpdate=function(t){this.settings=t},t.prototype.getCurrentProfile=function(){return this.profiles?j()(this.profiles,(function(t){return t.IsCurrentProfile})):void 0},t.prototype.switchProfile=function(t){this.settingsService.switchProfile(t.ProfileId).subscribe((function(t){window.location.reload()}))},t.prototype.endImpersonation=function(){var t=this;this.tmsService.endImpersonation().subscribe((function(e){t.sessionService.setGwsToken(e.gwsToken,!1),localStorage.setItem("impersonationEnded",JSON.stringify(!0)),window.location.href=K.a.launchpadUrl+"/switch/userimpersonate"}))},t.prototype.getProfiles=function(){var t=this;this.nodeApi.getUserProfiles().subscribe((function(e){t.profiles=e}))},t.prototype.toggleEditMode=function(){this.isEditMode=!this.isEditMode,this.appsHelper.editModeChanged.next(this.isEditMode)},t.prototype.clearFilter=function(){this.filter="",this.onFilterUpdate()},t.prototype.onFilterUpdate=function(t){this.keyedIndex=void 0,this.appsHelper.filterUpdate.next(this.filter),this.filterApps()},t.prototype.filterApps=function(){var t=this,e=!this.filter||""===this.filter.trim();if(e&&(this.resultsVisible=!1),!e||this.tagFilter){var n=this.filter.trim().toLowerCase(),i=xu()(this.apps.map((function(e){return t.appsHelper.isFolder(e)?Object(R.e)([e],e.apps):e})));e||(i=P()(i,(function(t){return t.name.toLowerCase().trim().includes(n)||t.appdesc&&t.appdesc.toLowerCase().trim().includes(n)}))),this.tagFilter&&(i=P()(i,(function(e){return t.tagFilter.apps.includes(e.id)}))),i.sort((function(t){return t.name.toLowerCase().trim().includes(n)?-1:1}));var o=new RegExp("("+Cu()(n)+")","gi");this.filterResults=i.length>0?i:[""],this.filterResultsMarkup=i.length>0?i.map((function(e){return t.san.bypassSecurityTrustHtml(e.name.replace(o,'<span class="search-accent">$1</span>'))})):["No Results Found"],this.keyedIndex=0,this.resultsVisible=!e}},t.prototype.toggleLinksDropdown=function(t){t.stopPropagation(),t.preventDefault(),this.menuHelper.closeAllOtherMenus(this.linksHandle),this.showLinksMenu=!this.showLinksMenu},t.prototype.toggleProfileDropdown=function(t){t.stopPropagation(),this.menuHelper.closeAllOtherMenus(this.profileHandle),this.showProfileDropdown=!this.showProfileDropdown},t.prototype.toggleShowProfiles=function(t){t.stopPropagation(),this.menuHelper.closeAllOtherMenus(this.profileHandle),this.showUserProfiles=!this.showUserProfiles},t.prototype.toggleShowNotifications=function(t){t instanceof Event&&t.stopPropagation(),this.menuHelper.closeAllOtherMenus(this.notificationsHandle),this.button.nativeElement.blur(),this.notificationsHelper.toggleVisibility()},t.prototype.onAppLaunch=function(t){t&&(this.filter="",this.onFilterUpdate(),this.appsHelper.isFolder(t)?(this.appsHelper.activeFolderChanged.next(t),this.appsHelper.folderViewVisibleChanged.next(!0)):this.appsHelper.launchApp(t,null,this.formPostAppHelper.showLaunchDisabled(t)))},t.prototype.onArrowPress=function(t,e){e.preventDefault(),this.keyedIndex=void 0!==this.keyedIndex?this.keyedIndex+(t?1:-1):0,this.keyedIndex=this.keyedIndex<0?0:this.keyedIndex>9?9:this.keyedIndex},t.prototype.onInputFocus=function(t){t.stopPropagation(),this.menuHelper.closeAllOtherMenus(this.resultsHandle),this.resultsVisible=""!==this.filter.trim()},t.prototype.onDocumentClick=function(){this.resultsVisible=!1,this.showProfileDropdown=!1,this.showLinksMenu=!1,this.notificationsHelper.visibilitySet.next(!1)},t.prototype.setHighContrast=function(t){var e=this;t&&t.element&&t.element.focus(),setTimeout((function(){e.settingsService.setSettings(e.settings).subscribe((function(t){e.sessionService.setSettings(e.settings)}))}),0)},t.prototype.openAppLibrary=function(t){this.slideoverService.appLibrary.opened.next(null==t?void 0:t.target)},t.prototype.openMyProfile=function(t){this.showProfileDropdown=!1,this.slideoverService.myProfile.opened.next({ele:null==t?void 0:t.target})},t.prototype.logout=function(){this.appsHelper.logout(!0)},t.prototype.hamburgerItemFocus=function(t){this.focusedHamburgerItem=this.genId(t)},t.prototype.goToLink=function(t){window.open(t,"_blank")},t.prototype.genId=function(t){return t.trim().replace(/\s/g,"-")+"-hamburgerMenuOpt"},t.prototype.handleImage=function(t){t.target.src=K.a.coreCDN+"/assets/images/default-app-icon.png"},t.prototype.nav=function(t){if(t.target!=this.input.inputElement){if(t.stopPropagation(),t.preventDefault(),this.focusables.length){var e=this.focusables.toArray();ht.a.keyboardJump(e,t,!1)}}else("ArrowUp"===t.key||"ArrowDown"===t.key)&&this.appSubItems.toArray().length>0&&t.preventDefault()},t.\u0275fac=function(e){return new(e||t)(c.Mb(vt.z),c.Mb(p.a),c.Mb(te.b),c.Mb(A.a),c.Mb(xe.a),c.Mb(z.a),c.Mb(gt),c.Mb(l.a),c.Mb(tt),c.Mb(M.a),c.Mb(vu),c.Mb(k.a),c.Mb(we),c.Mb(dt))},t.\u0275cmp=c.Gb({type:t,selectors:[["app-header"]],viewQuery:function(t,e){var n;1&t&&(c.Jc(td,!0),c.Jc(ed,!0),c.Jc(nd,!0),c.Jc(id,!0),c.Jc(od,!0)),2&t&&(c.rc(n=c.ac())&&(e.input=n.first),c.rc(n=c.ac())&&(e.profNotificationButton=n.first),c.rc(n=c.ac())&&(e.button=n.first),c.rc(n=c.ac())&&(e.focusables=n),c.rc(n=c.ac())&&(e.appSubItems=n))},hostBindings:function(t,e){1&t&&c.Zb("keydown.ArrowUp",(function(t){return e.nav(t)}))("keydown.ArrowDown",(function(t){return e.nav(t)}))("keydown.ArrowLeft",(function(t){return e.nav(t)}))("keydown.ArrowRight",(function(t){return e.nav(t)}))},decls:1,vars:0,consts:[[4,"transloco"],[1,"row"],["tabindex","0","aria-haspopup","true","role","menu","aria-controls","linksmenu",1,"menu-button","flex-center","hamburger",3,"keydown.shift.Tab","click"],[1,"fas","fa-bars"],["class","links custom-scroll","id","linksmenu","role","menu","aria-label","A menu that provides shortcuts to other ClassLink apps and helpful links","tabindex","0","clKeyboardNav","",3,"clFocusTrap","click",4,"ngIf"],[1,"logo"],[4,"ngIf","ngIfElse"],["defaultLogo",""],[1,"icons","flex-center"],["class","cl-focusable-white",3,"clTooltip","clTooltipDirection","click",4,"ngIf"],["libTpl",""],["aria-haspopup","menu",1,"cl-focusable-white",3,"clTooltip","clTooltipDirection","click"],["focusable",""],[1,"far","fa-edit"],["editTpl",""],["aria-controls","notifications_popup",1,"cl-focusable-white","notification-button",3,"clTooltip","clTooltipDirection","click"],["focusable","","notificationButton",""],[1,"far","fa-bell"],["notificationTpl",""],["class","show-triangle top","id","notifications_popup",3,"hide",4,"ngIf"],["class","notifications-number",4,"ngIf"],[1,"search"],[4,"ngIf"],["role","combobox",1,"input-ctnr"],[1,"primary-color",3,"value","events","icon","attributes","valueChange","click"],["input",""],["class","hover-button",3,"tabIndex","click",4,"ngIf"],["class","filter-results","role","listbox","id","appsSearchResults",4,"ngIf"],[1,"notifications"],["tabindex","0",1,"notification-button",3,"clTooltip","clTooltipDirection","click"],["class","show-triangle top-right professional",3,"hide",4,"ngIf"],["role","button","tabindex","0",1,"menu-options","flex-center","cl-focusable-white",3,"keydown.Enter","keydown.space","click"],["onerror","this.src = 'assets/images/default-avatar.png'",3,"src","alt"],[1,"fas","fa-caret-down"],["class","profile-dropdown","clFocusTrap","",3,"click",4,"ngIf"],["id","linksmenu","role","menu","aria-label","A menu that provides shortcuts to other ClassLink apps and helpful links","tabindex","0","clKeyboardNav","",1,"links","custom-scroll",3,"clFocusTrap","click"],["alt","ClassLink Logo",1,"title-img",3,"src"],[4,"ngFor","ngForOf"],["inner",""],["class","dropdown-item flex-start-center","role","menuitem","clItem","",3,"href","target","id","focus","keydown.Enter",4,"ngIf"],["role","button menuitem","tabindex","0","class","dropdown-item flex-start-center","clItem","",3,"id","focus","click","keydown.Enter","keydown.Space",4,"ngIf"],["role","link menuitem","tabindex","0","class","dropdown-item flex-start-center","clItem","",3,"id","focus","click","keydown.Enter",4,"ngIf"],["role","menuitem","clItem","",1,"dropdown-item","flex-start-center",3,"href","target","id","focus","keydown.Enter"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["role","button menuitem","tabindex","0","clItem","",1,"dropdown-item","flex-start-center",3,"id","focus","click","keydown.Enter","keydown.Space"],["role","link menuitem","tabindex","0","clItem","",1,"dropdown-item","flex-start-center",3,"id","focus","click","keydown.Enter"],[1,"icon-ctnr"],[3,"class",4,"ngIf"],[3,"src","alt",4,"ngIf"],[3,"src","alt"],["onerror","this.src = 'assets/images/classlink-logo-invert.svg'",3,"src","alt"],[1,"cl-focusable-white",3,"clTooltip","clTooltipDirection","click"],[1,"far","fa-plus"],[1,"cl-tooltip"],["id","notifications_popup",1,"show-triangle","top"],[1,"notifications-number"],[1,"hover-button",3,"tabIndex","click"],[1,"far","fa-times"],["role","listbox","id","appsSearchResults",1,"filter-results"],["class","dropdown-item flex-start-center cl-focusable","role","option","tabindex","0",3,"active","focus","click","keydown.Enter",4,"ngFor","ngForOf"],["role","option","tabindex","0",1,"dropdown-item","flex-start-center","cl-focusable",3,"focus","click","keydown.Enter"],["appSubItem",""],["img",""],[1,"projection-ctnr",3,"innerHTML"],[1,"fas","fa-folder-open"],["alt","",3,"src","error",4,"ngIf"],["alt","",3,"src","error"],[1,"show-triangle","top-right","professional"],["clFocusTrap","",1,"profile-dropdown",3,"click"],[1,"info-sect","flex-start"],[1,"left","flex-start"],[1,"top"],[1,"profile-name"],[1,"profile-detail"],[1,"options","flex-start-center"],[1,"button-text",3,"click"],["class","button-text text-danger",3,"click",4,"ngIf"],["class","profile-selector flex-start-center","role","button","tabindex","0",3,"click","keydown.space","keydown.Enter",4,"ngIf"],[1,"button-text","text-danger",3,"click"],["role","button","tabindex","0",1,"profile-selector","flex-start-center",3,"click","keydown.space","keydown.Enter"],[1,"fal","fa-angle-down"],["class","profiles-list",4,"ngIf"],[1,"profiles-list"],["class","profile column-nowrap flex-start","role","button","tabindex","0",3,"active","click","keydown.Enter","keydown.space",4,"ngFor","ngForOf"],["role","button","tabindex","0",1,"profile","column-nowrap","flex-start",3,"click","keydown.Enter","keydown.space"]],template:function(t,e){1&t&&c.Cc(0,Bd,45,53,"ng-container",0)},directives:[ct.c,i.k,vt.P,vt.w,Fu,Tn,vt.y,vt.s,i.j,vt.C,i.o,Xu],styles:['[_nghost-%COMP%]{position:relative;-ms-flex-flow:column nowrap;flex-flow:column nowrap;-ms-flex-align:start;align-items:flex-start;height:auto;background-color:var(--color-nav);z-index:202}[_nghost-%COMP%], [_nghost-%COMP%]   .row[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-pack:start;justify-content:flex-start;width:100%;min-height:50px}[_nghost-%COMP%]   .row[_ngcontent-%COMP%]{-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-align:center;align-items:center;height:50px;-ms-flex:0 0 50px;flex:0 0 50px;max-height:50px;padding:7px 0}[_nghost-%COMP%]   h1[_ngcontent-%COMP%], [_nghost-%COMP%]   p[_ngcontent-%COMP%]{color:var(--color-nav-text)}[_nghost-%COMP%]   .border-right[_ngcontent-%COMP%]{border-right:1px solid hsla(0,0%,100%,.2)}[_nghost-%COMP%]   .icons[_ngcontent-%COMP%], [_nghost-%COMP%]   .logo[_ngcontent-%COMP%]{height:100%;padding:0 15px;position:relative}[_nghost-%COMP%]   svg[_ngcontent-%COMP%]{font-size:18px;color:var(--color-nav-text)}[_nghost-%COMP%]   img[_ngcontent-%COMP%]{width:auto;height:auto;margin-right:10px;max-width:40px;max-height:40px}.menu-button[_ngcontent-%COMP%]{position:absolute;top:0;left:0;background-color:var(--color-nav-text);height:50px;width:50px;z-index:1001}.menu-button[_ngcontent-%COMP%]:after{width:100%;height:100%;top:0;left:0}.menu-button[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:var(--color-nav)}.logo[_ngcontent-%COMP%]{margin-left:50px;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}.logo[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-weight:700;font-size:18px}.icons[_ngcontent-%COMP%] > button[_ngcontent-%COMP%], .icons[_ngcontent-%COMP%] > div[role=button][_ngcontent-%COMP%], .menu-options[_ngcontent-%COMP%]{position:relative;margin:0 5px;padding:0 5px}.icons[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]:before, .icons[_ngcontent-%COMP%] > div[role=button][_ngcontent-%COMP%]:before, .menu-options[_ngcontent-%COMP%]:before{content:"";position:absolute;opacity:0;border-radius:5px;background-color:var(--color-fade-white);z-index:-1}.icons[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]:after, .icons[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]:before, .icons[_ngcontent-%COMP%] > div[role=button][_ngcontent-%COMP%]:after, .icons[_ngcontent-%COMP%] > div[role=button][_ngcontent-%COMP%]:before, .menu-options[_ngcontent-%COMP%]:after, .menu-options[_ngcontent-%COMP%]:before{top:-5px;left:-3px;width:calc(100% + 6px);height:calc(100% + 10px)}.icons[_ngcontent-%COMP%] > button.active[_ngcontent-%COMP%]:before, .icons[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]:hover:before, .icons[_ngcontent-%COMP%] > div[role=button].active[_ngcontent-%COMP%]:before, .icons[_ngcontent-%COMP%] > div[role=button][_ngcontent-%COMP%]:hover:before, .menu-options.active[_ngcontent-%COMP%]:before, .menu-options[_ngcontent-%COMP%]:hover:before{opacity:1}app-dropdown-menu.notifications[_ngcontent-%COMP%]{position:absolute;top:43px;left:calc(100% - 77px);width:500px;max-height:500px;padding:0 5px 0 0}app-dropdown-menu.notifications[_ngcontent-%COMP%]:before{left:39px}.search[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center;margin-left:auto;-ms-flex-positive:0.5;flex-grow:0.5;height:100%;min-height:36px}.search[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{white-space:nowrap;font-size:12px;margin-right:10px}.search[_ngcontent-%COMP%]   .input-ctnr[_ngcontent-%COMP%]{position:relative;-ms-flex:1 1 auto;flex:1 1 auto;height:100%}.search[_ngcontent-%COMP%]   .input-ctnr[_ngcontent-%COMP%]   app-dropdown-menu[_ngcontent-%COMP%]{border-radius:5px;width:100%;top:100%}.search[_ngcontent-%COMP%]   .input-ctnr[_ngcontent-%COMP%]   app-dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]{display:block;color:var(--color-light)}.search[_ngcontent-%COMP%]   .input-ctnr[_ngcontent-%COMP%]   cl-input[_ngcontent-%COMP%]{height:100%}.search[_ngcontent-%COMP%]   .input-ctnr[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center;position:absolute;top:11px;right:161px;padding:0;height:15px}.search[_ngcontent-%COMP%]   .input-ctnr[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:var(--color-white);font-size:15px}.notifications[_ngcontent-%COMP%]{position:relative;display:none;-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center;margin:0 10px;height:100%}.notifications[_ngcontent-%COMP%]   button[_ngcontent-%COMP%] > svg[_ngcontent-%COMP%]{color:var(--color-dark)}.notifications[_ngcontent-%COMP%]   .notifications-number[_ngcontent-%COMP%]{border:2px solid var(--color-danger);color:var(--color-danger);top:2px;right:-2px;width:20px;height:20px}.menu-options[_ngcontent-%COMP%]{cursor:pointer;margin:0 15px 0 10px;height:36px}.menu-options[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:36px;height:36px;border-radius:50%;border:2px solid var(--color-nav-text);background-color:var(--color-white)}.profile-dropdown[_ngcontent-%COMP%], .profiles-list[_ngcontent-%COMP%]{position:absolute;top:50px;right:0;-ms-flex-flow:column nowrap;flex-flow:column nowrap;width:400px;padding:20px;background-color:var(--color-white);border-radius:5px 0 5px 5px;cursor:default;box-shadow:0 0 5px rgba(0,0,0,.25);z-index:202}.profile-dropdown[_ngcontent-%COMP%]:hover, .profiles-list[_ngcontent-%COMP%]:hover{opacity:1!important}.profile-dropdown[_ngcontent-%COMP%]   p.profile-name[_ngcontent-%COMP%], .profiles-list[_ngcontent-%COMP%]   p.profile-name[_ngcontent-%COMP%]{font-size:16px;font-weight:800;white-space:nowrap;text-overflow:ellipsis;width:250px;overflow:hidden;line-height:normal}.profile-dropdown[_ngcontent-%COMP%]   p.profile-name[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .profiles-list[_ngcontent-%COMP%]   p.profile-name[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:600;font-size:15px}.profile-dropdown[_ngcontent-%COMP%]   p.profile-detail[_ngcontent-%COMP%], .profiles-list[_ngcontent-%COMP%]   p.profile-detail[_ngcontent-%COMP%]{font-size:13px;font-weight:600;white-space:nowrap;text-overflow:ellipsis;width:240px;overflow:hidden;line-height:normal}.profile-dropdown[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .profiles-list[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:13px;font-weight:400;color:var(--color-dark)}.profile-dropdown[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .profiles-list[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:15px}.profile-dropdown[_ngcontent-%COMP%]   .info-sect[_ngcontent-%COMP%], .profiles-list[_ngcontent-%COMP%]   .info-sect[_ngcontent-%COMP%]{width:100%;height:115px}.profile-dropdown[_ngcontent-%COMP%]   .info-sect[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%], .profiles-list[_ngcontent-%COMP%]   .info-sect[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{-ms-flex-flow:column nowrap;flex-flow:column nowrap;width:75%}.profile-dropdown[_ngcontent-%COMP%]   .info-sect[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%], .profiles-list[_ngcontent-%COMP%]   .info-sect[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]{margin-bottom:15px}.profile-dropdown[_ngcontent-%COMP%]   .info-sect[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%] > *[_ngcontent-%COMP%], .profiles-list[_ngcontent-%COMP%]   .info-sect[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin-bottom:5px}.profile-dropdown[_ngcontent-%COMP%]   .info-sect[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .profiles-list[_ngcontent-%COMP%]   .info-sect[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-left:auto;width:100px;height:100px;border-radius:50%;max-width:none;max-height:none}.profile-dropdown[_ngcontent-%COMP%]   .profile-selector[_ngcontent-%COMP%], .profiles-list[_ngcontent-%COMP%]   .profile-selector[_ngcontent-%COMP%]{position:relative;border-top:1px solid var(--color-border-light);width:100%;height:auto;padding-top:20px;cursor:pointer;line-height:normal}.profile-dropdown[_ngcontent-%COMP%]   .profile-selector[_ngcontent-%COMP%]:after, .profiles-list[_ngcontent-%COMP%]   .profile-selector[_ngcontent-%COMP%]:after{height:100%;top:8px}.profile-dropdown[_ngcontent-%COMP%]   .profile-selector[_ngcontent-%COMP%]:hover, .profiles-list[_ngcontent-%COMP%]   .profile-selector[_ngcontent-%COMP%]:hover{opacity:1}.profile-dropdown[_ngcontent-%COMP%]   .profile-selector[_ngcontent-%COMP%] > span[_ngcontent-%COMP%], .profiles-list[_ngcontent-%COMP%]   .profile-selector[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{margin-left:auto}.profile-dropdown[_ngcontent-%COMP%]   .profile-selector[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%], .profiles-list[_ngcontent-%COMP%]   .profile-selector[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{font-size:20px;color:var(--color-dark)}.profile-dropdown[_ngcontent-%COMP%]   .profile-selector[_ngcontent-%COMP%]   .profiles-list[_ngcontent-%COMP%], .profiles-list[_ngcontent-%COMP%]   .profile-selector[_ngcontent-%COMP%]   .profiles-list[_ngcontent-%COMP%]{top:61px;right:-20px}.profile-dropdown[_ngcontent-%COMP%]   .profile-selector[_ngcontent-%COMP%]   .profiles-list[_ngcontent-%COMP%]   .profile[_ngcontent-%COMP%], .profiles-list[_ngcontent-%COMP%]   .profile-selector[_ngcontent-%COMP%]   .profiles-list[_ngcontent-%COMP%]   .profile[_ngcontent-%COMP%]{border-radius:5px;padding:10px}.profile-dropdown[_ngcontent-%COMP%]   .profile-selector[_ngcontent-%COMP%]   .profiles-list[_ngcontent-%COMP%]   .profile.active[_ngcontent-%COMP%], .profile-dropdown[_ngcontent-%COMP%]   .profile-selector[_ngcontent-%COMP%]   .profiles-list[_ngcontent-%COMP%]   .profile[_ngcontent-%COMP%]:hover, .profiles-list[_ngcontent-%COMP%]   .profile-selector[_ngcontent-%COMP%]   .profiles-list[_ngcontent-%COMP%]   .profile.active[_ngcontent-%COMP%], .profiles-list[_ngcontent-%COMP%]   .profile-selector[_ngcontent-%COMP%]   .profiles-list[_ngcontent-%COMP%]   .profile[_ngcontent-%COMP%]:hover{background-color:var(--color-bg-dark)}.profile-dropdown[_ngcontent-%COMP%]   .profile-selector[_ngcontent-%COMP%]   .profiles-list[_ngcontent-%COMP%]   .profile.active[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .profile-dropdown[_ngcontent-%COMP%]   .profile-selector[_ngcontent-%COMP%]   .profiles-list[_ngcontent-%COMP%]   .profile.active[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .profiles-list[_ngcontent-%COMP%]   .profile-selector[_ngcontent-%COMP%]   .profiles-list[_ngcontent-%COMP%]   .profile.active[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .profiles-list[_ngcontent-%COMP%]   .profile-selector[_ngcontent-%COMP%]   .profiles-list[_ngcontent-%COMP%]   .profile.active[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--color-primary)}.profile-dropdown[_ngcontent-%COMP%]   .profile-selector[_ngcontent-%COMP%]   .profiles-list[_ngcontent-%COMP%]   .profile[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .profiles-list[_ngcontent-%COMP%]   .profile-selector[_ngcontent-%COMP%]   .profiles-list[_ngcontent-%COMP%]   .profile[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-weight:700;font-size:14px;margin-bottom:3px}.profile-dropdown[_ngcontent-%COMP%]   .profile-selector[_ngcontent-%COMP%]   .profiles-list[_ngcontent-%COMP%]   .profile[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .profiles-list[_ngcontent-%COMP%]   .profile-selector[_ngcontent-%COMP%]   .profiles-list[_ngcontent-%COMP%]   .profile[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px;font-weight:600}app-dropdown-menu.links[_ngcontent-%COMP%]{width:300px;border-radius:0 5px 5px 5px;overflow-y:auto;max-height:100vh}app-dropdown-menu.links[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:var(--color-dark)}app-dropdown-menu.links[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{min-height:20px;height:20px}app-dropdown-menu.links[_ngcontent-%COMP%]   .toggle[_ngcontent-%COMP%]{margin-top:30px}app-dropdown-menu.links[_ngcontent-%COMP%]   .toggle[_ngcontent-%COMP%]   cl-slide-toggle[_ngcontent-%COMP%]{width:auto;height:auto}app-dropdown-menu.links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--color-dark)!important}app-dropdown-menu.filter-results.hidden[_ngcontent-%COMP%]{opacity:0;pointer-events:none}app-dropdown-menu.filter-results[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]{display:-ms-flexbox!important;display:flex!important}app-dropdown-menu.filter-results[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], app-dropdown-menu.filter-results[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{-ms-flex:0 0 30px;flex:0 0 30px;width:30px;margin-right:10px}app-dropdown-menu.filter-results[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:30px;-webkit-clip-path:url(#squareCircle);clip-path:url(#squareCircle)}app-dropdown-menu.filter-results[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{opacity:.8;font-size:30px;color:var(--color-dark)}app-dropdown-menu.filter-results[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:block;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.logo-svg[_ngcontent-%COMP%]{margin-right:10px}.logo-svg[_ngcontent-%COMP%]   .logo-path[_ngcontent-%COMP%]{fill:var(--color-nav-text)}@media screen and (max-width:700px){.logo[_ngcontent-%COMP%]{padding-right:0!important}.logo[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{display:none!important}}@media screen and (max-width:768px){.row[_ngcontent-%COMP%]{-ms-flex-pack:justify!important;justify-content:space-between!important}.search[_ngcontent-%COMP%]{max-width:30%;margin-left:0}.search[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{max-width:30%;min-width:0;-ms-flex-negative:1;flex-shrink:1;overflow:hidden;text-overflow:ellipsis}.search[_ngcontent-%COMP%]   .input-ctnr[_ngcontent-%COMP%]{max-width:100%}.menu-button[_ngcontent-%COMP%]{position:relative;min-width:50px}.logo[_ngcontent-%COMP%]{margin-left:0;padding:0 3px!important}.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:30px}.icons[_ngcontent-%COMP%]{padding-left:0;max-width:25%}}']}),t}(),zd=n("BgKl"),Vd=function(t){function e(e,n,i,o,r,a,s,c,l,p){var u=t.call(this,e,n,i,o,r,a,s,c)||this;return u.favoritesHelper=l,u.favoritesService=p,u.currentPage=0,u.scrollX.enabled=!0,u.scrollY.enabled=!1,u.CONTAINER_PROPS={rect:{top:0,left:0,bottom:0,right:0},totalWidth:window.innerWidth},u.APP_PROPS={width:80,height:80,marginY:0,marginX:0},u.thresholds=[50,50],u.subscriptions[1]=o.windowResized.subscribe((function(){u.setBoundaries()})),u.subscriptions[2]=l.favoritesPaged.subscribe((function(t){return u.currentPage=t})),u}return Object(R.c)(e,t),e.prototype.ngOnDestroy=function(){this.subscriptions.forEach((function(t){return t.unsubscribe()}))},e.prototype.setDragInformation=function(t,e){this.favorites=t,this.pages=e,this.dragSource&&this.dragSource.ele||(this.originPage=this.currentPage)},e.prototype.setElements=function(e){t.prototype.setElements.call(this,e),this.setBoundaries()},e.prototype.setWatch=function(){this.watchEvents=this.isDragging},e.prototype.setBoundaries=function(){var t=this;this.containerElement&&this.targets&&this.targets[0]&&Object(u.a)(0).subscribe((function(){var e=t.targets[0].element.getBoundingClientRect(),n=t.targets.slice(-1)[0].element.getBoundingClientRect();t.CONTAINER_PROPS.totalWidth=n.right-e.left,t.CONTAINER_PROPS.rect.top=e.top,t.CONTAINER_PROPS.rect.bottom=e.bottom,t.CONTAINER_PROPS.rect.left=e.left,t.CONTAINER_PROPS.rect.right=n.right}))},e.prototype.getTargetIndex=function(t,e){return this.containerElement?this.getColumn(t):(console.warn("No container found for drag-and-drop"),-1)},e.prototype.getPercentOffset=function(t){var e=this.getItemFullWidth(),n=this.getColumn(t);return(t-this.CONTAINER_PROPS.rect.left-e*n)/e*100},e.prototype.isOutOfBounds=function(t,e){return t<this.CONTAINER_PROPS.rect.left||e<this.CONTAINER_PROPS.rect.top||t>this.CONTAINER_PROPS.rect.right||e>this.CONTAINER_PROPS.rect.bottom},e.prototype.createFolder=function(){},e.prototype.addToFolder=function(){},e.prototype.checkScrollX=function(t,e){var n=this.currentPage;t&&e>=window.innerWidth-80&&this.currentPage<this.pages.length-1?n=this.currentPage+1:!t&&e<=80&&this.currentPage>0&&(n=this.currentPage-1),n!==this.currentPage&&(this.currentPage=n,this.favoritesHelper.favoritesPaged.next(n))},e.prototype.reorderApi=function(t,e){for(var n=this,i=0,o=0,r=0;r<this.originPage;r++)i+=this.pages[r].length;for(r=0;r<this.currentPage;r++)o+=this.pages[r].length;o+=e,this.favorites.splice(i+=t,1),this.favorites.splice(o,0,this.dragSource.app);var a=this.favorites.map((function(t){return t.id}));this.favoritesService.setFavorites(a).subscribe((function(t){n.favoritesHelper.favoritesUpdated.next(n.favorites)}))},e.prototype.convertIndexToCoordinates=function(t){var e=Math.floor(t%10),n=this.getItemFullWidth();return{x:this.CONTAINER_PROPS.rect.left+e*n,y:this.CONTAINER_PROPS.rect.top}},e.prototype.getInverseTranslation=function(t,e,n){var i=e?t:t+1,o=e?t+1:t;i=n?i-1:i,o=n?o-1:o;var r=Math.floor(i/10),a=i%10,s=Math.floor(o/10);return"translate3d("+(a-o%10)*(this.APP_PROPS.width+2*this.APP_PROPS.marginX)+"px, "+(r-s)*(this.APP_PROPS.height+2*this.APP_PROPS.marginY)+"px, 0)"},e.\u0275fac=function(t){return new(t||e)(c.Wb(p.a),c.Wb(M.a),c.Wb(l.a),c.Wb(vt.z),c.Wb(c.z),c.Wb(A.a),c.Wb(J.a),c.Wb(c.F),c.Wb(I.a),c.Wb(zd.a))},e.\u0275prov=c.Ib({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(yt),Gd=function(t){return{name:t}};function $d(t,e){if(1&t){var n=c.Tb();c.Sb(0,"img",5),c.Zb("error",(function(t){return c.vc(n),c.cc(2).handleImage(t)})),c.Rb()}if(2&t){var i=c.cc().$implicit,o=c.cc();c.ic("src",o.useHighRes?o.favorite.app.icon2x:o.favorite.app.icon,c.xc)("alt",i("altText",c.lc(2,Gd,o.favorite.app.name)))}}function Zd(t,e){if(1&t&&c.Nb(0,"i"),2&t){var n=c.cc(3);c.Cb(n.dropdownItem.icon)}}function Wd(t,e){if(1&t&&c.Nb(0,"img",9),2&t){var n=c.cc(2).$implicit,i=c.cc();c.ic("src",i.dropdownItem.customIcon+"_white.svg",c.xc)("alt",n("altText",c.lc(2,Gd,i.dropdownItem.title)))}}var qd=function(t){return{"background-color":t}};function Yd(t,e){if(1&t&&(c.Sb(0,"div",6),c.Cc(1,Zd,1,2,"i",7),c.Cc(2,Wd,1,4,"img",8),c.Rb()),2&t){var n=c.cc(2);c.ic("ngStyle",c.lc(3,qd,n.dropdownItem.color)),c.Ab(1),c.ic("ngIf",n.dropdownItem.icon),c.Ab(1),c.ic("ngIf",n.dropdownItem.customIcon)}}function Kd(t,e){if(1&t){var n=c.Tb();c.Qb(0),c.Sb(1,"div",1),c.Zb("dragstart",(function(t){return c.vc(n),c.cc().onDragStart(t)})),c.Sb(2,"div",2),c.Cc(3,$d,1,4,"img",3),c.Cc(4,Yd,3,5,"div",4),c.Rb(),c.Rb(),c.Pb()}if(2&t){var i=c.cc();c.Ab(3),c.ic("ngIf",i.favorite),c.Ab(1),c.ic("ngIf",i.dropdownItem)}}var Qd=function(){function t(t){var e=this;this.useHighRes=!1,this.subscriptions=[],this.subscriptions[0]=t.settingsUpdated.subscribe((function(t){return e.useHighRes=t.customUISettings.theme===pt.a.Primary||t.customUISettings.iconSize===Ot.a.Large}))}return t.prototype.ngOnDestroy=function(){this.subscriptions.forEach((function(t){return t.unsubscribe()}))},t.prototype.onDragStart=function(t){t.preventDefault()},t.prototype.handleImage=function(t){t.target.src=K.a.coreCDN+"/assets/images/default-app-icon.png"},t.\u0275fac=function(e){return new(e||t)(c.Mb(A.a))},t.\u0275cmp=c.Gb({type:t,selectors:[["favorite"]],inputs:{favorite:"favorite",dropdownItem:"dropdownItem"},decls:1,vars:1,consts:[[4,"transloco","translocoRead"],[1,"cl-clip-img-ctnr",3,"dragstart"],[1,"img-border"],[3,"src","alt","error",4,"ngIf"],["class","item-app",3,"ngStyle",4,"ngIf"],[3,"src","alt","error"],[1,"item-app",3,"ngStyle"],[3,"class",4,"ngIf"],[3,"src","alt",4,"ngIf"],[3,"src","alt"]],template:function(t,e){1&t&&c.Cc(0,Kd,5,2,"ng-container",0),2&t&&c.ic("translocoRead","apps")},directives:[ct.c,i.k,i.l],styles:[""]}),t}(),Jd=["draggable"],Xd=["focusable"],tb=function(t){return{$implicit:t}};function eb(t,e){if(1&t&&c.Ob(0,11),2&t){var n=e.$implicit;c.cc();var i=c.sc(9),o=c.sc(11);c.ic("ngTemplateOutlet",n.isDivider?i:o)("ngTemplateOutletContext",c.lc(2,tb,n))}}function nb(t,e){if(1&t&&c.Ob(0,11),2&t){var n=e.$implicit;c.cc();var i=c.sc(13);c.ic("ngTemplateOutlet",i)("ngTemplateOutletContext",c.lc(2,tb,n))}}function ib(t,e){1&t&&c.Nb(0,"div",12)}var ob=function(){return{top:15}};function rb(t,e){if(1&t){var n=c.Tb();c.Sb(0,"favorite",13,1),c.Zb("navigate",(function(t){return c.vc(n),c.cc().nav(t)}))("click",(function(){c.vc(n);var t=e.$implicit,i=c.cc();return t.link?i.goToLink(t):t.handler()}))("keydown.Enter",(function(){c.vc(n);var t=e.$implicit,i=c.cc();return t.link?i.goToLink(t):t.handler()}))("keydown.Space",(function(){c.vc(n);var t=e.$implicit,i=c.cc();return t.link||t.icon.includes("backpack")?i.return:t.handler()})),c.Rb()}if(2&t){var i=e.$implicit;c.cc();var o=c.sc(15);c.ic("customNavigation",!0)("dropdownItem",i)("clTooltip",o)("clTooltipContext",i)("clTooltipPositionOffset",c.kc(7,ob)),c.Bb("role",i.link||i.icon.includes("backpack")?"link":"button")("aria-label",i.title)}}function ab(t,e){if(1&t){var n=c.Tb();c.Sb(0,"favorite",14,15),c.Zb("navigate",(function(t){return c.vc(n),c.cc().nav(t)}))("contextmenu",(function(t){c.vc(n);var i=e.$implicit;return c.cc().openContextMenu(i,t)}))("keydown.Enter",(function(){c.vc(n);var t=e.$implicit;return c.cc().launchApp(t.app)}))("click",(function(){c.vc(n);var t=e.$implicit;return c.cc().launchApp(t.app)})),c.Rb()}if(2&t){var i=e.$implicit;c.cc();var o=c.sc(15);c.ic("customNavigation",!0)("favorite",i)("clTooltip",o)("clTooltipPositionOffset",c.kc(7,ob))("clTooltipContext",i),c.Bb("aria-label",i.app.name)("id",i.id)}}function sb(t,e){if(1&t&&(c.Sb(0,"div",16),c.Sb(1,"p"),c.Ec(2),c.Rb(),c.Rb()),2&t){var n=e.$implicit;c.Ab(2),c.Fc(n.app?n.app.name:n.title)}}var cb=function(t){return{hide:t}},lb=function(){function t(t,e,n,i,o,r,a,s,c,l,p,u){var d=this;this.appsHelper=t,this.favoritesService=e,this.sessionService=n,this.favoritesHelper=i,this.settingsHelper=o,this.contextMenuHelper=r,this.layoutService=a,this.favoriteDragHelper=s,this.ele=c,this.cdr=l,this.menuHelper=p,this.formPostAppHelper=u,this.dropdownItems=[],this.favorites=[],this.displayPages=[{links:[],favorites:[]}],this.currentPage=0,this.favoritesInit=!1,this.sidenavCollapsed=!1,this.subscriptions=[],this.subscriptions[0]=this.appsHelper.appsUpdated.subscribe((function(t){d.apps=t,d.favoritesInit||d.getFavorites()})),this.subscriptions[1]=this.appsHelper.editModeChanged.pipe(v(200)).subscribe((function(t){return d.isEditMode=t})),this.subscriptions[2]=this.favoritesHelper.favoritesUpdated.subscribe((function(t){d.favorites=t,d.setFavoritesPages()})),this.subscriptions[3]=this.sessionService.settingsUpdated.subscribe((function(t){d.settings=t,d.setFavoritesPages()})),this.subscriptions[4]=this.settingsHelper.dropdownItemsCreated.subscribe((function(t){d.dropdownItems=t.length>0&&"Support Docs"===t.slice(-1)[0].title?t.slice(0,-1):t,d.setFavoritesPages()})),this.subscriptions[5]=this.layoutService.windowResized.subscribe((function(){return d.setFavoritesPages()})),this.subscriptions[6]=this.settingsHelper.sidenavCollapseChanged.subscribe((function(t){d.sidenavCollapsed=t,d.setFavoritesPages()})),this.subscriptions[7]=this.favoritesHelper.favoritesPaged.subscribe((function(t){d.currentPage=t,d.cdr.detectChanges()}))}return t.prototype.ngAfterViewInit=function(){var t=this;Object(u.a)(0).subscribe((function(){return t.favoriteDragHelper.setAppsContainer(t.ele.nativeElement)})),this.updateDragHelper(this.draggables.toArray(),this.displayPages[this.currentPage].favorites),this.subscriptions[8]=this.draggables.changes.subscribe((function(e){t.updateDragHelper(e.toArray(),t.displayPages[t.currentPage].favorites)}))},t.prototype.ngOnDestroy=function(){this.subscriptions.forEach((function(t){return t.unsubscribe()}))},t.prototype.getFavorites=function(){var t=this;this.favoritesInit=!0,this.favoritesService.getFavorites().subscribe((function(e){return t.favoritesHelper.validateAndSetFavorites(e)}))},t.prototype.noAppContextOpen=function(t){this.openContextMenu(void 0,t)},t.prototype.openContextMenu=function(t,e){e.preventDefault(),e.stopPropagation(),this.menuHelper.closeAllMenus(),this.contextMenuHelper.changeMenuOptions.next({visible:!0,coordinates:{"top.px":e.clientY,"left.px":e.clientX},location:_.Favorite,app:t})},t.prototype.updateDragHelper=function(t,e){if(e&&0!==e.length){var n=e.map((function(e){return{element:j()(t,(function(t){return+t.nativeElement.id===e.id})),app:e}}));this.favoriteDragHelper.setElements(n),this.favoriteDragHelper.setDOMReferences(e);var i=this.displayPages.map((function(t){return t.favorites}));this.favoriteDragHelper.setDragInformation(this.favorites,i)}},t.prototype.setFavoritesPages=function(){var t,e;this.displayPages=[{links:[],favorites:[]}];for(var n=0,i=0,o=0;o<1/0;o++){this.displayPages[o]={links:[],favorites:[]};var r=this.getMaxItemsOnPage(o);if(n<this.dropdownItems.length&&(n=(t=this.getPages(this.dropdownItems,n,r,0!==this.favorites.length))[0],r=t[1],this.displayPages[o].links=t[2]),r>0&&(i=(e=this.getPages(this.favorites,i,r,!1))[0],r=e[1],this.displayPages[o].favorites=e[2]),i>=this.favorites.length)break}(this.currentPage<0||this.currentPage>this.displayPages.length-1)&&(this.currentPage=0,this.favoritesHelper.favoritesPaged.next(this.currentPage))},t.prototype.getPages=function(t,e,n,i){var o=e+n,r=n>t.length?t.length:n-e,a=t.slice(e,o);return e=o,(n-=r)>0&&i&&(a.push({isDivider:!0}),n-=1),[e,n,a]},t.prototype.pageFavorites=function(t){this.currentPage=this.currentPage+t,this.favoritesHelper.favoritesPaged.next(this.currentPage)},t.prototype.getMaxItemsOnPage=function(t){var e=window.innerWidth;this.settings&&this.settings.customUISettings.theme===pt.a.Professional&&(e-=this.sidenavCollapsed?100:250);var n=0===t?61:0,i=Math.floor((e-n-80)/80)+(n>0?1:0);return i>=1?i:1},t.prototype.launchApp=function(t){this.appsHelper.launchApp(t,null,this.formPostAppHelper.showLaunchDisabled(t))},t.prototype.goToLink=function(t){window.open(t.link,"_blank","noopener")},t.prototype.nav=function(t){if(t.stopPropagation(),t.preventDefault(),this.focusables.length){var e=this.focusables.toArray();ht.a.keyboardJump(e,t,!1)}},t.\u0275fac=function(e){return new(e||t)(c.Mb(p.a),c.Mb(zd.a),c.Mb(A.a),c.Mb(I.a),c.Mb(M.a),c.Mb(bt),c.Mb(vt.z),c.Mb(Vd),c.Mb(c.l),c.Mb(c.h),c.Mb(gt),c.Mb(dt))},t.\u0275cmp=c.Gb({type:t,selectors:[["app-favorites-bar"]],viewQuery:function(t,e){var n;1&t&&(c.Jc(Jd,!0,c.l),c.Jc(Xd,!0,c.l)),2&t&&(c.rc(n=c.ac())&&(e.draggables=n),c.rc(n=c.ac())&&(e.focusables=n))},hostBindings:function(t,e){1&t&&c.Zb("contextmenu",(function(t){return e.noAppContextOpen(t)}))},decls:16,vars:15,consts:[["clItem","","aria-label","reveal more favorited apps",1,"arrow","left",3,"customNavigation","ngClass","tabIndex","navigate","keydown.Enter","keydown.Space","click"],["focusable",""],[1,"fas","fa-angle-left"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngFor","ngForOf"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngFor","ngForOf","ngForTrackBy"],["clItem","","aria-label","reveal more favorited apps",1,"arrow","right",3,"customNavigation","ngClass","tabIndex","navigate","keydown.Enter","keydown.Space","click"],[1,"fas","fa-angle-right"],["dividerTpl",""],["linkTpl",""],["favoriteTpl",""],["tooltipRef",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"divider"],["clItem","","tabindex","0",1,"cl-app","favorite","cl-focusable",3,"customNavigation","dropdownItem","clTooltip","clTooltipContext","clTooltipPositionOffset","navigate","click","keydown.Enter","keydown.Space"],["clItem","","role","link","tabindex","0",1,"cl-app","favorite","cl-focusable",3,"customNavigation","favorite","clTooltip","clTooltipPositionOffset","clTooltipContext","navigate","contextmenu","keydown.Enter","click"],["draggable","","focusable",""],[1,"cl-tooltip"]],template:function(t,e){1&t&&(c.Sb(0,"button",0,1),c.Zb("navigate",(function(t){return e.nav(t)}))("keydown.Enter",(function(){return e.pageFavorites(-1)}))("keydown.Space",(function(){return e.pageFavorites(-1)}))("click",(function(){return e.pageFavorites(-1)})),c.Nb(2,"i",2),c.Rb(),c.Cc(3,eb,1,4,"ng-container",3),c.Cc(4,nb,1,4,"ng-container",4),c.Sb(5,"button",5,1),c.Zb("navigate",(function(t){return e.nav(t)}))("keydown.Enter",(function(){return e.pageFavorites(1)}))("keydown.Space",(function(){return e.pageFavorites(1)}))("click",(function(){return e.pageFavorites(1)})),c.Nb(7,"i",6),c.Rb(),c.Cc(8,ib,1,0,"ng-template",null,7,c.Dc),c.Cc(10,rb,2,8,"ng-template",null,8,c.Dc),c.Cc(12,ab,3,8,"ng-template",null,9,c.Dc),c.Cc(14,sb,3,1,"ng-template",null,10,c.Dc)),2&t&&(c.ic("customNavigation",!0)("ngClass",c.lc(11,cb,0===e.currentPage))("tabIndex",0===e.currentPage?-1:0),c.Bb("aria-hidden",0===e.currentPage),c.Ab(3),c.ic("ngForOf",null==e.displayPages[e.currentPage]?null:e.displayPages[e.currentPage].links),c.Ab(1),c.ic("ngForOf",null==e.displayPages[e.currentPage]?null:e.displayPages[e.currentPage].favorites)("ngForTrackBy",e.appsHelper.appTrackByFn),c.Ab(1),c.ic("customNavigation",!0)("ngClass",c.lc(13,cb,e.currentPage>=e.displayPages.length-1))("tabIndex",e.currentPage>=e.displayPages.length-1?-1:0),c.Bb("aria-hidden",e.currentPage>=e.displayPages.length-1))},directives:[vt.C,i.i,i.j,i.o,Qd,vt.P],styles:['[_nghost-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center;position:relative;top:-25px;height:80px;-ms-flex:0 0 80px;flex:0 0 80px;width:100%;z-index:200}[_nghost-%COMP%]:after{content:"";position:absolute;z-index:-1;top:25px;height:60px;width:100%;background-color:hsla(0,0%,100%,.2)}.move-down[_nghost-%COMP%]{-ms-transform:translateY(50px);transform:translateY(50px)}.arrow[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center;height:40px;width:40px}.arrow.left[_ngcontent-%COMP%]{margin-right:auto}.arrow.right[_ngcontent-%COMP%]{margin-left:auto}.arrow[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{font-size:20px;color:var(--color-white);filter:drop-shadow(2px 4px 6px black)}.arrow.hide[_ngcontent-%COMP%]{opacity:0;pointer-events:none}.divider[_ngcontent-%COMP%]{height:20px;width:1px;min-width:1px;-ms-flex:0 0 1px;flex:0 0 1px;background-color:hsla(0,0%,100%,.2);margin:0 10px}']}),t}();function pb(t,e){1&t&&c.Nb(0,"div",7)}function ub(t,e){if(1&t&&(c.Sb(0,"span",8),c.bc(),c.Sb(1,"svg",9),c.Nb(2,"path",10),c.Rb(),c.Rb()),2&t){var n=c.cc();c.Ab(1),c.ic("title","Single Sign On")("id",n.app.name+"_sso")}}function db(t,e){if(1&t&&(c.Sb(0,"span",13),c.bc(),c.Sb(1,"svg",14),c.Nb(2,"path",15),c.Rb(),c.Rb()),2&t){var n=c.cc(2);c.Ab(1),c.ic("title","Locked")("id",n.app.name+"_locked")}}function bb(t,e){if(1&t&&(c.Sb(0,"div",11),c.Cc(1,db,3,2,"span",12),c.Rb()),2&t){var n=c.cc();c.Ab(1),c.ic("ngIf",n.appLibHelper.showLock(n.app))}}function gb(t,e){if(1&t&&(c.Sb(0,"div",16),c.Sb(1,"p",17),c.Ec(2),c.dc(3,"title"),c.Rb(),c.Rb()),2&t){var n=c.cc();c.Ab(1),c.ic("id",n.app.name),c.Ab(1),c.Fc(c.fc(3,2,n.app.name,22))}}var fb=["*"],hb=function(){function t(t){this.appLibHelper=t,this.isAssigned=!1,this.hideName=!1}return t.prototype.handleImage=function(t){t.target.src=K.a.coreCDN+"/assets/images/default-app-icon.png"},t.\u0275fac=function(e){return new(e||t)(c.Mb(tt))},t.\u0275cmp=c.Gb({type:t,selectors:[["app-library-app"]],inputs:{app:"app",isAssigned:"isAssigned",hideName:"hideName"},ngContentSelectors:fb,decls:8,vars:5,consts:[[1,"cl-clip-img-ctnr"],["class","img-border assigned",4,"ngIf"],[1,"img-border"],["class","key",4,"ngIf"],["alt","",3,"src","error"],["class","flags",4,"ngIf"],["class","name",4,"ngIf"],[1,"img-border","assigned"],[1,"key"],["role","img","aria-label","Single Sign On App","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 512 512",3,"title","id"],["d","M512 176.001C512 273.203 433.202 352 336 352c-11.22 0-22.19-1.062-32.827-3.069l-24.012 27.014A23.999 23.999 0 0 1 261.223 384H224v40c0 13.255-10.745 24-24 24h-40v40c0 13.255-10.745 24-24 24H24c-13.255 0-24-10.745-24-24v-78.059c0-6.365 2.529-12.47 7.029-16.971l161.802-161.802C163.108 213.814 160 195.271 160 176 160 78.798 238.797.001 335.999 0 433.488-.001 512 78.511 512 176.001zM336 128c0 26.51 21.49 48 48 48s48-21.49 48-48-21.49-48-48-48-48 21.49-48 48z"],[1,"flags"],["class","locked",4,"ngIf"],[1,"locked"],["role","img","aria-label","Locked App","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 448 512",3,"title","id"],["d","M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zm-104 0H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z"],[1,"name"],[3,"id"]],template:function(t,e){1&t&&(c.hc(),c.Sb(0,"div",0),c.Cc(1,pb,1,0,"div",1),c.Sb(2,"div",2),c.Cc(3,ub,3,2,"span",3),c.Sb(4,"img",4),c.Zb("error",(function(t){return e.handleImage(t)})),c.Rb(),c.Rb(),c.Cc(5,bb,2,1,"div",5),c.Rb(),c.Cc(6,gb,4,5,"div",6),c.gc(7)),2&t&&(c.Ab(1),c.ic("ngIf",e.appLibHelper.isAppAssigned(e.app)),c.Ab(2),c.ic("ngIf",e.appLibHelper.showKey(e.app)),c.Ab(1),c.ic("src",e.app.icon,c.xc),c.Ab(1),c.ic("ngIf",e.appLibHelper.showFlags(e.app)),c.Ab(1),c.ic("ngIf",!e.hideName))},directives:[i.k],pipes:[kt.a],styles:["div.name[_ngcontent-%COMP%]{margin-top:5px!important;height:auto!important}div.name[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{min-height:42px;height:auto}"]}),t}(),mb=["appContainer"],vb=["scrollToTopBtn"],yb=["appLibApp"],Cb=["category"];function wb(t,e){if(1&t){var n=c.Tb();c.Qb(0),c.Sb(1,"div",20,21),c.Zb("keydown.Enter",(function(){c.vc(n);var t=e.$implicit;return c.cc(2).onCategorySelect(t)}))("keydown.Space",(function(){c.vc(n);var t=e.$implicit;return c.cc(2).onCategorySelect(t)}))("click",(function(){c.vc(n);var t=e.$implicit;return c.cc(2).onCategorySelect(t)})),c.Sb(3,"span"),c.Nb(4,"i"),c.Rb(),c.Sb(5,"p"),c.Ec(6),c.Rb(),c.Rb(),c.Pb()}if(2&t){var i=e.$implicit,o=c.cc(2);c.Ab(1),c.Eb("active",o.activeCategory&&o.activeCategory.id===i.id&&o.activeCategory.name===i.name),c.Ab(3),c.Cb("far fa-"+i.icon),c.Ab(2),c.Fc(i.name)}}function xb(t,e){if(1&t&&(c.Sb(0,"span"),c.Nb(1,"i"),c.Rb()),2&t){var n=c.cc(3);c.Ab(1),c.Cb("far fa-"+n.activeCategory.icon)}}function Pb(t,e){1&t&&c.Nb(0,"span")}function Sb(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",22),c.Cc(1,xb,2,2,"span",15),c.Cc(2,Pb,1,0,"span",15),c.Ec(3),c.Sb(4,"button",23),c.Zb("click",(function(){return c.vc(n),c.cc(2).onCategorySelect(void 0)}))("keydown.space",(function(){return c.vc(n),c.cc(2).onCategorySelect(void 0)})),c.Nb(5,"i",24),c.Rb(),c.Rb()}if(2&t){var i=c.cc(2);c.Ab(1),c.ic("ngIf",!i.hideIcon),c.Ab(1),c.ic("ngIf",i.hideIcon),c.Ab(1),c.Gc(" ",i.activeCategory.name," "),c.Ab(1),c.Bb("aria-label","remove "+i.activeCategory.name+" filter")}}function Ob(t,e){1&t&&(c.Qb(0),c.Nb(1,"cl-progress-spinner",32),c.Pb())}function Mb(t,e){if(1&t&&(c.Qb(0),c.Ec(1),c.Pb()),2&t){var n=c.cc(3).$implicit;c.Ab(1),c.Gc(" ",n("common.add")," ")}}function Ab(t,e){if(1&t){var n=c.Tb();c.Qb(0),c.Sb(1,"button",31),c.Zb("click",(function(t){c.vc(n);var e=c.cc().$implicit,i=c.cc(2);return t.stopPropagation(),i.appLibHelper.addApp(e)}))("keydown.space",(function(t){c.vc(n);var e=c.cc().$implicit,i=c.cc(2);return t.stopPropagation(),i.appLibHelper.addApp(e)}))("keydown.enter",(function(t){c.vc(n);var e=c.cc().$implicit,i=c.cc(2);return t.stopPropagation(),i.appLibHelper.addApp(e)})),c.Cc(2,Ob,2,0,"ng-container",15),c.Cc(3,Mb,2,1,"ng-container",15),c.Rb(),c.Pb()}if(2&t){var i=c.cc().$implicit,o=c.cc(2);c.Ab(1),c.Eb("disabled",!o.appLibHelper.canAppBeChanged(i)||o.appLibHelper.actionPending[i.id]),c.ic("tabIndex",o.appLibHelper.canAppBeChanged(i)?0:-1)("disabled",!o.appLibHelper.canAppBeChanged(i)||o.appLibHelper.actionPending[i.id]),c.Ab(1),c.ic("ngIf",o.appLibHelper.actionPending[i.id]),c.Ab(1),c.ic("ngIf",!o.appLibHelper.actionPending[i.id])}}function kb(t,e){1&t&&(c.Qb(0),c.Nb(1,"cl-progress-spinner",34),c.Pb())}function _b(t,e){if(1&t&&(c.Qb(0),c.Ec(1),c.Pb()),2&t){var n=c.cc(3).$implicit;c.Ab(1),c.Gc(" ",n("common.remove")," ")}}function Rb(t,e){if(1&t){var n=c.Tb();c.Sb(0,"button",33),c.Zb("click",(function(t){c.vc(n);var e=c.cc().$implicit,i=c.cc(2);return t.stopPropagation(),i.appLibHelper.removeApp(e)}))("keydown.space",(function(t){c.vc(n);var e=c.cc().$implicit,i=c.cc(2);return t.stopPropagation(),i.appLibHelper.removeApp(e)}))("keydown.enter",(function(t){c.vc(n);var e=c.cc().$implicit,i=c.cc(2);return t.stopPropagation(),i.appLibHelper.removeApp(e)})),c.Cc(1,kb,2,0,"ng-container",15),c.Cc(2,_b,2,1,"ng-container",15),c.Rb()}if(2&t){var i=c.cc().$implicit,o=c.cc(2);c.Eb("disabled",!o.appLibHelper.canAppBeChanged(i)||o.appLibHelper.actionPending[i.id]),c.ic("tabIndex",o.appLibHelper.canAppBeChanged(i)?0:-1)("disabled",!o.appLibHelper.canAppBeChanged(i)||o.appLibHelper.actionPending[i.id]),c.Ab(1),c.ic("ngIf",o.appLibHelper.actionPending[i.id]),c.Ab(1),c.ic("ngIf",!o.appLibHelper.actionPending[i.id])}}function Ib(t,e){if(1&t&&(c.Sb(0,"div",35),c.Sb(1,"p"),c.Ec(2),c.Rb(),c.Rb()),2&t){var n=c.cc().$implicit;c.Ab(2),c.Fc(n.name)}}var Tb=function(){return{top:10}};function Eb(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",25),c.Sb(1,"app-library-app",26,27),c.Zb("click",(function(){c.vc(n);var t=e.$implicit;return c.cc(2).selectApp(t)}))("keydown.Enter",(function(){c.vc(n);var t=e.$implicit;return c.cc(2).selectApp(t)}))("keydown.space",(function(){c.vc(n);var t=e.$implicit;return c.cc(2).selectApp(t)})),c.Rb(),c.Cc(3,Ab,4,6,"ng-container",28),c.Cc(4,Rb,3,6,"ng-template",null,29,c.Dc),c.Cc(6,Ib,3,1,"ng-template",null,30,c.Dc),c.Rb()}if(2&t){var i=e.$implicit,o=c.sc(5),r=c.sc(7),a=c.cc(2);c.Ab(1),c.Eb("assigned",a.appLibHelper.isAppAssigned(i)),c.ic("app",i)("clTooltip",a.appLibHelper.shouldShowTooltip(i)?r:void 0)("clTooltipPositionOffset",c.kc(9,Tb)),c.Bb("aria-labelledby",i.name)("aria-describedby",a.getDescriptorIds(i)),c.Ab(2),c.ic("ngIf",!a.appLibHelper.isAppAssigned(i))("ngIfElse",o)}}var Fb=function(t){return{value:t}};function Db(t,e){if(1&t){var n=c.Tb();c.Sb(0,"button",38),c.Zb("click",(function(){return c.vc(n),c.cc(3).loadMore()}))("keydown.space",(function(){return c.vc(n),c.cc(3).loadMore()})),c.Ec(1),c.Rb()}if(2&t){var i=c.cc(2).$implicit,o=c.cc();c.Ab(1),c.Gc(" ",i("appLibrary.seeMore",c.lc(1,Fb,o.totalLibSize>o.currentCollectionApps.length+o.tableFilters.limit?50:o.totalLibSize-o.currentCollectionApps.length))," ")}}var Nb=function(t,e){return{current:t,total:e}};function Lb(t,e){if(1&t&&(c.Sb(0,"div",36),c.Sb(1,"p"),c.Ec(2),c.Rb(),c.Cc(3,Db,2,3,"button",37),c.Rb()),2&t){var n=c.cc().$implicit,i=c.cc();c.Ab(2),c.Fc(n("appLibrary.currentlyViewing",c.mc(2,Nb,i.totalLibSize<=i.currentCollectionApps.length?i.totalLibSize:i.tableFilters.offset+i.tableFilters.limit,i.totalLibSize))),c.Ab(1),c.ic("ngIf",i.canLoad)}}function Hb(t,e){if(1&t&&(c.Qb(0),c.Sb(1,"h3"),c.Ec(2),c.Rb(),c.Pb()),2&t){var n=c.cc().$implicit;c.Ab(2),c.Fc(n("appLibrary.mainDisplay.noApps"))}}function Ub(t,e){1&t&&(c.Sb(0,"div",39),c.Nb(1,"cl-progress-spinner",40),c.Rb()),2&t&&(c.Ab(1),c.ic("strokeWidth",2))}function Bb(t,e){if(1&t){var n=c.Tb();c.Qb(0),c.Sb(1,"div",1),c.Sb(2,"div",2),c.Zb("keydown.space",(function(t){return c.vc(n),t.preventDefault()})),c.Sb(3,"h3"),c.Ec(4),c.Rb(),c.Sb(5,"p",3),c.Ec(6),c.Rb(),c.Sb(7,"div",4),c.Zb("click",(function(){return c.vc(n),c.cc().skipToApps()}))("keydown.Enter",(function(){return c.vc(n),c.cc().skipToApps()})),c.Sb(8,"p"),c.Ec(9),c.Rb(),c.Rb(),c.Cc(10,wb,7,5,"ng-container",5),c.Rb(),c.Sb(11,"div",6,7),c.Zb("scroll",(function(t){return c.vc(n),c.cc().onContainerScroll(t)}))("keydown.space",(function(t){return c.vc(n),t.preventDefault()})),c.Sb(13,"div",8),c.Sb(14,"h3",9),c.Ec(15),c.Rb(),c.Cc(16,Sb,6,4,"div",10),c.Rb(),c.Sb(17,"div",11),c.Sb(18,"div",12),c.Zb("click",(function(){return c.vc(n),c.cc().skipToCats()}))("keydown.enter",(function(){return c.vc(n),c.cc().skipToCats()})),c.Sb(19,"p"),c.Ec(20),c.Rb(),c.Rb(),c.Rb(),c.Cc(21,Eb,8,10,"div",13),c.Cc(22,Lb,4,5,"div",14),c.Cc(23,Hb,3,1,"ng-container",15),c.Cc(24,Ub,2,1,"div",16),c.Rb(),c.Rb(),c.Sb(25,"div",17,18),c.Zb("click",(function(){return c.vc(n),c.cc().scrollToTop()})),c.Nb(27,"i",19),c.Rb(),c.Pb()}if(2&t){var i=e.$implicit,o=c.cc();c.Ab(4),c.Fc(i("appLibrary.categories.appCategories")),c.Ab(2),c.Fc(i("appLibrary.categories.categoriesDescription")),c.Ab(3),c.Fc(i("appLibrary.categories.skipLink")),c.Ab(1),c.ic("ngForOf",o.categories),c.Ab(1),c.ic("scrollWindow",!1)("clGrid",!0),c.Bb("aria-labelledby",o.activeCollection.Name+"_tab"),c.Ab(4),c.Fc(o.activeCollection.Name),c.Ab(1),c.ic("ngIf",o.activeCategory),c.Ab(4),c.Fc(i("appLibrary.skipLink")),c.Ab(1),c.ic("ngForOf",o.currentCollectionApps),c.Ab(1),c.ic("ngIf",o.currentCollectionApps&&o.currentCollectionApps.length),c.Ab(1),c.ic("ngIf",o.currentCollectionApps&&0===o.currentCollectionApps.length),c.Ab(1),c.ic("ngIf",o.loadingApps)}}var jb=function(){function t(t,e,n,i,o,r){var a=this;this.settingsHelper=t,this.slideoverService=e,this.nodeApi=n,this.appsService=i,this.layoutService=o,this.appLibHelper=r,this.appSelected=new c.n,this.visible=!1,this.loadingApps=!0,this.pushItems=!1,this.activeCollection={Id:-1,Name:"All Apps",TenantWide:!0},this.tableFilters=new lc({limit:50,offset:0,term:""}),this.hideIcon=!1,this.canLoad=!1,this.showScrollBtn=!1,this.PADDING=25,this.subscriptions=[],this.subscriptions[0]=this.layoutService.windowResized.subscribe((function(t){return a.setAppSize()})),this.subscriptions[1]=this.appLibHelper.collectionUpdated.subscribe((function(t){return a.setActiveCollection(t)})),this.subscriptions[2]=this.appLibHelper.filterUpdated.pipe(v(250)).subscribe((function(t){return a.onSearch(t)})),this.subscriptions[3]=this.appLibHelper.suggestionClicked.subscribe((function(t){return a.onSuggestionClick(t)})),this.subscriptions[4]=this.slideoverService.appLibrary.opened.subscribe((function(t){return setTimeout((function(){return a.setAppSize()}),0)})),this.mutationObserver=new MutationObserver((function(){return a.setAppSize()}))}return t.prototype.ngOnInit=function(){this.getApps()},t.prototype.ngAfterViewInit=function(){var t=this;Object(u.a)(0).subscribe((function(){return t.mutationObserver.observe(t.appContainer.nativeElement,{childList:!0})}))},t.prototype.ngOnDestroy=function(){this.subscriptions.forEach((function(t){return t.unsubscribe()}))},t.prototype.getApps=function(){this.loadingApps=!0,this.activeCollection&&-1!==this.activeCollection.Id&&this.activeCategory?this.getAppsByCategoryAndCollection():this.activeCollection&&-1!==this.activeCollection.Id&&!this.activeCategory?this.getAppsByCollection():!this.activeCollection||-1===this.activeCollection.Id&&this.activeCategory?this.getAppsByCategory():this.getGeneralApps()},t.prototype.getGeneralApps=function(){var t=this;this.appsService.getAppsForProfile(this.tableFilters).subscribe((function(e){return t.handleAppResponse(e)}))},t.prototype.getAppsByCollection=function(){var t=this;this.appsService.getAppsByCollection(this.activeCollection.Id,this.tableFilters).subscribe((function(e){return t.handleAppResponse(e)}))},t.prototype.getAppsByCategory=function(){var t=this;this.appsService.getAppsByCategory(this.activeCategory,this.tableFilters,this.educationId).subscribe((function(e){return t.handleAppResponse(e)}))},t.prototype.getAppsByCategoryAndCollection=function(){var t=this;this.appsService.getAppsByCategoryAndCollection(this.activeCollection,this.activeCategory,this.tableFilters,this.educationId).subscribe((function(e){return t.handleAppResponse(e)}))},t.prototype.setAppSize=function(){if(this.appContainer){var t=this.appContainer.nativeElement.getBoundingClientRect(),e=t.width?t.width:t.right-t.left,n=this.settingsHelper.getScrollBarWidth();this.settingsHelper.updateAppMarginRule(".app-lib-margin",e-n-2*this.PADDING,143,5)}},t.prototype.handleAppResponse=function(t){var e;this.totalLibSize=t.totalRows;var n=t.apps;this.pushItems?(e=this.currentCollectionApps).push.apply(e,n):this.currentCollectionApps=n,this.canLoad=this.currentCollectionApps.length<this.totalLibSize,this.loadingApps=!1},t.prototype.onPageScrolled=function(){this.pushItems=!0,this.tableFilters.offset+=50,this.getApps()},t.prototype.loadMore=function(){this.pushItems=!0,this.tableFilters.offset+=50,this.getApps()},t.prototype.onCategorySelect=function(t){var e=this;this.appContainer&&(this.appContainer.nativeElement.scrollTop=0),this.hideIcon=!0,this.activeCategory=t,this.pushItems=!1,this.tableFilters.offset=0,this.tableFilters.term="",this.getApps(),setTimeout((function(){return e.hideIcon=!1}),0)},t.prototype.setActiveCollection=function(t){this.activeCollection&&t&&this.activeCollection.Id===t.Id||(this.activeCollection=t,this.appContainer&&(this.appContainer.nativeElement.scrollTop=0),this.activeCategory=void 0,this.tableFilters.offset=0,this.tableFilters.limit=50,this.tableFilters.term="",this.pushItems=!1,this.getApps())},t.prototype.onSearch=function(t){this.pushItems=!1,this.canLoad=!1,this.tableFilters.offset=0,this.tableFilters.term=t,this.appContainer&&(this.appContainer.nativeElement.scrollTop=0),this.getApps()},t.prototype.onSuggestionClick=function(t){this.pushItems=!1,this.tableFilters.offset=0,this.tableFilters.term=t.ApplicationName,this.getApps()},t.prototype.selectApp=function(t){this.appSelected.emit(t)},t.prototype.skipToApps=function(){this.appLibApps.toArray()[0].nativeElement.focus()},t.prototype.skipToCats=function(){this.categoryElements.toArray()[0].nativeElement.focus()},t.prototype.getDescriptorIds=function(t){var e=this.appLibHelper.showLock(t)?t.name+"_locked":"",n=this.appLibHelper.showKey(t)?t.name+"_key":"";return""!==e&&""!==n?e+" "+n:e+n},t.prototype.onContainerScroll=function(t){this.appContainer.nativeElement.scrollTop/(this.appContainer.nativeElement.scrollHeight-this.appContainer.nativeElement.clientHeight)>.4?this.scrollToTopBtn.nativeElement.classList.add("show-btn"):this.scrollToTopBtn.nativeElement.classList.remove("show-btn")},t.prototype.scrollToTop=function(){this.appContainer.nativeElement.scrollTop=0},t.\u0275fac=function(e){return new(e||t)(c.Mb(M.a),c.Mb(z.a),c.Mb(l.a),c.Mb(Q),c.Mb(vt.z),c.Mb(tt))},t.\u0275cmp=c.Gb({type:t,selectors:[["app-main-display"]],viewQuery:function(t,e){var n;1&t&&(c.Jc(mb,!0),c.Jc(vb,!0),c.Jc(yb,!0,c.l),c.Jc(Cb,!0,c.l)),2&t&&(c.rc(n=c.ac())&&(e.appContainer=n.first),c.rc(n=c.ac())&&(e.scrollToTopBtn=n.first),c.rc(n=c.ac())&&(e.appLibApps=n),c.rc(n=c.ac())&&(e.categoryElements=n))},inputs:{categories:"categories",educationId:"educationId"},outputs:{appSelected:"appSelected"},decls:1,vars:0,consts:[[4,"transloco"],[1,"main-content","flex-start"],["clKeyboardNav","",1,"categories","flex-start","custom-scroll",3,"keydown.space"],["id","catDescription",1,"cat-description"],["clItem","","role","link","tabindex","0",1,"skip-link",3,"click","keydown.Enter"],[4,"ngFor","ngForOf"],["clKeyboardNav","","tabindex","0","role","tabpanel","id","appLibPanel",1,"scrollable-content","flex-start","custom-scroll",3,"scrollWindow","clGrid","scroll","keydown.space"],["appContainer",""],[1,"active-category-ctnr"],["id","collectionName"],["class","flex-start-center",4,"ngIf"],[1,"skip-link-wrapper"],["role","link","tabindex","0",1,"skip-link",3,"click","keydown.enter"],["class","cl-app-wrapper",4,"ngFor","ngForOf"],["class","load-more",4,"ngIf"],[4,"ngIf"],["class","spinner-ctnr flex-center",4,"ngIf"],["role","button",1,"back-to-top-btn","flex-center",3,"click"],["scrollToTopBtn",""],[1,"fas","fa-arrow-up"],["clItem","","aria-describedby","catDescription","role","button","tabindex","0",1,"category","flex-start-center",3,"keydown.Enter","keydown.Space","click"],["category",""],[1,"flex-start-center"],[1,"close-cat","focusable-white","focusable-small",3,"click","keydown.space"],[1,"far","fa-times"],[1,"cl-app-wrapper"],["clItem","","tabindex","0","role","link",1,"cl-app","app-library","app-lib-margin","focusable",3,"app","clTooltip","clTooltipPositionOffset","click","keydown.Enter","keydown.space"],["appLibApp",""],[4,"ngIf","ngIfElse"],["removeButton",""],["tooltip",""],[1,"flex-center","button",3,"tabIndex","disabled","click","keydown.space","keydown.enter"],["strokeColor","var(--color-primary)"],[1,"flex-center","remove","button",3,"tabIndex","disabled","click","keydown.space","keydown.enter"],["strokeColor","var(--color-danger)"],[1,"cl-tooltip"],[1,"load-more"],["class","button button-primary",3,"click","keydown.space",4,"ngIf"],[1,"button","button-primary",3,"click","keydown.space"],[1,"spinner-ctnr","flex-center"],[3,"strokeWidth"]],template:function(t,e){1&t&&c.Cc(0,Bb,28,14,"ng-container",0)},directives:[ct.c,vt.y,vt.C,i.j,i.k,hb,vt.P,vt.F],styles:['[_nghost-%COMP%]{position:relative;display:-ms-flexbox;display:flex;-ms-flex-flow:column nowrap;flex-flow:column nowrap;height:calc(100% - 100px)}.main-content[_ngcontent-%COMP%]{-ms-flex-flow:row nowrap;flex-flow:row nowrap;background-color:#fff;width:100%;height:100%}.main-content[_ngcontent-%COMP%]   .skip-link[_ngcontent-%COMP%]{opacity:0;height:0;border:2px solid var(--color-primary);border-radius:5px;transition:all .2s linear;cursor:pointer}.main-content[_ngcontent-%COMP%]   .skip-link[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--color-primary);font-size:calc(var(--font-modifier) * 12px);font-weight:600}.main-content[_ngcontent-%COMP%]   .skip-link[_ngcontent-%COMP%]:focus{opacity:1;margin:10px 0;height:auto;padding:10px 20px}.main-content[_ngcontent-%COMP%]   .categories[_ngcontent-%COMP%]{width:250px;height:100%;-ms-flex-flow:column nowrap;flex-flow:column nowrap;padding:20px 10px 20px 35px;border-right:1px solid #ddd;overflow:auto;-ms-flex:0 0 250px;flex:0 0 250px;min-height:100%}.main-content[_ngcontent-%COMP%]   .categories[_ngcontent-%COMP%]::-webkit-scrollbar{min-width:6px!important;max-width:6px!important}.main-content[_ngcontent-%COMP%]   .categories[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#e6e6e6!important;border-radius:1px!important}.main-content[_ngcontent-%COMP%]   .categories[_ngcontent-%COMP%]   .cat-description[_ngcontent-%COMP%]{color:var(--color-medium);margin:10px 0}.main-content[_ngcontent-%COMP%]   .categories[_ngcontent-%COMP%]   .category[_ngcontent-%COMP%]{height:40px;-ms-flex:0 0 40px;flex:0 0 40px;cursor:pointer;position:relative}.main-content[_ngcontent-%COMP%]   .categories[_ngcontent-%COMP%]   .category.active[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .main-content[_ngcontent-%COMP%]   .categories[_ngcontent-%COMP%]   .category.active[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%], .main-content[_ngcontent-%COMP%]   .categories[_ngcontent-%COMP%]   .category[_ngcontent-%COMP%]:hover   p[_ngcontent-%COMP%], .main-content[_ngcontent-%COMP%]   .categories[_ngcontent-%COMP%]   .category[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%]{color:var(--color-primary)!important}.main-content[_ngcontent-%COMP%]   .categories[_ngcontent-%COMP%]   .category.active[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:700}.main-content[_ngcontent-%COMP%]   .categories[_ngcontent-%COMP%]   .category.active[_ngcontent-%COMP%]:before{content:"";position:absolute;width:4px;height:100%;left:-35px;top:0;background-color:var(--color-primary);border-radius:2px}.main-content[_ngcontent-%COMP%]   .categories[_ngcontent-%COMP%]   .category[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-right:10px}.main-content[_ngcontent-%COMP%]   .categories[_ngcontent-%COMP%]   .category[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:#333;margin-right:5px;font-size:16px;width:20px}.main-content[_ngcontent-%COMP%]   .categories[_ngcontent-%COMP%]   .category[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:600;font-size:12px;word-break:break-all;word-break:break-word}.main-content[_ngcontent-%COMP%]   .scrollable-content[_ngcontent-%COMP%]{-ms-flex:0 0 calc(100% - 250px);flex:0 0 calc(100% - 250px);-ms-flex-preferred-size:calc(100% - 250px);flex-basis:calc(100% - 250px);width:calc(100% - 250px);-ms-flex-flow:row wrap;flex-flow:row wrap;height:100%;padding:20px;-ms-flex-line-pack:start;align-content:flex-start;background-color:#fcfcfc}.main-content[_ngcontent-%COMP%]   .scrollable-content[_ngcontent-%COMP%]::-webkit-scrollbar{min-width:10px!important;max-width:10px!important}.main-content[_ngcontent-%COMP%]   .scrollable-content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#ddd!important;border-radius:1px!important}.main-content[_ngcontent-%COMP%]   .scrollable-content[_ngcontent-%COMP%]   .skip-link-wrapper[_ngcontent-%COMP%]{width:100%;padding-left:30px}.main-content[_ngcontent-%COMP%]   .scrollable-content[_ngcontent-%COMP%]   .skip-link-wrapper[_ngcontent-%COMP%]   .skip-link[_ngcontent-%COMP%]{width:-webkit-max-content;width:-moz-max-content;width:max-content}.main-content[_ngcontent-%COMP%]   .scrollable-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{opacity:.8;margin:20px 30px}.main-content[_ngcontent-%COMP%]   .scrollable-content[_ngcontent-%COMP%]   .active-category-ctnr[_ngcontent-%COMP%]{width:100%;height:50px;max-height:50px;padding:0 15px;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}.main-content[_ngcontent-%COMP%]   .scrollable-content[_ngcontent-%COMP%]   .active-category-ctnr[_ngcontent-%COMP%] > h3[_ngcontent-%COMP%]{font-size:18px;font-weight:800;margin-right:30px;margin-left:15px;color:var(--color-dark);opacity:1}.main-content[_ngcontent-%COMP%]   .scrollable-content[_ngcontent-%COMP%]   .active-category-ctnr[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background-color:var(--color-primary);padding:10px;font-size:13px;font-weight:600;color:#fff;border-radius:5px;width:auto}.main-content[_ngcontent-%COMP%]   .scrollable-content[_ngcontent-%COMP%]   .active-category-ctnr[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:14px;margin-right:10px}.main-content[_ngcontent-%COMP%]   .scrollable-content[_ngcontent-%COMP%]   .active-category-ctnr[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:10px;color:#fff}.main-content[_ngcontent-%COMP%]   .scrollable-content[_ngcontent-%COMP%]   .cl-app-wrapper[_ngcontent-%COMP%]   .cl-app[_ngcontent-%COMP%]{-ms-flex-pack:center;justify-content:center}.main-content[_ngcontent-%COMP%]   .scrollable-content[_ngcontent-%COMP%]   .cl-app-wrapper[_ngcontent-%COMP%]   .cl-app.app-library[_ngcontent-%COMP%]{height:125px;margin-bottom:10px}.main-content[_ngcontent-%COMP%]   .scrollable-content[_ngcontent-%COMP%]   .cl-app-wrapper[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-radius:5px;padding:5px;margin:10px auto 40px;width:80px;height:30px;font-weight:700;color:var(--color-primary);background-color:#fff;border:2px solid var(--color-primary);font-size:calc(var(--font-modifier) * 13px);transition:background-color .1s ease-in-out;min-width:unset}.main-content[_ngcontent-%COMP%]   .scrollable-content[_ngcontent-%COMP%]   .cl-app-wrapper[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   cl-progress-spinner[_ngcontent-%COMP%]{width:100%;height:100%;position:relative}.main-content[_ngcontent-%COMP%]   .scrollable-content[_ngcontent-%COMP%]   .cl-app-wrapper[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#e0f4ff}.main-content[_ngcontent-%COMP%]   .scrollable-content[_ngcontent-%COMP%]   .cl-app-wrapper[_ngcontent-%COMP%]   button.remove[_ngcontent-%COMP%]{color:#da3939;border-color:#da3939}.main-content[_ngcontent-%COMP%]   .scrollable-content[_ngcontent-%COMP%]   .cl-app-wrapper[_ngcontent-%COMP%]   button.remove[_ngcontent-%COMP%]:hover{background-color:#fff1f1}.main-content[_ngcontent-%COMP%]   .scrollable-content[_ngcontent-%COMP%]   .spinner-ctnr[_ngcontent-%COMP%]{width:100%;margin-top:20px}.main-content[_ngcontent-%COMP%]   .scrollable-content[_ngcontent-%COMP%]   .load-more[_ngcontent-%COMP%]{width:100%;padding:30px 0 60px}.main-content[_ngcontent-%COMP%]   .scrollable-content[_ngcontent-%COMP%]   .load-more[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center}.main-content[_ngcontent-%COMP%]   .scrollable-content[_ngcontent-%COMP%]   .load-more[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:20px auto 0}.back-to-top-btn[_ngcontent-%COMP%]{background-color:var(--color-primary);border-radius:50%;height:40px;width:40px;position:fixed;right:30px;bottom:30px;box-shadow:0 0 20px var(--color-shadow);-ms-transform:translateY(100px);transform:translateY(100px);transition:all .5s ease;opacity:0}.back-to-top-btn.show-btn[_ngcontent-%COMP%]{opacity:1;-ms-transform:translateY(0);transform:translateY(0)}.back-to-top-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:var(--color-white);font-size:16px}']}),t}(),zb=n("k8Y/"),Vb=n.n(zb),Gb=["tabsContainer"],$b=["tabitem"];function Zb(t,e){if(1&t&&(c.Qb(0),c.Sb(1,"div",20),c.Sb(2,"div",21),c.Sb(3,"div"),c.Sb(4,"h4"),c.Ec(5),c.Rb(),c.Rb(),c.Rb(),c.Rb(),c.Pb()),2&t){var n=c.cc(2).$implicit;c.Ab(5),c.Fc(n("common.noResults"))}}var Wb=function(t){return{name:t}};function qb(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",22),c.Zb("click",(function(){c.vc(n);var t=e.$implicit;return c.cc(3).onSuggestionClick(t)}))("keydown.Enter",(function(){c.vc(n);var t=e.$implicit;return c.cc(3).onSuggestionClick(t)})),c.Sb(1,"img",23),c.Zb("error",(function(t){return c.vc(n),c.cc(3).handleImage(t)})),c.Rb(),c.Sb(2,"div",21),c.Sb(3,"div",24),c.Sb(4,"p"),c.Ec(5),c.Rb(),c.Nb(6,"i"),c.Sb(7,"p"),c.Ec(8),c.Rb(),c.Rb(),c.Sb(9,"p"),c.Ec(10),c.Rb(),c.Rb(),c.Rb()}if(2&t){var i=e.$implicit,o=c.cc(2).$implicit;c.Ab(1),c.ic("src",i.defaulturl,c.xc)("alt",o("apps.altText",c.lc(7,Wb,i.ApplicationName))),c.Ab(4),c.Fc(i.ApplicationName),c.Ab(1),c.Cb("far fa-"+i.CategoryIcon),c.Ab(2),c.Fc(i.CategoryName),c.Ab(2),c.Fc(i.AppDescription)}}function Yb(t,e){if(1&t&&(c.Sb(0,"div",17),c.Cc(1,Zb,6,1,"ng-container",18),c.Cc(2,qb,11,9,"div",19),c.Rb()),2&t){var n=c.cc(2);c.Ab(1),c.ic("ngIf",0===n.suggestedApps.length),c.Ab(1),c.ic("ngForOf",n.suggestedApps)}}function Kb(t,e){if(1&t){var n=c.Tb();c.Sb(0,"button",25),c.Zb("click",(function(){c.vc(n);var t=c.cc(2);return t.searchVal="",t.onSearch()})),c.Nb(1,"i",10),c.Rb()}if(2&t){var i=c.cc(2);c.Eb("disabled",0!==i.currentView)}}function Qb(t,e){if(1&t){var n=c.Tb();c.Sb(0,"button",26),c.Zb("click",(function(){return c.vc(n),c.cc(2).onAddApp()})),c.Nb(1,"i",27),c.Ec(2),c.Rb()}if(2&t){var i=c.cc().$implicit;c.Bb("aria-label",i("appLibrary.addApp.addApp")),c.Ab(2),c.Fc(i("appLibrary.addApp.addApp"))}}function Jb(t,e){1&t&&(c.Sb(0,"span"),c.Nb(1,"i",30),c.Rb())}function Xb(t,e){if(1&t){var n=c.Tb();c.Sb(0,"button",28,29),c.Zb("navigate",(function(t){c.vc(n);var i=e.index;return c.cc(2).nav(t,i)}))("keydown.Enter",(function(){c.vc(n);var t=e.$implicit,i=e.index;return c.cc(2).setActiveCollection(t,i)}))("keydown.tab",(function(t){return c.vc(n),c.cc(2).redirectFocus(t)}))("click",(function(){c.vc(n);var t=e.$implicit,i=e.index;return c.cc(2).setActiveCollection(t,i)})),c.Cc(2,Jb,2,0,"span",18),c.Ec(3),c.Rb()}if(2&t){var i=e.$implicit,o=e.index,r=c.cc(2);c.Eb("active",r.activeTab===o)("disabled",0!==r.currentView),c.ic("id",i.Name+"_tab")("tabindex",0===r.currentView&&r.activeTab===o?0:-1)("disabled",0!==r.currentView)("customNavigation",!0),c.Bb("aria-selected",r.activeTab==o),c.Ab(2),c.ic("ngIf",0!==o),c.Ab(1),c.Gc("",i.Name," ")}}function tg(t,e){if(1&t){var n=c.Tb();c.Sb(0,"button",31),c.Zb("click",(function(t){return c.vc(n),c.cc(2).toggleOverflowDrop(t)})),c.Nb(1,"i",32),c.Rb()}}function eg(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",33),c.Zb("click",(function(){c.vc(n);var t=e.$implicit,i=e.index,o=c.cc(2);return o.setActiveCollection(t,o.collections.length+i)})),c.Nb(1,"i",34),c.Ec(2),c.Rb()}if(2&t){var i=e.$implicit,o=c.cc(2);c.Eb("active",o.activeCollection.Id===i.Id),c.Ab(2),c.Gc(" ",i.Name," ")}}var ng=function(t,e){return{type:"text","aria-label":t,tabindex:e}},ig=function(t){return{"keydown.enter":t}};function og(t,e){if(1&t){var n=c.Tb();c.Qb(0),c.Sb(1,"div",1),c.Sb(2,"h2",2),c.Zb("click",(function(){c.vc(n);var t=c.cc();return 0!==t.currentView?t.goToMainMenu():""}))("keydown.Enter",(function(){c.vc(n);var t=c.cc();return 0!==t.currentView?t.goToMainMenu():""})),c.Nb(3,"i",3),c.Ec(4),c.Rb(),c.Sb(5,"div",4),c.Sb(6,"cl-input",5),c.Zb("valueChange",(function(t){return c.vc(n),c.cc().searchVal=t}))("valueChange",(function(){return c.vc(n),c.cc().onSearch()})),c.Rb(),c.Cc(7,Yb,3,2,"div",6),c.Cc(8,Kb,2,2,"button",7),c.Rb(),c.Cc(9,Qb,3,2,"button",8),c.Sb(10,"button",9),c.Zb("click",(function(){return c.vc(n),c.cc().closed.emit(!0)})),c.Nb(11,"i",10),c.Rb(),c.Rb(),c.Sb(12,"div",11,12),c.Cc(14,Xb,4,11,"button",13),c.Cc(15,tg,2,0,"button",14),c.Sb(16,"app-dropdown-menu",15),c.Cc(17,eg,3,3,"div",16),c.Rb(),c.Rb(),c.Pb()}if(2&t){var i=e.$implicit,o=c.cc();c.Ab(2),c.Ac("cursor",0!==o.currentView?"pointer":""),c.Eb("focusable-white",0!==o.currentView),c.ic("tabindex",0!==o.currentView?0:-1),c.Ab(2),c.Gc(" ",i("appLibrary.libraryHeader.appLibrary")," "),c.Ab(2),c.ic("attributes",c.mc(19,ng,i("appLibrary.libraryHeader.inputLabel"),0===o.currentView?0:-1))("disabled",0!==o.currentView)("events",c.lc(22,ig,o.onSearchEnter.bind(o)))("icon","far fa-search")("value",o.searchVal),c.Ab(1),c.ic("ngIf",o.collections.length>0&&o.showSuggestionsDrop),c.Ab(1),c.ic("ngIf",o.searchVal.length>0),c.Ab(1),c.ic("ngIf",o.appLibraryStatus&&o.appLibraryStatus.ConfigureAppLibrary.addyourownapp),c.Ab(5),c.ic("ngForOf",o.collections),c.Ab(1),c.ic("ngIf",o.overflowTabs.length>0),c.Ab(1),c.Eb("hidden",!o.showOverflowDrop),c.Ab(1),c.ic("ngForOf",o.overflowTabs)}}var rg=function(){function t(t,e,n,i){var o=this;this.appLibHelper=t,this.appsService=e,this.translocoService=i,this.collections=[],this.closed=new c.n,this.focusMoved=new c.n,this.showSuggestionsDrop=!1,this.showOverflowDrop=!1,this.searchVal="",this.activeTab=0,this.currentView=0,this.overflowTabs=[],this.suggestedApps=[],this.searchFilters=new lc({limit:10,offset:0,term:""}),this.defaultCollection={Id:-1,Name:"All Apps",TenantWide:!0},this.subscriptions=[],this.subscriptions[0]=n.documentClicked.subscribe((function(t){return o.onDocClick()})),this.subscriptions[1]=t.appLibraryStatusUpdated.subscribe((function(t){o.appLibraryStatus=t,o.updateCollections(),Object(u.a)(0).subscribe((function(){return o.checkTabSize()}))})),this.subscriptions[2]=t.currentViewUpdated.subscribe((function(t){return o.currentView=t})),this.subscriptions[3]=t.filterUpdated.subscribe((function(t){return o.searchVal=t})),i.selectTranslate("appLibrary.libraryHeader.allApps").subscribe((function(t){return o.defaultCollection.Name=t}))}return t.prototype.ngOnChanges=function(t){var e=this;t.collections&&!t.collections.firstChange&&(this.updateCollections(),Object(u.a)(0).subscribe((function(){return e.checkTabSize()})))},t.prototype.ngOnDestroy=function(){this.subscriptions.forEach((function(t){return t.unsubscribe()})),this.filterTimer&&this.filterTimer.unsubscribe()},t.prototype.updateCollections=function(){this.appLibraryStatus&&(!this.appLibraryStatus.ConfigureAppLibrary.singlesignon||this.collections[0]&&-1===this.collections[0].Id?!this.appLibraryStatus.ConfigureAppLibrary.singlesignon&&this.collections[0]&&-1===this.collections[0].Id&&this.collections.splice(0,1):this.collections=Object(R.e)([this.defaultCollection],this.collections),0!==this.collections.length?(this.appLibHelper.currentViewUpdated.next(0),this.setActiveCollection(this.collections[0],0)):this.appLibHelper.currentViewUpdated.next(1))},t.prototype.checkTabSize=function(){if(this.tabsContainer){var t=this.tabsContainer.nativeElement,e=t.getBoundingClientRect();this.initialSize=this.initialSize&&this.initialSize>0&&this.initialSize<window.innerWidth?this.initialSize:e.right-35;for(var n=[],i=0;i<t.children.length;i++)n.push(t.children[i].getBoundingClientRect());var o=-1;for(i=n.length-1;i>=0&&n[i].right>this.initialSize;i--)o=i;-1!==o&&(this.overflowTabs=this.collections.splice(o,this.collections.length-o))}},t.prototype.getSuggestions=function(){this.activeCollection&&-1!==this.activeCollection.Id?this.getSearchTermAppsForCollection():this.getSearchTermApps()},t.prototype.getSearchTermApps=function(){var t=this;this.appsService.getSearchTermApps(this.searchFilters.term).subscribe((function(e){t.suggestedApps=e,t.showSuggestionsDrop=!0}))},t.prototype.getSearchTermAppsForCollection=function(){var t=this;this.appsService.getSearchTermAppsForCollection(this.activeCollection.Id,this.searchFilters.term).subscribe((function(e){t.suggestedApps=e,t.showSuggestionsDrop=!0}))},t.prototype.toggleOverflowDrop=function(t){this.showOverflowDrop=!this.showOverflowDrop,t.stopPropagation()},t.prototype.goToMainMenu=function(){0!=this.collections.length&&this.appLibHelper.currentViewUpdated.next(0)},t.prototype.onSearch=function(){var t=this;this.filterTimer&&this.filterTimer.unsubscribe(),this.searchFilters.term=this.searchVal,""!==this.searchVal.trim()?this.filterTimer=Object(u.a)(250).subscribe((function(){return t.getSuggestions()})):this.showSuggestionsDrop=!1,this.appLibHelper.filterUpdated.next(this.searchVal)},t.prototype.onAddApp=function(){this.appLibHelper.currentViewUpdated.next(1)},t.prototype.onSuggestionClick=function(t){this.searchVal=t.ApplicationName,this.appLibHelper.suggestionClicked.next(t),this.showSuggestionsDrop=!1},t.prototype.onSearchEnter=function(){this.showSuggestionsDrop=!1},t.prototype.setActiveCollection=function(t,e){this.activeTab=e,this.activeCollection=t,this.appLibHelper.collectionUpdated.next(this.activeCollection)},t.prototype.onDocClick=function(){this.showSuggestionsDrop=!1,this.showOverflowDrop=!1},t.prototype.redirectFocus=function(){for(var t=this.tabElements.toArray(),e=0;e<t.length;e++)t[e].nativeElement.tabIndex=e===this.activeTab?0:-1;this.focusMoved.emit()},t.prototype.nav=function(t,e){var n,i=this.tabElements.toArray();"ArrowRight"===t.key&&(n=e===i.length-1?0:e+1),"ArrowLeft"===t.key&&(n=0===e?i.length-1:e-1),i[e].nativeElement.tabIndex="-1",i[n].nativeElement.tabIndex="0",i[n].nativeElement.focus()},t.prototype.handleImage=function(t){t.target.src=K.a.coreCDN+"/assets/images/default-app-icon.png"},t.\u0275fac=function(e){return new(e||t)(c.Mb(tt),c.Mb(Q),c.Mb(vt.z),c.Mb(ct.f))},t.\u0275cmp=c.Gb({type:t,selectors:[["app-library-header"]],viewQuery:function(t,e){var n;1&t&&(c.Jc(Gb,!0),c.Jc($b,!0,c.l)),2&t&&(c.rc(n=c.ac())&&(e.tabsContainer=n.first),c.rc(n=c.ac())&&(e.tabElements=n))},inputs:{collections:"collections"},outputs:{closed:"closed",focusMoved:"focusMoved"},features:[c.yb],decls:1,vars:0,consts:[[4,"transloco"],[1,"top-line","flex-start-center"],["role","link","id","appLibTitle",1,"flex-center","focusable-white",3,"tabindex","click","keydown.Enter"],[1,"fas","fa-rocket"],[1,"app-lib-input-ctnr"],[1,"app-search",3,"attributes","disabled","events","icon","value","valueChange"],["class","dropdown flex-start custom-scroll",4,"ngIf"],["class","clear",3,"disabled","click",4,"ngIf"],["class","flex-center focusable-white focusable-small",3,"click",4,"ngIf"],["aria-label","close app library modal",1,"close","close-white",3,"click"],[1,"far","fa-times"],["role","tablist","clKeyboardNav","","aria-labelledby","collectionName",1,"tabs-ctnr","flex-start-end"],["tabsContainer",""],["class","tab","role","tab","clItem","","aria-controls","appLibPanel",3,"id","active","tabindex","disabled","customNavigation","navigate","keydown.Enter","keydown.tab","click",4,"ngFor","ngForOf"],["class","overflow flex-center",3,"click",4,"ngIf"],[1,"custom-scroll"],["class","dropdown-item","role","button","tabindex","0",3,"active","click",4,"ngFor","ngForOf"],[1,"dropdown","flex-start","custom-scroll"],[4,"ngIf"],["class","suggestion flex-start-center","role","button","tabindex","0",3,"click","keydown.Enter",4,"ngFor","ngForOf"],[1,"suggestion","flex-start-center"],[1,"text-ctnr","flex-start"],["role","button","tabindex","0",1,"suggestion","flex-start-center",3,"click","keydown.Enter"],[3,"src","alt","error"],[1,"flex-start"],[1,"clear",3,"click"],[1,"flex-center","focusable-white","focusable-small",3,"click"],[1,"fas","fa-plus"],["role","tab","clItem","","aria-controls","appLibPanel",1,"tab",3,"id","tabindex","disabled","customNavigation","navigate","keydown.Enter","keydown.tab","click"],["tabitem",""],[1,"far","fa-folder"],[1,"overflow","flex-center",3,"click"],[1,"far","fa-ellipsis-h"],["role","button","tabindex","0",1,"dropdown-item",3,"click"],[1,"fas","fa-folder"]],template:function(t,e){1&t&&c.Cc(0,og,18,24,"ng-container",0)},directives:[ct.c,vt.w,i.k,vt.y,i.j,Tn,vt.C],styles:['[_nghost-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-flow:column nowrap;flex-flow:column nowrap;-ms-flex-pack:start;justify-content:flex-start;-ms-flex-align:start;align-items:flex-start;width:100%;background-color:var(--color-primary);height:100px;-ms-flex:0 0 100px;flex:0 0 100px;z-index:100}[_nghost-%COMP%]   .top-line[_ngcontent-%COMP%]{padding:7px 35px;width:100%;height:50px;-ms-flex:0 0 50px;flex:0 0 50px}[_nghost-%COMP%]   .top-line[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:18px;margin-right:30px;font-weight:700;color:#fff}[_nghost-%COMP%]   .top-line[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{font-size:22px;margin-right:10px}[_nghost-%COMP%]   .top-line[_ngcontent-%COMP%]   .app-lib-input-ctnr[_ngcontent-%COMP%]{position:relative;-ms-flex-positive:1;flex-grow:1;height:36px;margin-left:auto}[_nghost-%COMP%]   .top-line[_ngcontent-%COMP%]   .app-lib-input-ctnr[_ngcontent-%COMP%]   cl-input[_ngcontent-%COMP%]{height:36px}[_nghost-%COMP%]   .top-line[_ngcontent-%COMP%]   .app-lib-input-ctnr[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:absolute;top:8px;right:10px;padding:0}[_nghost-%COMP%]   .top-line[_ngcontent-%COMP%]   .app-lib-input-ctnr[_ngcontent-%COMP%]   button[_ngcontent-%COMP%] > svg[_ngcontent-%COMP%]{color:var(--color-primary);margin-left:0;font-size:20px}[_nghost-%COMP%]   .top-line[_ngcontent-%COMP%]   .app-lib-input-ctnr[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]{position:absolute;top:100%;left:0;width:100%;background-color:#fff;padding:20px;box-shadow:0 15px 30px 0 rgba(0,0,0,.15);border-radius:5px;z-index:2;max-height:500px}[_nghost-%COMP%]   .top-line[_ngcontent-%COMP%]   .app-lib-input-ctnr[_ngcontent-%COMP%]   .suggestion[_ngcontent-%COMP%]{width:100%;-ms-flex:0 0 60px;flex:0 0 60px;height:60px;padding:10px;border-radius:5px;cursor:pointer}[_nghost-%COMP%]   .top-line[_ngcontent-%COMP%]   .app-lib-input-ctnr[_ngcontent-%COMP%]   .suggestion.active[_ngcontent-%COMP%], [_nghost-%COMP%]   .top-line[_ngcontent-%COMP%]   .app-lib-input-ctnr[_ngcontent-%COMP%]   .suggestion[_ngcontent-%COMP%]:hover{background-color:#ddf0fe}[_nghost-%COMP%]   .top-line[_ngcontent-%COMP%]   .app-lib-input-ctnr[_ngcontent-%COMP%]   .suggestion[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;margin-right:15px}[_nghost-%COMP%]   .top-line[_ngcontent-%COMP%]   .app-lib-input-ctnr[_ngcontent-%COMP%]   .suggestion[_ngcontent-%COMP%]   .text-ctnr[_ngcontent-%COMP%]{-ms-flex-flow:column nowrap;flex-flow:column nowrap}[_nghost-%COMP%]   .top-line[_ngcontent-%COMP%]   .app-lib-input-ctnr[_ngcontent-%COMP%]   .suggestion[_ngcontent-%COMP%]   .text-ctnr[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin-bottom:5px}[_nghost-%COMP%]   .top-line[_ngcontent-%COMP%]   .app-lib-input-ctnr[_ngcontent-%COMP%]   .suggestion[_ngcontent-%COMP%]   .text-ctnr[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{font-size:13px;font-weight:600;letter-spacing:0}[_nghost-%COMP%]   .top-line[_ngcontent-%COMP%]   .app-lib-input-ctnr[_ngcontent-%COMP%]   .suggestion[_ngcontent-%COMP%]   .text-ctnr[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{margin:0 5px 0 10px}[_nghost-%COMP%]   .top-line[_ngcontent-%COMP%]   .app-lib-input-ctnr[_ngcontent-%COMP%]   .suggestion[_ngcontent-%COMP%]   .text-ctnr[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], [_nghost-%COMP%]   .top-line[_ngcontent-%COMP%]   .app-lib-input-ctnr[_ngcontent-%COMP%]   .suggestion[_ngcontent-%COMP%]   .text-ctnr[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:var(--color-primary)}[_nghost-%COMP%]   .top-line[_ngcontent-%COMP%]   .app-lib-input-ctnr[_ngcontent-%COMP%]   .suggestion[_ngcontent-%COMP%]   .text-ctnr[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:first-of-type{color:var(--color-dark)}[_nghost-%COMP%]   .top-line[_ngcontent-%COMP%]   .app-lib-input-ctnr[_ngcontent-%COMP%]   .suggestion[_ngcontent-%COMP%]   .text-ctnr[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px}[_nghost-%COMP%]   .top-line[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]:not(.close){background-color:var(--color-primary);border:2px solid var(--color-white);color:#fff;padding:10px 20px;height:36px;margin-left:10px;margin-right:10px;border-radius:5px;font-weight:600;font-size:13px}[_nghost-%COMP%]   .top-line[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]:not(.close):hover{opacity:.8}[_nghost-%COMP%]   .top-line[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]:not(.close)   svg[_ngcontent-%COMP%]{margin-right:10px;font-size:14px;color:#fff}[_nghost-%COMP%]   .tabs-ctnr[_ngcontent-%COMP%]{position:relative;padding:0 35px 15px;width:100%;height:50px;-ms-flex:0 0 50px;flex:0 0 50px;border-bottom:0}[_nghost-%COMP%]   .tabs-ctnr[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]{position:relative;height:18px;font-size:13px;font-weight:600;margin-right:20px;color:#fff;-ms-flex:0 0 auto;flex:0 0 auto;opacity:.8;padding:0}[_nghost-%COMP%]   .tabs-ctnr[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]:hover{opacity:1}[_nghost-%COMP%]   .tabs-ctnr[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]:after{border-color:var(--color-white)}[_nghost-%COMP%]   .tabs-ctnr[_ngcontent-%COMP%]   .tab.active[_ngcontent-%COMP%]{opacity:1}[_nghost-%COMP%]   .tabs-ctnr[_ngcontent-%COMP%]   .tab.active[_ngcontent-%COMP%]:before{content:"";position:absolute;top:30px;left:0;height:5px;width:100%;border-radius:3px;background-color:#fff;box-shadow:0 0 5px rgba(0,0,0,.3)}[_nghost-%COMP%]   .tabs-ctnr[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-right:5px}[_nghost-%COMP%]   .tabs-ctnr[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{font-size:16px}[_nghost-%COMP%]   .tabs-ctnr[_ngcontent-%COMP%]   .overflow[_ngcontent-%COMP%]{margin-left:auto;margin-right:10px;padding:0 10px;background-color:#55b5fc;color:#fff;height:20px;border-radius:5px}[_nghost-%COMP%]   .tabs-ctnr[_ngcontent-%COMP%]   app-dropdown-menu[_ngcontent-%COMP%]{max-height:200px;width:auto;top:50px;right:30px;left:unset;max-width:500px}[_nghost-%COMP%]   .tabs-ctnr[_ngcontent-%COMP%]   app-dropdown-menu.hidden[_ngcontent-%COMP%]{opacity:0;pointer-events:none}[_nghost-%COMP%]   .tabs-ctnr[_ngcontent-%COMP%]   app-dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]{display:block}[_nghost-%COMP%]   .tabs-ctnr[_ngcontent-%COMP%]   app-dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{font-size:16px;margin-right:10px}[_nghost-%COMP%]   .tabs-ctnr[_ngcontent-%COMP%]   app-dropdown-menu[_ngcontent-%COMP%]   .dropdown-item.active[_ngcontent-%COMP%]{color:var(--color-primary)}']}),t}();function ag(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",8),c.Sb(1,"cl-checkbox",9),c.Zb("checkedChange",(function(t){return c.vc(n),c.cc(2).input.sso=t}))("checkedChange",(function(){return c.vc(n),c.cc(2).onCheckChange()})),c.Rb(),c.Sb(2,"p",10),c.Ec(3),c.Rb(),c.Rb()}if(2&t){var i=c.cc().$implicit,o=c.cc();c.Ab(1),c.ic("checked",o.input.sso),c.Ab(2),c.Fc(i("appLibrary.addApp.newAppDetails.requestSSO"))}}function sg(t,e){if(1&t){var n=c.Tb();c.Qb(0),c.Sb(1,"button",15),c.Zb("click",(function(t){c.vc(n);var e=c.cc(3);return t.stopPropagation(),e.appLibHelper.addApp(e.suggestedApp)})),c.Ec(2),c.Rb(),c.Pb()}if(2&t){var i=c.cc(2).$implicit,o=c.cc();c.Ab(1),c.Eb("disabled",!o.appLibHelper.canAppBeChanged(o.suggestedApp)),c.Ab(1),c.Fc(i("common.add"))}}function cg(t,e){if(1&t){var n=c.Tb();c.Sb(0,"button",16),c.Zb("click",(function(t){c.vc(n);var e=c.cc(3);return t.stopPropagation(),e.appLibHelper.removeApp(e.suggestedApp)})),c.Ec(1),c.Rb()}if(2&t){var i=c.cc(2).$implicit,o=c.cc();c.Eb("disabled",!o.appLibHelper.canAppBeChanged(o.suggestedApp)),c.Ab(1),c.Fc(i("common.remove"))}}function lg(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",11),c.Sb(1,"h2"),c.Ec(2),c.Rb(),c.Sb(3,"app-library-app",12),c.Zb("click",(function(){return c.vc(n),c.cc(2).onSuggestionClick()})),c.Cc(4,sg,3,3,"ng-container",13),c.Cc(5,cg,2,3,"ng-template",null,14,c.Dc),c.Rb(),c.Rb()}if(2&t){var i=c.sc(6),o=c.cc().$implicit,r=c.cc();c.Ab(2),c.Fc(o("appLibrary.addApp.newAppDetails.suggestionText")),c.Ab(1),c.Eb("assigned",r.appLibHelper.isAppAssigned(r.suggestedApp)),c.ic("app",r.suggestedApp),c.Ab(1),c.ic("ngIf",!r.appLibHelper.isAppAssigned(r.suggestedApp))("ngIfElse",i)}}var pg=function(t){return{type:"text","aria-label":t,required:!0}},ug=function(t,e){return{focus:t,keydown:e}};function dg(t,e){if(1&t){var n=c.Tb();c.Qb(0),c.Sb(1,"div",1),c.Sb(2,"h3"),c.Ec(3),c.Rb(),c.Sb(4,"cl-input",2),c.Zb("valueChange",(function(t){return c.vc(n),c.cc().input.name=t}))("valueChange",(function(){return c.vc(n),c.cc().getSuggestions()})),c.Rb(),c.Sb(5,"cl-input",2),c.Zb("valueChange",(function(t){return c.vc(n),c.cc().input.url=t})),c.Rb(),c.Cc(6,ag,4,2,"div",3),c.Cc(7,lg,7,6,"div",4),c.Rb(),c.Sb(8,"div",5),c.Sb(9,"button",6),c.Zb("click",(function(){return c.vc(n),c.cc().goBack()})),c.Ec(10),c.Rb(),c.Sb(11,"button",7),c.Zb("click",(function(){return c.vc(n),c.cc().validateName()})),c.Ec(12),c.Rb(),c.Rb(),c.Pb()}if(2&t){var i=e.$implicit,o=c.cc();c.Ab(3),c.Fc(i("appLibrary.addApp.newAppDetails.addApp")),c.Ab(1),c.ic("value",o.input.name)("label",i("apps.appName"))("attributes",c.lc(17,pg,i("apps.appName")))("events",c.mc(19,ug,o.onInputFocus.bind(o,"name"),o.onKeydown.bind(o,"name")))("inputValidator",o.nameValidator.bind(o)),c.Ab(1),c.ic("value",o.input.url)("label",i("apps.appUrl"))("attributes",c.lc(22,pg,i("apps.appUrl")))("events",c.mc(24,ug,o.onInputFocus.bind(o,"url"),o.onKeydown.bind(o,"url")))("inputValidator",o.urlValidator.bind(o)),c.Ab(1),c.ic("ngIf",o.userInfo&&"Student"!=o.userInfo.Role&&!o.permissions.availablePermissions.has("AppLibraryRequestSSO")),c.Ab(1),c.ic("ngIf",o.suggestedApp),c.Ab(3),c.Fc(i("common.goBack")),c.Ab(1),c.ic("tabindex",o.areAppDetailsValid()?0:-1)("disabled",!o.areAppDetailsValid()),c.Ab(1),c.Fc(i("appLibrary.addApp.selectIcon"))}}var bg=function(){function t(t,e,n,i,o,r){var a=this;this.appLibService=t,this.appsHelper=e,this.appLibHelper=n,this.translationHelper=i,this.sessionService=o,this.permissionsService=r,this.appSelected=new c.n,this.pageChange=new c.n,this.inputUpdated=new c.n,this.closed=new c.n,this.focused={name:!1,url:!1},this.typed={name:!1,url:!1},this.input={name:"",url:"",sso:!1},this.subscriptions=[],this.subscriptions[0]=e.appsUpdated.subscribe((function(t){return a.apps=e.flattenApps(t)})),this.subscriptions[1]=n.appLibraryStatusUpdated.subscribe((function(t){return a.appLibraryStatus=t})),this.userInfo=o.getUserInfo(),this.subscriptions[2]=this.permissionsService.permissionsSub.subscribe((function(t){a.permissions=t}))}return t.prototype.ngOnDestroy=function(){this.subscriptions.forEach((function(t){return t.unsubscribe()}))},t.prototype.getSuggestions=function(){var t=this;""!==this.input.name.trim()?this.appLibService.getAddAppSuggestions(this.input.name).subscribe((function(e){t.suggestedApp=e})):this.suggestedApp=void 0},t.prototype.nameValidator=function(){var t=this;return!this.focused.name||!this.typed.name||""!==this.input.name.trim()&&!j()(this.apps,(function(e){return e.name.trim().toLowerCase()===t.input.name.trim().toLowerCase()}))},t.prototype.urlValidator=function(){return!this.focused.url||!this.typed.url||ht.a.isValidUrl(this.input.url)},t.prototype.areAppDetailsValid=function(){return""!==this.input.name.trim()&&ht.a.isValidUrl(this.input.url)},t.prototype.onInputFocus=function(t){this.focused[t]=!0},t.prototype.onKeydown=function(t){this.typed[t]=!0,this.inputUpdated.emit(this.input)},t.prototype.onCheckChange=function(){this.inputUpdated.emit(this.input)},t.prototype.onSuggestionClick=function(){this.appSelected.emit(this.suggestedApp)},t.prototype.goBack=function(){this.appLibraryStatus.ConfigureAppLibrary.singlesignon?this.appLibHelper.currentViewUpdated.next(0):this.closed.emit(!0)},t.prototype.validateName=function(){var t=this;j()(this.apps,(function(e){return e.name.trim().toLowerCase()===t.input.name.trim().toLowerCase()}))?this.translationHelper.translateAndAddGrowl({severity:"error",summary:"appLibrary.addApp.newAppDetails.cantUseName",detail:"appLibrary.addApp.newAppDetails.nameExists"}):this.pageChange.emit(1)},t.\u0275fac=function(e){return new(e||t)(c.Mb(Q),c.Mb(p.a),c.Mb(tt),c.Mb(J.a),c.Mb(A.a),c.Mb(X.b))},t.\u0275cmp=c.Gb({type:t,selectors:[["app-new-app-details"]],outputs:{appSelected:"appSelected",pageChange:"pageChange",inputUpdated:"inputUpdated",closed:"closed"},decls:1,vars:0,consts:[[4,"transloco"],[1,"custom-scroll","flex-start","column-nowrap"],[3,"value","label","attributes","events","inputValidator","valueChange"],["class","flex-start-center",4,"ngIf"],["class","column-nowrap flex-start",4,"ngIf"],[1,"buttons"],[1,"button","button-default",3,"click"],[1,"button","button-primary",3,"tabindex","disabled","click"],[1,"flex-start-center"],[3,"checked","checkedChange"],[1,"sso-label"],[1,"column-nowrap","flex-start"],[1,"cl-app","app-library",3,"app","click"],[4,"ngIf","ngIfElse"],["removeButton",""],[1,"flex-center",3,"click"],[1,"flex-center","remove",3,"click"]],template:function(t,e){1&t&&c.Cc(0,dg,13,27,"ng-container",0)},directives:[ct.c,vt.w,i.k,vt.d,hb],styles:["[_nghost-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-flow:column nowrap;flex-flow:column nowrap;width:100%;height:100%}h3[_ngcontent-%COMP%]{font-weight:700;font-size:calc(var(--font-modifier) * 18px)}h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%]{margin-bottom:20px}h2[_ngcontent-%COMP%]{font-weight:800;font-size:18px}p.sso-label[_ngcontent-%COMP%]{font-weight:600;font-size:13px}cl-input[_ngcontent-%COMP%]{-ms-flex:0 0 62px;flex:0 0 62px;height:62px;margin-bottom:20px;width:50%}cl-checkbox[_ngcontent-%COMP%]{margin-right:10px}.custom-scroll[_ngcontent-%COMP%]{padding:35px}.flex-start-center[_ngcontent-%COMP%]{margin-bottom:20px}.button[_ngcontent-%COMP%]:hover{box-shadow:1px 1px 1px 1px var(--color-medium)}"]}),t}(),gg=["iconContainer"],fg=["focusable"];function hg(t,e){if(1&t&&(c.Qb(0),c.Sb(1,"div",18),c.Sb(2,"div",19),c.Sb(3,"div",20),c.Sb(4,"h4"),c.Ec(5),c.Rb(),c.Rb(),c.Rb(),c.Rb(),c.Pb()),2&t){var n=c.cc(2).$implicit;c.Ab(5),c.Fc(n("common.noResults"))}}function mg(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",21,22),c.Zb("click",(function(){c.vc(n);var t=e.$implicit;return c.cc(3).onSelectIcon(t)}))("keydown.Enter",(function(){c.vc(n);var t=e.$implicit;return c.cc(3).onSelectIcon(t)}))("keydown.Space",(function(){c.vc(n);var t=e.$implicit;return c.cc(3).onSelectIcon(t)}))("navigate",(function(t){return c.vc(n),c.cc(3).nav(t)}))("focus",(function(){c.vc(n);var t=e.$implicit;return c.cc(3).itemFocus(t)})),c.Sb(2,"img",23),c.Zb("error",(function(t){return c.vc(n),c.cc(3).handleImage(t)})),c.Rb(),c.Sb(3,"div",19),c.Sb(4,"div",20),c.Sb(5,"h4"),c.Ec(6),c.Rb(),c.Rb(),c.Rb(),c.Rb()}if(2&t){var i=e.$implicit,o=c.cc(3);c.ic("id",i.name+"_opt")("customNavigation",!0),c.Bb("aria-selected",!!o.selectedIcon&&o.selectedIcon.id===i.id),c.Ab(2),c.ic("src",i.defaulturl,c.xc),c.Ab(4),c.Fc(i.name)}}function vg(t,e){if(1&t&&(c.Sb(0,"div",15),c.Cc(1,hg,6,1,"ng-container",16),c.Cc(2,mg,7,5,"div",17),c.Rb()),2&t){var n=c.cc(2);c.Ab(1),c.ic("ngIf",0===n.iconSearchResults.length),c.Ab(1),c.ic("ngForOf",n.iconSearchResults)}}function yg(t,e){if(1&t&&(c.Sb(0,"div",24),c.Sb(1,"label",25),c.Ec(2,"Selected Icon"),c.Rb(),c.Nb(3,"icon",26),c.Rb()),2&t){var n=c.cc(2);c.Ab(1),c.ic("for",n.selectedIcon.name),c.Ab(2),c.ic("icon",n.selectedIcon)("selected",!0)}}function Cg(t,e){if(1&t){var n=c.Tb();c.Sb(0,"icon",27,22),c.Zb("click",(function(t){c.vc(n);var i=e.$implicit;return c.cc(2).onSelectIcon(i,t)}))("keydown.Space",(function(t){c.vc(n);var i=e.$implicit;return c.cc(2).onSelectIcon(i,t)}))("keydown.Enter",(function(t){c.vc(n);var i=e.$implicit;return c.cc(2).onSelectIcon(i,t)}))("navigate",(function(t){return c.vc(n),c.cc(2).nav(t)})),c.Rb()}if(2&t){var i=e.$implicit,o=c.cc(2);c.Eb("assigned",o.selectedIcon&&o.selectedIcon.id===i.id),c.ic("id",i.name)("icon",i)("selected",o.selectedIcon&&o.selectedIcon.id===i.id)("customNavigation",!0)}}function wg(t,e){if(1&t){var n=c.Tb();c.Sb(0,"button",28),c.Zb("click",(function(){return c.vc(n),c.cc(2).loadMore()})),c.Ec(1,"Load More"),c.Rb()}}var xg=function(t){return{"icon-selected":t}},Pg=function(t,e){return{type:"text","aria-label":t,"aria-controls":"selectIconListbox","aria-autocomplete":"list","aria-activedescendant":e}};function Sg(t,e){if(1&t){var n=c.Tb();c.Qb(0),c.Sb(1,"div",1),c.Sb(2,"h3",2),c.Ec(3),c.Rb(),c.Sb(4,"div",3),c.Sb(5,"cl-input",4),c.Zb("valueChange",(function(t){return c.vc(n),c.cc().iconSearch=t}))("valueChange",(function(){return c.vc(n),c.cc().onSearchValueChange()}))("keydown.arrowdown",(function(t){return c.vc(n),c.cc().inputNav(t)})),c.Rb(),c.Cc(6,vg,3,2,"div",5),c.Rb(),c.Cc(7,yg,4,3,"div",6),c.Rb(),c.Sb(8,"div",7,8),c.Zb("scrolled",(function(){return c.vc(n),c.cc().enableLoad()})),c.Cc(10,Cg,2,6,"icon",9),c.Sb(11,"div",10),c.Cc(12,wg,2,0,"button",11),c.Rb(),c.Rb(),c.Sb(13,"div",12),c.Sb(14,"button",13),c.Zb("click",(function(){return c.vc(n),c.cc().goBack()})),c.Ec(15),c.Rb(),c.Sb(16,"button",14),c.Zb("click",(function(){return c.vc(n),c.cc().submitApp()})),c.Ec(17),c.Rb(),c.Rb(),c.Pb()}if(2&t){var i=e.$implicit,o=c.cc();c.Ab(1),c.ic("ngClass",c.lc(17,xg,!!o.selectedIcon)),c.Ab(2),c.Fc(i("appLibrary.addApp.iconSelect.selectIcon")),c.Ab(1),c.Bb("aria-labelledby","iconSearchLabel")("aria-expanded",o.showResultsDrop),c.Ab(1),c.ic("value",o.iconSearch)("attributes",c.mc(19,Pg,i("appLibrary.addApp.iconSelect.searchIcons"),!!o.focusedIcon&&o.focusedIcon.name+"_opt"))("icon","far fa-search"),c.Ab(1),c.ic("ngIf",o.showResultsDrop),c.Ab(1),c.ic("ngIf",o.selectedIcon),c.Ab(1),c.ic("scrollWindow",!1),c.Ab(2),c.ic("ngForOf",o.icons)("ngForTrackBy",o.iconTrackBy),c.Ab(2),c.ic("ngIf",o.canLoad),c.Ab(3),c.Fc(i("common.goBack")),c.Ab(1),c.ic("tabindex",void 0===o.selectedIcon?-1:0)("disabled",void 0===o.selectedIcon),c.Ab(1),c.Fc(i("appLibrary.addApp.addApp"))}}var Og=function(){function t(t,e,n,i){var o=this;this.appLibService=t,this.appLibHelper=e,this.settingsHelper=n,this.layoutService=i,this.inputUpdated=new c.n,this.pageChange=new c.n,this.appSubmitted=new c.n,this.showResultsDrop=!1,this.pushItems=!1,this.iconFilters=new lc({rows:100,page:1}),this.iconSearch="",this.canLoad=!1,this.subscriptions=[],this.subscriptions[0]=i.windowResized.subscribe((function(t){return o.setIconSize()})),this.subscriptions[1]=i.documentClicked.subscribe((function(t){return o.onDocumentClick()}))}return t.prototype.ngOnInit=function(){this.getIcons()},t.prototype.ngAfterViewInit=function(){var t=this;Object(u.a)(0).subscribe((function(){return t.setIconSize()}))},t.prototype.ngOnDestroy=function(){this.subscriptions.forEach((function(t){return t.unsubscribe()}))},t.prototype.getIcons=function(){var t=this;this.appLibService.getIcons(this.iconFilters).subscribe((function(e){var n;t.pushItems?(n=t.icons).push.apply(n,e):t.icons=e}))},t.prototype.onPageScrolled=function(){this.pushItems=!0,this.iconFilters.page+=1,this.getIcons()},t.prototype.onSearchValueChange=function(){var t=this;this.subscriptions[2]&&this.subscriptions[2].unsubscribe(),this.subscriptions[2]=Object(u.a)(500).subscribe((function(){return t.onIconSearch()}))},t.prototype.onIconSearch=function(){var t=this;this.appLibService.searchIcons(this.iconSearch).subscribe((function(e){t.showResultsDrop=!0,t.iconSearchResults=e.slice(0,10)}))},t.prototype.onSelectIcon=function(t){this.selectedIcon=t,this.showResultsDrop=!1,this.inputUpdated.emit(this.selectedIcon)},t.prototype.onDocumentClick=function(){this.showResultsDrop=!1,this.focusedIcon=null},t.prototype.goBack=function(){this.pageChange.emit(0)},t.prototype.setIconSize=function(){if(this.iconContainer){var t=this.iconContainer.nativeElement.getBoundingClientRect(),e=t.width?t.width:t.right-t.left,n=this.settingsHelper.getScrollBarWidth();this.settingsHelper.updateAppMarginRule(".app-lib-full-margin",e-n-70,143,5)}},t.prototype.iconTrackBy=function(t){return t.id},t.prototype.submitApp=function(){this.appSubmitted.emit(!0)},t.prototype.nav=function(t){if(t.stopPropagation(),t.preventDefault(),this.iconList.length){var e=this.iconList.toArray();ht.a.keyboardJump(e,t,!0)}},t.prototype.inputNav=function(t){this.focusedIcon=this.selectedIcon?this.selectedIcon:this.iconSearchResults[0],this.iconList.length&&this.iconList.toArray()[0].nativeElement.focus()},t.prototype.itemFocus=function(t){this.focusedIcon=t},t.prototype.loadMore=function(){this.pushItems=!0,this.iconFilters.page+=1,this.getIcons()},t.prototype.enableLoad=function(){this.canLoad=!(this.iconList.length<this.iconFilters.offset+this.iconFilters.limit)},t.prototype.handleImage=function(t){t.target.src=K.a.coreCDN+"/assets/images/default-app-icon.png"},t.\u0275fac=function(e){return new(e||t)(c.Mb(Q),c.Mb(tt),c.Mb(M.a),c.Mb(vt.z))},t.\u0275cmp=c.Gb({type:t,selectors:[["app-icon-select"]],viewQuery:function(t,e){var n;1&t&&(c.Jc(gg,!0),c.Jc(fg,!0,c.l)),2&t&&(c.rc(n=c.ac())&&(e.iconContainer=n.first),c.rc(n=c.ac())&&(e.iconList=n))},outputs:{inputUpdated:"inputUpdated",pageChange:"pageChange",appSubmitted:"appSubmitted"},decls:1,vars:0,consts:[[4,"transloco"],[1,"top","flex-start-center",3,"ngClass"],["id","iconSearchLabel"],["role","combobox",1,"app-lib-input-ctnr"],[3,"value","attributes","icon","valueChange","keydown.arrowdown"],["class","dropdown flex-start custom-scroll","id","selectIconListbox","role","listbox",4,"ngIf"],["class","selected-icon",4,"ngIf"],["infiniteScroll","",1,"icons","row-wrap","flex-start","custom-scroll",3,"scrollWindow","scrolled"],["iconContainer",""],["class","cl-app app-library app-lib-full-margin focusable-small","tabindex","0","clItem","",3,"id","icon","selected","assigned","customNavigation","click","keydown.Space","keydown.Enter","navigate",4,"ngFor","ngForOf","ngForTrackBy"],[1,"load-more"],["class","button button-primary",3,"click",4,"ngIf"],[1,"buttons"],[1,"button","button-default",3,"click"],[1,"button","button-secondary",3,"tabindex","disabled","click"],["id","selectIconListbox","role","listbox",1,"dropdown","flex-start","custom-scroll"],[4,"ngIf"],["tabindex","0","class","suggestion flex-start-center","role","option button","clItem","",3,"id","customNavigation","click","keydown.Enter","keydown.Space","navigate","focus",4,"ngFor","ngForOf"],[1,"suggestion","flex-start-center"],[1,"text-ctnr","flex-start"],[1,"flex-start"],["tabindex","0","role","option button","clItem","",1,"suggestion","flex-start-center",3,"id","customNavigation","click","keydown.Enter","keydown.Space","navigate","focus"],["focusable",""],["alt","",3,"src","error"],[1,"selected-icon"],[3,"for"],[1,"cl-app","app-library","app-lib-full-margin",3,"icon","selected"],["tabindex","0","clItem","",1,"cl-app","app-library","app-lib-full-margin","focusable-small",3,"id","icon","selected","customNavigation","click","keydown.Space","keydown.Enter","navigate"],[1,"button","button-primary",3,"click"]],template:function(t,e){1&t&&c.Cc(0,Sg,18,22,"ng-container",0)},directives:[ct.c,i.i,vt.w,i.k,pc.a,i.j,vt.C,bc],styles:["[_nghost-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-flow:column nowrap;flex-flow:column nowrap;-ms-flex-pack:justify;justify-content:space-between;width:100%;height:100%}.custom-scroll[_ngcontent-%COMP%], .top[_ngcontent-%COMP%]{padding:0 35px}.top[_ngcontent-%COMP%]{width:100%;padding:35px;max-height:calc(100% - 200px);border-bottom:1px solid var(--color-border-dark)}.top.icon-selected[_ngcontent-%COMP%]{max-height:calc(100% - 100px)}.top[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-weight:700;font-size:calc(var(--font-modifier) * 18px)}.top[_ngcontent-%COMP%]   .app-lib-input-ctnr[_ngcontent-%COMP%]{width:50%;-ms-flex-positive:0;flex-grow:0;margin-left:20px}.top[_ngcontent-%COMP%]   .selected-icon[_ngcontent-%COMP%]{height:-webkit-min-content;height:-moz-min-content;height:min-content;text-align:center}.top[_ngcontent-%COMP%]   .selected-icon[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:var(--color-primary)}.top[_ngcontent-%COMP%]   icon[_ngcontent-%COMP%]{pointer-events:none;margin-bottom:0!important}icon.cl-app.app-library[_ngcontent-%COMP%]{height:125px;margin-top:5px;margin-bottom:20px}.icons[_ngcontent-%COMP%]{position:relative;width:100%;height:100%}.load-more[_ngcontent-%COMP%]{width:100%;padding:30px 0}.load-more[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0 auto}.button[_ngcontent-%COMP%]:hover{box-shadow:1px 1px 1px 1px var(--color-medium)}.buttons[_ngcontent-%COMP%]{margin-top:0!important;-ms-flex:0 0 60px!important;flex:0 0 60px!important;height:60px!important}@media screen and (max-height:440px){[_nghost-%COMP%]{overflow-y:auto;overflow-x:hidden;display:block}.top[_ngcontent-%COMP%]{padding:10px 20px;max-height:170px!important}}"]}),t}(),Mg=function(t){return{required:!0,type:"text","aria-label":t}},Ag=function(t,e){return{focus:t,keydown:e}},kg=function(t){return{type:"text","aria-label":t}};function _g(t,e){if(1&t){var n=c.Tb();c.Qb(0),c.Sb(1,"h1"),c.Ec(2),c.Rb(),c.Sb(3,"button",1),c.Zb("click",(function(){return c.vc(n),c.cc().pageChange.emit(1)})),c.Ec(4),c.Rb(),c.Sb(5,"cl-input",2),c.Zb("valueChange",(function(t){return c.vc(n),c.cc().input.name=t})),c.Rb(),c.Sb(6,"label"),c.Ec(7),c.Sb(8,"span"),c.Ec(9,"*"),c.Rb(),c.Rb(),c.Sb(10,"textarea",3),c.Zb("ngModelChange",(function(t){return c.vc(n),c.cc().input.description=t}))("focus",(function(){return c.vc(n),c.cc().onInputFocus("description")}))("keydown",(function(){return c.vc(n),c.cc().onKeydown("description")})),c.Rb(),c.Sb(11,"cl-input",2),c.Zb("valueChange",(function(t){return c.vc(n),c.cc().input.url=t})),c.Rb(),c.Pb()}if(2&t){var i=e.$implicit,o=c.cc();c.Ab(2),c.Fc(i("appLibrary.addApp.requestIcon.request")),c.Ab(2),c.Fc(i("appLibrary.addApp.requestIcon.existing")),c.Ab(1),c.ic("value",o.input.name)("label",i("appLibrary.addApp.requestIcon.nameLabel"))("attributes",c.lc(17,Mg,i("appLibrary.addApp.requestIcon.nameLabel")))("events",c.mc(19,Ag,o.onInputFocus.bind(o,"name"),o.onKeydown.bind(o,"name")))("inputValidator",o.nameValidator.bind(o)),c.Ab(2),c.Fc(i("appLibrary.addApp.requestIcon.descriptionLabel")),c.Ab(3),c.Eb("invalid",!o.descriptionValidator()),c.ic("ngModel",o.input.description),c.Bb("aria-label",i("appLibrary.addApp.requestIcon.descriptionLabel")),c.Ab(1),c.ic("value",o.input.url)("label",i("apps.appUrl"))("attributes",c.lc(22,kg,i("apps.appUrl")))("events",c.mc(24,Ag,o.onInputFocus.bind(o,"url"),o.onKeydown.bind(o,"url")))("inputValidator",o.urlValidator.bind(o))}}var Rg=function(){function t(){this.inputUpdated=new c.n,this.pageChange=new c.n,this.focused={name:!1,description:!1,url:!1},this.typed={name:!1,description:!1,url:!1},this.input={name:"",description:"",url:""}}return t.prototype.nameValidator=function(){return!this.focused.name||!this.typed.name||""!==this.input.name.trim()},t.prototype.descriptionValidator=function(){return!this.focused.description||!this.typed.description||""!==this.input.description.trim()},t.prototype.urlValidator=function(){return""===this.input.url||!this.focused.url||!this.typed.url||ht.a.isValidUrl(this.input.url)},t.prototype.onInputFocus=function(t){this.focused[t]=!0},t.prototype.onKeydown=function(t){this.typed[t]=!0,this.inputUpdated.emit(this.input)},t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=c.Gb({type:t,selectors:[["app-request-icon"]],outputs:{inputUpdated:"inputUpdated",pageChange:"pageChange"},decls:1,vars:0,consts:[[4,"transloco"],[3,"click"],[3,"value","label","attributes","events","inputValidator","valueChange"],["required","",3,"ngModel","ngModelChange","focus","keydown"]],template:function(t,e){1&t&&c.Cc(0,_g,12,27,"ng-container",0)},directives:[ct.c,vt.w,Oe.a,Oe.n,Oe.i,Oe.l],styles:["[_nghost-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-flow:column nowrap;flex-flow:column nowrap;-ms-flex-pack:start;justify-content:flex-start;-ms-flex-align:start;align-items:flex-start;width:100%;height:100%}h1[_ngcontent-%COMP%]{font-weight:700;font-size:calc(var(--font-modifier) * 18px);margin-bottom:5px}button[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;position:relative;color:var(--color-primary);font-weight:800;font-size:calc(var(--font-modifier) * 13px);padding:0;text-transform:uppercase;margin-bottom:30px}.button[_ngcontent-%COMP%]:hover{box-shadow:1px 1px 1px 1px var(--color-medium)}cl-input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:50%;margin-bottom:20px}cl-input[_ngcontent-%COMP%]{height:62px;-ms-flex:0 0 62px;flex:0 0 62px}textarea[_ngcontent-%COMP%]{background-color:#fff}textarea.invalid[_ngcontent-%COMP%]{background-color:#fff0f0;color:var(--color-danger);border-color:var(--color-danger)}label[_ngcontent-%COMP%]{margin-bottom:5px}label[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{position:relative;font-size:calc(var(--font-modifier) * 14px);color:var(--color-warning);font-weight:600;margin-left:4px;top:3px}"]}),t}();function Ig(t,e){if(1&t){var n=c.Tb();c.Sb(0,"app-new-app-details",3),c.Zb("inputUpdated",(function(t){return c.vc(n),c.cc().appDetails=t}))("pageChange",(function(t){return c.vc(n),c.cc().changePage(t)}))("closed",(function(t){return c.vc(n),c.cc().closeSlideover(t)})),c.Rb()}}function Tg(t,e){if(1&t){var n=c.Tb();c.Sb(0,"app-icon-select",4),c.Zb("inputUpdated",(function(t){return c.vc(n),c.cc().selectedIcon=t}))("appSubmitted",(function(){return c.vc(n),c.cc().submitApp()}))("pageChange",(function(t){return c.vc(n),c.cc().changePage(t)})),c.Rb()}}function Eg(t,e){if(1&t){var n=c.Tb();c.Sb(0,"app-request-icon",5),c.Zb("inputUpdated",(function(t){return c.vc(n),c.cc().customIconRequest=t}))("pageChange",(function(t){return c.vc(n),c.cc().changePage(t)})),c.Rb()}}var Fg=function(){function t(t,e,n,i,o,r){var a=this;this.appLibraryService=t,this.appsHelper=e,this.translationHelper=n,this.appsService=i,this.permissionService=o,this.nodeApi=r,this.appSubmitted=new c.n,this.closed=new c.n,this.appDetails={name:"",url:"",sso:!1},this.selectedIcon=void 0,this.customIconRequest={name:"",description:"",url:""},this.currentPage=0,this.requestedNewIcon=!1,this.subscriptions=[],this.subscriptions[0]=o.permissionsSub.subscribe((function(t){return a.permissions=t}))}return t.prototype.ngOnDestroy=function(){this.subscriptions.forEach((function(t){return t.unsubscribe()}))},t.prototype.changePage=function(t){this.currentPage=t},t.prototype.closeSlideover=function(t){this.closed.emit(t)},t.prototype.submitApp=function(){var t=this,e=Object(R.a)(Object(R.a)({},this.appDetails),{icon:this.selectedIcon.defaulturl,requestedNewIcon:this.requestedNewIcon,iconName:this.customIconRequest.name,iconDescription:this.customIconRequest.description,iconUrl:this.customIconRequest.url});this.appLibraryService.submitAppRequest(e).subscribe((function(e){if("reach_allowed_limit"===e)return t.translationHelper.translateAndAddGrowl({severity:"error",summary:"appLibrary.addApp.cantAdd",detail:"appLibrary.addApp.cantAddDetail"}),void t.appSubmitted.emit(!0);t.translationHelper.translateAndAddGenericGrowl({severity:"success"},{subject:"common.app",verb:"common.added"}),t.appSubmitted.emit(!0),Object(u.a)(100).subscribe((function(){(t.permissions.availablePermissions.has(X.a.InHouseAppsEndpoint)?t.appsService.getMyApps():t.nodeApi.getMyApps()).subscribe((function(e){t.appsHelper.appsUpdated.next(e)}))}))}))},t.\u0275fac=function(e){return new(e||t)(c.Mb(Q),c.Mb(p.a),c.Mb(J.a),c.Mb($.a),c.Mb(X.b),c.Mb(l.a))},t.\u0275cmp=c.Gb({type:t,selectors:[["app-add-app"]],outputs:{appSubmitted:"appSubmitted",closed:"closed"},decls:3,vars:3,consts:[[3,"inputUpdated","pageChange","closed",4,"ngIf"],[3,"inputUpdated","appSubmitted","pageChange",4,"ngIf"],[3,"inputUpdated","pageChange",4,"ngIf"],[3,"inputUpdated","pageChange","closed"],[3,"inputUpdated","appSubmitted","pageChange"],[3,"inputUpdated","pageChange"]],template:function(t,e){1&t&&(c.Cc(0,Ig,1,0,"app-new-app-details",0),c.Cc(1,Tg,1,0,"app-icon-select",1),c.Cc(2,Eg,1,0,"app-request-icon",2)),2&t&&(c.ic("ngIf",0===e.currentPage),c.Ab(1),c.ic("ngIf",1===e.currentPage),c.Ab(1),c.ic("ngIf",2===e.currentPage))},directives:[i.k,bg,Og,Rg],styles:["[_nghost-%COMP%]{display:-ms-flexbox;display:flex;height:calc(100% - 100px);padding:0}"]}),t}();function Dg(t,e){1&t&&(c.Qb(0),c.Nb(1,"cl-progress-spinner",16),c.Pb())}function Ng(t,e){if(1&t&&(c.Qb(0),c.Ec(1),c.Pb()),2&t){var n=c.cc(2).$implicit;c.Ab(1),c.Gc(" ",n("common.remove")," ")}}function Lg(t,e){if(1&t){var n=c.Tb();c.Qb(0),c.Sb(1,"button",15),c.Zb("click",(function(){c.vc(n);var t=c.cc(3);return t.appLibHelper.removeApp(t.app)})),c.Cc(2,Dg,2,0,"ng-container",0),c.Cc(3,Ng,2,1,"ng-container",0),c.Rb(),c.Pb()}if(2&t){var i=c.cc(3);c.Ab(1),c.Eb("disabled",!i.appLibHelper.canAppBeChanged(i.app)||i.appLibHelper.actionPending[i.app.id]),c.ic("disabled",!i.appLibHelper.canAppBeChanged(i.app)||i.appLibHelper.actionPending[i.app.id]),c.Ab(1),c.ic("ngIf",i.appLibHelper.actionPending[i.app.id]),c.Ab(1),c.ic("ngIf",!i.appLibHelper.actionPending[i.app.id])}}function Hg(t,e){1&t&&(c.Qb(0),c.Nb(1,"cl-progress-spinner",18),c.Pb())}function Ug(t,e){if(1&t&&(c.Qb(0),c.Ec(1),c.Pb()),2&t){var n=c.cc(2).$implicit;c.Ab(1),c.Gc(" ",n("common.add")," ")}}function Bg(t,e){if(1&t){var n=c.Tb();c.Qb(0),c.Sb(1,"button",17),c.Zb("click",(function(){c.vc(n);var t=c.cc(3);return t.appLibHelper.addApp(t.app)})),c.Cc(2,Hg,2,0,"ng-container",0),c.Cc(3,Ug,2,1,"ng-container",0),c.Rb(),c.Pb()}if(2&t){var i=c.cc(3);c.Ab(1),c.Eb("disabled",!i.appLibHelper.canAppBeChanged(i.app)||i.appLibHelper.actionPending[i.app.id]),c.ic("disabled",!i.appLibHelper.canAppBeChanged(i.app)||i.appLibHelper.actionPending[i.app.id]),c.Ab(1),c.ic("ngIf",i.appLibHelper.actionPending[i.app.id]),c.Ab(1),c.ic("ngIf",!i.appLibHelper.actionPending[i.app.id])}}function jg(t,e){if(1&t){var n=c.Tb();c.Qb(0),c.Sb(1,"div",2),c.Sb(2,"div",3),c.Sb(3,"p",4),c.Zb("click",(function(){return c.vc(n),c.cc(2).goBack()}))("enter",(function(){return c.vc(n),c.cc(2).goBack()})),c.Ec(4),c.Rb(),c.Sb(5,"span"),c.Nb(6,"i",5),c.Rb(),c.Sb(7,"p"),c.Ec(8),c.Rb(),c.Rb(),c.Sb(9,"div",6),c.Nb(10,"app-library-app",7),c.Sb(11,"div",8),c.Sb(12,"h3",9),c.Ec(13),c.Rb(),c.Sb(14,"h3",10),c.Ec(15),c.Rb(),c.Cc(16,Lg,4,5,"ng-container",0),c.Cc(17,Bg,4,5,"ng-container",0),c.Rb(),c.Rb(),c.Rb(),c.Sb(18,"div",11),c.Sb(19,"h4"),c.Ec(20),c.Rb(),c.Sb(21,"p"),c.Ec(22),c.Rb(),c.Sb(23,"div",12),c.Nb(24,"i"),c.Sb(25,"p"),c.Ec(26),c.Rb(),c.Rb(),c.Rb(),c.Sb(27,"div",13),c.Sb(28,"p",14),c.Ec(29),c.Rb(),c.Sb(30,"p"),c.Ec(31),c.Rb(),c.Sb(32,"p",14),c.Ec(33),c.Rb(),c.Sb(34,"p"),c.Ec(35),c.Rb(),c.Sb(36,"p",14),c.Ec(37),c.Rb(),c.Sb(38,"p"),c.Ec(39),c.Rb(),c.Sb(40,"p",14),c.Ec(41),c.Rb(),c.Sb(42,"p"),c.Ec(43),c.Rb(),c.Rb(),c.Pb()}if(2&t){var i=e.$implicit,o=c.cc(2);c.Ab(4),c.Gc(" ",o.activeCollection.Name," "),c.Ab(4),c.Fc(o.app.name),c.Ab(2),c.Eb("assigned",o.appLibHelper.isAppAssigned(o.app)),c.ic("app",o.app)("hideName",!0),c.Ab(3),c.Fc(o.app.name),c.Ab(2),c.Fc(o.app.url),c.Ab(1),c.ic("ngIf",o.hasApp),c.Ab(1),c.ic("ngIf",!o.hasApp),c.Ab(3),c.Fc(i("common.description")),c.Ab(1),c.Eb("empty",!o.app.description),c.Ab(1),c.Fc(o.app.description?o.app.description:i("appLibrary.appDetails.noDescription")),c.Ab(2),c.Cb("far fa-"+o.app.categoryicon),c.Ab(2),c.Fc(o.app.categoryname),c.Ab(3),c.Fc(i("appLibrary.appDetails.type")),c.Ab(1),c.Eb("empty",!o.app.type_name),c.Ab(1),c.Fc(o.app.type_name?o.app.type_name:i("appLibrary.appDetails.noType")),c.Ab(2),c.Fc(i("appLibrary.appDetails.privacy")),c.Ab(1),c.Eb("empty",!o.app.privacyurl),c.Ab(1),c.Fc(o.app.privacyurl?o.app.privacyurl:i("appLibrary.appDetails.noPrivacy")),c.Ab(2),c.Fc(i("appLibrary.appDetails.terms")),c.Ab(1),c.Eb("empty",!o.app.termsofserviceurl),c.Ab(1),c.Fc(o.app.termsofserviceurl?o.app.termsofserviceurl:i("appLibrary.appDetails.noTerms")),c.Ab(2),c.Fc(i("appLibrary.appDetails.dataSharing")),c.Ab(1),c.Eb("empty",!o.app.datasharingurl),c.Ab(1),c.Fc(o.app.datasharingurl?o.app.datasharingurl:i("appLibrary.appDetails.noDataSharing"))}}function zg(t,e){1&t&&(c.Qb(0),c.Cc(1,jg,44,33,"ng-container",1),c.Pb())}var Vg=function(){function t(t,e){var n=this;this.appsHelper=t,this.appLibHelper=e,this.hasApp=!1,this.subscriptions=[],this.subscriptions[0]=this.appLibHelper.collectionUpdated.subscribe((function(t){return n.activeCollection=t})),this.subscriptions[1]=this.appsHelper.appsUpdated.subscribe((function(t){n.allUserApps=t,n.onAppsChange()}))}return t.prototype.ngOnChanges=function(t){t.app&&this.onAppsChange()},t.prototype.ngOnDestroy=function(){this.subscriptions.forEach((function(t){return t.unsubscribe()}))},t.prototype.onAppsChange=function(){var t=this;this.app&&(this.hasApp=Boolean(j()(this.allUserApps,(function(e){return e.id===t.app.id}))))},t.prototype.goBack=function(){this.appLibHelper.currentViewUpdated.next(0)},t.\u0275fac=function(e){return new(e||t)(c.Mb(p.a),c.Mb(tt))},t.\u0275cmp=c.Gb({type:t,selectors:[["app-app-details"]],inputs:{app:"app"},features:[c.yb],decls:1,vars:1,consts:[[4,"ngIf"],[4,"transloco"],[1,"main-content","flex-start","column-nowrap","border-bottom"],[1,"breadcrumbs","flex-start"],["role","link","tabindex","0",1,"focusable-small",3,"click","enter"],[1,"far","fa-angle-right"],[1,"img-details","flex-start"],[1,"cl-app","app-library","large",3,"app","hideName"],[1,"sub-details","flex-start","column-nowrap"],[1,"name"],[1,"url"],[1,"description","border-bottom"],[1,"border","flex-start-center"],[1,"details"],[1,"detail-label"],[1,"flex-center","remove",3,"disabled","click"],["strokeColor","var(--color-danger)"],[1,"flex-center",3,"disabled","click"],["strokeColor","var(--color-primary)"]],template:function(t,e){1&t&&c.Cc(0,zg,2,0,"ng-container",0),2&t&&c.ic("ngIf",e.app)},directives:[i.k,ct.c,hb,vt.F],styles:["[_nghost-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-flow:column nowrap;flex-flow:column nowrap;-ms-flex-pack:start;justify-content:flex-start;-ms-flex-align:start;align-items:flex-start;width:100%;height:calc(100% - 120px);overflow-y:auto;overflow-x:hidden}[_nghost-%COMP%] > div[_ngcontent-%COMP%]{padding:30px 225px;width:100%}[_nghost-%COMP%] > div[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-weight:800;font-size:13px;margin-bottom:5px}[_nghost-%COMP%] > div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:13px;margin-bottom:20px}[_nghost-%COMP%] > div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:last-of-type{margin-bottom:0}[_nghost-%COMP%] > div[_ngcontent-%COMP%]   p.empty[_ngcontent-%COMP%]{color:#888}[_nghost-%COMP%] > div.main-content[_ngcontent-%COMP%]{padding:30px 35px}[_nghost-%COMP%] > div.main-content[_ngcontent-%COMP%]   .breadcrumbs[_ngcontent-%COMP%]{margin-bottom:30px}[_nghost-%COMP%] > div.main-content[_ngcontent-%COMP%]   .breadcrumbs[_ngcontent-%COMP%]   p[role=link][_ngcontent-%COMP%]{font-weight:600;font-size:13px;margin-right:8px;color:var(--color-primary);cursor:pointer}[_nghost-%COMP%] > div.main-content[_ngcontent-%COMP%]   .breadcrumbs[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], [_nghost-%COMP%] > div.main-content[_ngcontent-%COMP%]   .breadcrumbs[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], [_nghost-%COMP%] > div.main-content[_ngcontent-%COMP%]   .breadcrumbs[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:600;font-size:13px;margin-right:8px}[_nghost-%COMP%] > div.main-content[_ngcontent-%COMP%]   .breadcrumbs[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%], [_nghost-%COMP%] > div.main-content[_ngcontent-%COMP%]   .breadcrumbs[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%], [_nghost-%COMP%] > div.main-content[_ngcontent-%COMP%]   .breadcrumbs[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{font-size:16px}[_nghost-%COMP%] > div.main-content[_ngcontent-%COMP%]   .breadcrumbs[_ngcontent-%COMP%]   button.primary[_ngcontent-%COMP%], [_nghost-%COMP%] > div.main-content[_ngcontent-%COMP%]   .breadcrumbs[_ngcontent-%COMP%]   p.primary[_ngcontent-%COMP%], [_nghost-%COMP%] > div.main-content[_ngcontent-%COMP%]   .breadcrumbs[_ngcontent-%COMP%]   span.primary[_ngcontent-%COMP%]{color:var(--color-primary)}[_nghost-%COMP%] > div.main-content[_ngcontent-%COMP%]   .sub-details[_ngcontent-%COMP%]{padding:5px}[_nghost-%COMP%] > div.main-content[_ngcontent-%COMP%]   .sub-details[_ngcontent-%COMP%]   h3.name[_ngcontent-%COMP%]{font-weight:800;font-size:26px;margin-bottom:10px}[_nghost-%COMP%] > div.main-content[_ngcontent-%COMP%]   .sub-details[_ngcontent-%COMP%]   h3.url[_ngcontent-%COMP%]{color:var(--color-primary);font-weight:600;font-size:14px;margin-bottom:30px}[_nghost-%COMP%] > div.main-content[_ngcontent-%COMP%]   .sub-details[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-radius:5px;padding:5px;margin-top:8px;width:80px;height:30px;font-weight:700;color:var(--color-primary);background-color:#fff;border:2px solid var(--color-primary);font-size:13px;transition:background-color .1s ease-in-out}[_nghost-%COMP%] > div.main-content[_ngcontent-%COMP%]   .sub-details[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   cl-progress-spinner[_ngcontent-%COMP%]{width:100%;height:100%;position:relative}[_nghost-%COMP%] > div.main-content[_ngcontent-%COMP%]   .sub-details[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#e0f4ff}[_nghost-%COMP%] > div.main-content[_ngcontent-%COMP%]   .sub-details[_ngcontent-%COMP%]   button.remove[_ngcontent-%COMP%]{color:#da3939;border-color:#da3939}[_nghost-%COMP%] > div.main-content[_ngcontent-%COMP%]   .sub-details[_ngcontent-%COMP%]   button.remove[_ngcontent-%COMP%]:hover{background-color:#fff1f1}.description[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], .details[_ngcontent-%COMP%]   p.detail-label[_ngcontent-%COMP%]{font-weight:800;font-size:13px;margin-bottom:5px}.border-bottom[_ngcontent-%COMP%]{border-bottom:1px solid #e6e6e6}.italic[_ngcontent-%COMP%]{font-style:italic}.border[_ngcontent-%COMP%]{display:-ms-inline-flexbox;display:inline-flex;border:2px solid #333;border-radius:20px;font-weight:700;font-size:13px;margin-top:20px;padding:7px 20px}.border[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{margin-right:10px}@media screen and (max-width:786px){.description[_ngcontent-%COMP%], .details[_ngcontent-%COMP%]{padding:30px 35px!important}}"]}),t}();function Gg(t,e){if(1&t){var n=c.Tb();c.Sb(0,"app-library-header",3),c.Zb("closed",(function(){c.vc(n);var t=c.cc();return t.visible=!1,t.onVisibleChange()}))("focusMoved",(function(){return c.vc(n),c.cc().focusMainDisplay()})),c.Rb()}if(2&t){var i=c.cc();c.ic("collections",i.collections)}}function $g(t,e){if(1&t){var n=c.Tb();c.Sb(0,"app-main-display",7),c.Zb("appSelected",(function(t){return c.vc(n),c.cc(2).onAppSelected(t)})),c.Rb()}if(2&t){var i=c.cc(2);c.ic("categories",i.categories)("educationId",i.educationId)}}function Zg(t,e){if(1&t){var n=c.Tb();c.Sb(0,"app-add-app",8),c.Zb("appSubmitted",(function(){return c.vc(n),c.cc(2).onAppAdded()}))("closed",(function(){c.vc(n);var t=c.cc(2);return t.visible=!1,t.onVisibleChange()})),c.Rb()}}function Wg(t,e){if(1&t&&c.Nb(0,"app-app-details",9),2&t){var n=c.cc(2);c.ic("app",n.selectedApp)}}function qg(t,e){if(1&t&&(c.Qb(0),c.Cc(1,$g,1,2,"app-main-display",4),c.Cc(2,Zg,1,0,"app-add-app",5),c.Cc(3,Wg,1,1,"app-app-details",6),c.Pb()),2&t){var n=c.cc();c.Ab(1),c.ic("ngIf",0===n.currentView),c.Ab(1),c.ic("ngIf",1===n.currentView),c.Ab(1),c.ic("ngIf",2===n.currentView)}}var Yg=function(){function t(t,e,n,i,o){var r=this;this.slideoverService=t,this.appsService=e,this.ele=n,this.appLibHelper=i,this.translocoService=o,this.currentView=0,this.visible=!1,this.collections=[],this.categories=[],this.delayWaited=!1,this.filterVal="",this.subscriptions=[],this.subscriptions[0]=this.slideoverService.appLibrary.opened.subscribe((function(t){return r.initSlideover(t)})),this.subscriptions[1]=this.appLibHelper.currentViewUpdated.subscribe((function(t){return r.currentView=t})),this.subscriptions[2]=this.appLibHelper.filterUpdated.subscribe((function(t){return r.filterVal=t})),this.appLibHelper.collectionUpdated.next({Name:"All Apps",Id:-1,TenantWide:!0})}return t.prototype.ngOnDestroy=function(){this.subscriptions.forEach((function(t){return t.unsubscribe()}))},t.prototype.onVisibleChange=function(){this.visible||(this.slideoverService.appLibrary.closed.next(!0),this.delayWaited=!1,this.currentView=0)},t.prototype.initSlideover=function(t){var e=this;this.visible=!0,this.getCategories(),this.returnEle=t,Object(u.a)(330).subscribe((function(){e.delayWaited=!0,document.querySelector("cl-slideover.app-library input").focus()}))},t.prototype.onEscape=function(){this.visible&&(""!==this.filterVal?this.appLibHelper.filterUpdated.next(""):this.visible=!1)},t.prototype.getCategories=function(){var t=this;this.appsService.getDashboard().subscribe((function(e){t.collections=e.enterprisecategories?e.enterprisecategories:[];var n=e.categorylist.categories.map((function(e){return e.name=t.translocoService.translate("appLibrary.categories."+e.name),e.isSubject=!1,e})),i=e.categorylist.subjects.map((function(e){return e.name=t.translocoService.translate("appLibrary.categories."+e.name),e.isSubject=!0,e}));t.categories=Vb()(Object(R.e)(n,i),(function(t){return t.name})),t.educationId=e.categorylist.education_id}))},t.prototype.onAppSelected=function(t){this.selectedApp=t,this.appLibHelper.currentViewUpdated.next(2)},t.prototype.onAppAdded=function(){this.visible=!1,this.onVisibleChange()},t.prototype.focusMainDisplay=function(){this.mainDisplay.appContainer.nativeElement.focus()},t.\u0275fac=function(e){return new(e||t)(c.Mb(z.a),c.Mb(Q),c.Mb(c.l),c.Mb(tt),c.Mb(ct.f))},t.\u0275cmp=c.Gb({type:t,selectors:[["app-library"]],viewQuery:function(t,e){var n;1&t&&c.Jc(jb,!0),2&t&&c.rc(n=c.ac())&&(e.mainDisplay=n.first)},hostBindings:function(t,e){1&t&&c.Zb("keydown.escape",(function(){return e.onEscape()}),!1,c.tc)},decls:3,vars:7,consts:[["aria-labelledby","appLibTitle",1,"app-library",3,"visible","initElement","width","showCloseIcon","clFocusTrap","visibleChange"],[3,"collections","closed","focusMoved",4,"ngIf"],[4,"ngIf"],[3,"collections","closed","focusMoved"],[3,"categories","educationId","appSelected",4,"ngIf"],[3,"appSubmitted","closed",4,"ngIf"],["class","custom-scroll",3,"app",4,"ngIf"],[3,"categories","educationId","appSelected"],[3,"appSubmitted","closed"],[1,"custom-scroll",3,"app"]],template:function(t,e){1&t&&(c.Sb(0,"cl-slideover",0),c.Zb("visibleChange",(function(t){return e.visible=t}))("visibleChange",(function(){return e.onVisibleChange()})),c.Cc(1,Gg,1,1,"app-library-header",1),c.Cc(2,qg,4,3,"ng-container",2),c.Rb()),2&t&&(c.ic("visible",e.visible)("initElement",e.returnEle)("width","90%")("showCloseIcon",!1)("clFocusTrap",e.visible),c.Ab(1),c.ic("ngIf",e.visible),c.Ab(1),c.ic("ngIf",e.delayWaited))},directives:[vt.L,vt.s,i.k,rg,jb,Fg,Vg],styles:["cl-slideover.app-library .cl-slideover{--color-primary:#0054ff;overflow:hidden}cl-slideover.app-library .cl-slideover button.close{top:5px;right:5px;padding:8px}cl-slideover.app-library .cl-slideover div.app-lib-input-ctnr cl-input.app-search .input-ctnr input{border:0;padding-right:125px;opacity:.93;transition:opacity .2s linear}cl-slideover.app-library .cl-slideover div.app-lib-input-ctnr cl-input.app-search .input-ctnr input:focus{opacity:1;border:1px solid var(--color-border-dark);box-shadow:0 0 10px rgba(0,0,0,.21)}cl-slideover.app-library .cl-slideover div.app-lib-input-ctnr cl-input.app-search .input-ctnr>span.icon>svg{color:var(--color-primary)!important}cl-slideover.app-library .cl-slideover .buttons{display:-ms-flexbox;display:flex;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-pack:end;justify-content:flex-end;-ms-flex-align:center;align-items:center;border-top:1px solid var(--color-border-dark);height:80px;width:100%;-ms-flex:0 0 80px;flex:0 0 80px;position:relative;padding:0 35px;margin-top:auto}cl-slideover.app-library .cl-slideover .buttons .button-default{margin-right:auto}.cl-app.app-library{height:175px;width:143px;margin-top:10px;margin-bottom:40px}.cl-app.app-library:focus,.cl-app.app-library:focus-within,.cl-app.app-library:hover{background-color:rgba(0,0,0,0)}.cl-app.app-library:focus-within button,.cl-app.app-library:focus button,.cl-app.app-library:hover button{opacity:1}.cl-app.app-library:focus:after{z-index:1}.cl-app.app-library.assigned .cl-clip-img-ctnr:before{box-shadow:0 0 20px #008ad7}.cl-app.app-library.assigned .flags{left:calc(100% - 4px)}.cl-app.app-library.large{width:160px;height:160px;margin:0 30px 0 0}.cl-app.app-library.large .cl-clip-img-ctnr{width:100%;height:100%}.cl-app.app-library.large .cl-clip-img-ctnr:before{border-radius:50px}.cl-app.app-library.large .cl-clip-img-ctnr.assigned:before{box-shadow:0 0 30px rgba(0,0,0,.3)}.cl-app.app-library.large .cl-clip-img-ctnr .img-border.assigned{top:-3px;left:-3px}.cl-app.app-library.large .cl-clip-img-ctnr .img-border img{width:144px;height:144px}.cl-app.app-library.large .cl-clip-img-ctnr .key{right:-40px;top:-6px;height:59px;width:124px}.cl-app.app-library.large .cl-clip-img-ctnr .key svg{width:20px;-ms-transform:translate(-2px,-5px) rotate(-135deg);transform:translate(-2px,-5px) rotate(-135deg)}.cl-app.app-library button{border-radius:5px;padding:5px;margin-top:8px;width:80px;height:30px;font-weight:700;color:var(--color-primary);background-color:#fff;border:2px solid var(--color-primary);font-size:calc(var(--font-modifier) * 13px);transition:background-color .1s ease-in-out;min-width:unset}.cl-app.app-library button:hover{background-color:#e0f4ff}.cl-app.app-library button.remove{color:#da3939;border-color:#da3939}.cl-app.app-library button.remove:hover{background-color:#fff1f1}.cl-app.app-library .cl-clip-img-ctnr{margin-bottom:0;width:75px;height:75px}.cl-app.app-library .cl-clip-img-ctnr .img-border img{width:72px;height:72px}.cl-app.app-library .cl-clip-img-ctnr .img-border.assigned{position:absolute;width:calc(100% + 6px);height:calc(100% + 6px);top:-3px;left:-3px;background-color:var(--color-primary);-webkit-clip-path:url(#squareCircle);clip-path:url(#squareCircle)}.cl-app.app-library .cl-clip-img-ctnr:before{box-shadow:0 0 20px rgba(0,0,0,.2);width:calc(100% - 20px);height:calc(100% - 20px);top:10px;left:10px}.cl-app.app-library .cl-clip-img-ctnr:hover:before{box-shadow:0 0 30px rgba(0,0,0,.5)}.cl-app.app-library .name{background-color:rgba(0,0,0,0);-ms-flex-align:start;align-items:flex-start;-ms-flex-pack:center;justify-content:center;overflow:hidden;padding:0;margin-top:5px;height:42px;-ms-flex:0 0 42px;flex:0 0 42px}.cl-app.app-library .name>p{color:#333;font-size:calc(var(--font-modifier) * 14px);font-weight:600;line-height:14px;letter-spacing:0;height:42px;overflow:hidden;text-overflow:ellipsis;white-space:pre-line;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center}icon.cl-app.app-library .name{margin-top:0}.app-lib-input-ctnr{position:relative;-ms-flex-positive:1;flex-grow:1;height:40px;margin-left:auto}.app-lib-input-ctnr cl-input{height:40px}.app-lib-input-ctnr button{position:absolute;top:15px;right:10px;height:20px;color:#0096ea;font-size:calc(var(--font-modifier) * 13px);font-weight:600}.app-lib-input-ctnr button>svg{margin-left:10px}.app-lib-input-ctnr .dropdown{position:absolute;top:100%;left:0;width:100%;background-color:#fff;padding:20px!important;box-shadow:0 15px 30px 0 rgba(0,0,0,.15);border-radius:5px;z-index:300;max-height:500px;-ms-flex-flow:column nowrap;flex-flow:column nowrap}.app-lib-input-ctnr .dropdown .suggestion{width:100%;height:60px;padding:10px;border-radius:5px;cursor:pointer}.app-lib-input-ctnr .dropdown .suggestion.active,.app-lib-input-ctnr .dropdown .suggestion:focus,.app-lib-input-ctnr .dropdown .suggestion:hover{background-color:#ddf0fe}.app-lib-input-ctnr .dropdown .suggestion img{width:40px;height:40px;border-radius:50%;margin-right:15px}.app-lib-input-ctnr .dropdown .suggestion .text-ctnr{-ms-flex-flow:column nowrap;flex-flow:column nowrap}.app-lib-input-ctnr .dropdown .suggestion .text-ctnr>div{margin-bottom:5px}.app-lib-input-ctnr .dropdown .suggestion .text-ctnr>div>*{font-size:calc(var(--font-modifier) * 13px);font-weight:600;letter-spacing:0}.app-lib-input-ctnr .dropdown .suggestion .text-ctnr>div svg{margin:0 5px 0 10px}.app-lib-input-ctnr .dropdown .suggestion .text-ctnr>div p,.app-lib-input-ctnr .dropdown .suggestion .text-ctnr>div svg{color:#0096ea}.app-lib-input-ctnr .dropdown .suggestion .text-ctnr p{font-size:calc(var(--font-modifier) * 12px)}"],encapsulation:2}),t}();function Kg(t,e){if(1&t&&(c.Qb(0),c.Sb(1,"div",12),c.Nb(2,"app-sidenav"),c.Sb(3,"div",13),c.Ob(4,14),c.Rb(),c.Rb(),c.Pb()),2&t){var n=c.cc(),i=c.sc(5);c.Ab(3),c.Eb("collapsed",n.sidenavCollapsed),c.Ab(1),c.ic("ngTemplateOutlet",i)}}function Qg(t,e){if(1&t&&c.Nb(0,"div",20),2&t){var n=c.cc(2);c.ic("ngStyle",n.backgroundStyle)}}function Jg(t,e){if(1&t){var n=c.Tb();c.Sb(0,"app-edit-bar",21),c.Zb("updateFocus",(function(t){return c.vc(n),c.cc(2).updateDescendant(t)})),c.Rb()}if(2&t){var i=c.cc(2);c.Eb("move-down",i.isEditMode)("box-shadow",i.isEditMode&&((null==i.settings?null:i.settings.customUISettings.theme)===i.Themes.Primary||(null==i.settings?null:i.settings.customUISettings.highContrastSelected))),c.Bb("aria-activedescendant",i.activeOpt)}}function Xg(t,e){if(1&t){var n=c.Tb();c.Sb(0,"button",22),c.Zb("click",(function(){return c.vc(n),c.cc(2).openFeedback()})),c.Nb(1,"i",23),c.Ec(2),c.dc(3,"transloco"),c.Rb()}2&t&&(c.Ab(2),c.Gc(" ",c.ec(3,1,"feedback.help")," "))}var tf=function(t){return{"overflow-hidden":t}};function ef(t,e){if(1&t&&(c.Cc(0,Qg,1,1,"div",15),c.Nb(1,"app-header"),c.Cc(2,Jg,1,5,"app-edit-bar",16),c.Nb(3,"app-apps-container",17),c.Cc(4,Xg,4,3,"button",18),c.Nb(5,"app-favorites-bar",19)),2&t){var n=c.cc();c.ic("ngIf",n.settings),c.Ab(1),c.Eb("box-shadow",!n.isEditMode&&((null==n.settings?null:n.settings.customUISettings.theme)===n.Themes.Primary||(null==n.settings?null:n.settings.customUISettings.highContrastSelected))),c.Ab(1),c.ic("ngIf",(null==n.settings?null:n.settings.customUISettings.theme)!==n.Themes.Professional),c.Ab(1),c.Eb("expand",n.isEditMode),c.ic("ngClass",c.lc(11,tf,n.slideoverOpen||!!n.activeFolder))("clGrid",!0),c.Ab(1),c.ic("ngIf",(null==n.desktopSettings?null:n.desktopSettings.reportEnabled)&&(null==n.userInfo?null:n.userInfo.roleLevel)<=3),c.Ab(1),c.Eb("move-down",n.isEditMode)}}function nf(t,e){1&t&&c.Nb(0,"app-library")}function of(t,e){if(1&t){var n=c.Tb();c.Qb(0),c.Sb(1,"div",24),c.Sb(2,"h1"),c.Ec(3),c.Rb(),c.Sb(4,"span",25),c.Nb(5,"i",26),c.Rb(),c.Rb(),c.Sb(6,"h3",27),c.Ec(7),c.Rb(),c.Sb(8,"div",28),c.Sb(9,"cl-input",29),c.Zb("valueChange",(function(t){return c.vc(n),c.cc().passForm.pass=t})),c.Rb(),c.Sb(10,"cl-input",29),c.Zb("valueChange",(function(t){return c.vc(n),c.cc().passForm.confirm=t})),c.Rb(),c.Sb(11,"button",30),c.Zb("click",(function(){return c.vc(n),c.cc().closeModal()})),c.Ec(12),c.Rb(),c.Sb(13,"button",31),c.Zb("click",(function(){return c.vc(n),c.cc().verifyPassword()})),c.Ec(14),c.Rb(),c.Rb(),c.Pb()}if(2&t){var i=e.$implicit,o=c.cc(),r=c.sc(29);c.Ab(3),c.Fc(i("myProfile.security.networkPassword.activeDirectoryCredentials")),c.Ab(1),c.ic("clTooltip",r),c.Ab(3),c.Fc(i("myProfile.security.networkPassword.please")),c.Ab(2),c.ic("value",o.passForm.pass)("label",i("myProfile.general.password"))("showPasswordEye",!0),c.Ab(1),c.ic("value",o.passForm.confirm)("label",i("myProfile.general.passwordReset.confirmPassword"))("showPasswordEye",!0),c.Ab(2),c.Fc(i("common.cancel")),c.Ab(1),c.ic("disabled",""==o.passForm.pass||o.passForm.pass!==o.passForm.confirm),c.Ab(1),c.Fc(i("common.save"))}}function rf(t,e){if(1&t&&(c.Sb(0,"div",33),c.Sb(1,"p"),c.Ec(2),c.Rb(),c.Rb()),2&t){var n=e.$implicit;c.Ab(2),c.Fc(n("myProfile.security.networkPassword.tooltip"))}}function af(t,e){1&t&&c.Cc(0,rf,3,1,"div",32)}function sf(t,e){1&t&&(c.bc(),c.Sb(0,"svg",34),c.Sb(1,"clipPath",35),c.Nb(2,"path",36),c.Rb(),c.Rb())}function cf(t,e){1&t&&(c.bc(),c.Sb(0,"svg",37),c.Sb(1,"clipPath",38),c.Nb(2,"path",39),c.Rb(),c.Rb())}var lf=function(){return{"show-accessibility":!1}},pf=[{path:"",component:function(){function t(t,e,n,i,o,r,a,s,c,l,p,d,b,g,f,h,m,y,C,w,x){var P=this;this.sessionService=t,this.nodeApi=e,this.appsHelper=n,this.feedbackService=i,this.translationHelper=o,this.whatsNewService=r,this.cdr=a,this.appLibHelper=s,this.settingsHelper=c,this.myProfileHelper=l,this.menuHelper=p,this.appRef=d,this.slideoverService=b,this.zone=g,this.tmsService=f,this.settingsService=h,this.tagsHelper=m,this.router=y,this.permissionsService=C,this.appsService=w,this.formPostHelper=x,this.Themes=pt.a,this.isIdle=!1,this.sidenavCollapsed=!1,this.initialized=!1,this.feedbackUser={},this.slideoverOpen=!1,this.feedbackOpen=!1,this.showAccessibilityBar=!1,this.backgroundStyle={"background-image":""},this.resetADVisible=!1,this.passForm={pass:"",confirm:""},this.usingTms=!1,this.liteModalVisible=!1,this.liteModalContent=[{title:"Not Available",description:'You are using ClassLink Lite. Upgrade to the full ClassLink Suite to access these features. Learn more at <a href="https://www.classlink.com" target="_blank">classlink.com</a> or email <a href="mailto:sales@classlink.com">sales@classlink.com</a>.\n      <br>\n      The full ClassLink suite unlocks:\n      <ul>\n      <li>Roster Server - Deliver class rosters securely and instantly.</a></li>\n      <li>OneSync - Create and manage accounts with secure, automated account provisioning.</li>\n      <li>Parent Portal - Help parents stay engaged with their child\u2019s education.</li>\n      <li>Public Portal  - Keep the community informed and share information on resources.</li>\n      </ul>\n      <p>...and much more, including additional capabilities within LaunchPad and Analytics.</p>\n      <div class="contact-info"> <p><i class="far fa-phone"></i>+1 888 963 7550 (ext. 101)</p>  <p><i class="far fa-envelope"></i> <a href="mailto:sales@classlink.com">sales@classlink.com</a></p></div>\n      ',imagePath:"assets/images/welcome-lite/lite-feature-warning.svg",imageAlt:"ClassLink Lite"}],this.longIdle=!1,this.isStable=!1,this.subscriptions=[],this.notCompat=!0,this.securityWarningsShown=!1,this.formPostApps=[],this.activeOpt=null,this.accessibilityOptions={textSize:0,lightBackground:!1},this.accessibilityJumps=[{label:"Applications",value:{type:"selector",selector:"application, folder",noScroll:!0}},{label:"Favorites",value:{type:"selector",selector:"favorite",noScroll:!0}},{label:"Settings",value:{type:"function",handler:function(){return P.slideoverService.myProfile.opened.next({id:1})}}}],this.accessibilityActions=[{label:"Increase Text Size",icon:"far fa-search-plus",handler:this.increaseTextSize.bind(this)},{label:"Decrease Text Size",icon:"far fa-search-minus",handler:this.decreaseTextSize.bind(this)},{label:"High Contrast",icon:"far fa-adjust",handler:this.toggleHighContrast.bind(this)},{label:"Light Background",icon:"far fa-lightbulb",handler:this.toggleLightBackground.bind(this)},{label:"Reset",icon:"far fa-undo",handler:this.clearAccessibility.bind(this)}],this.initialUserSettings={isImpersonated:null,gwsToken:null};var S=ht.a.getBrowser(),O=ht.a.getIOS();this.notCompat=!(S===Pe.a.InternetExplorer||S===Pe.a.Edge||S===Pe.a.OperaMini||S==Pe.a.Safari||O),this.subscriptions[0]=n.editModeChanged.subscribe((function(t){return P.isEditMode=t})),this.subscriptions[1]=n.appsUpdated.subscribe((function(t){return P.myApps=t})),this.subscriptions[2]=i.closedSlideover.subscribe((function(t){P.feedbackOpen=!1,P.slideoverService.isOpenStateChange.next(!1),t.submitted&&P.translationHelper.translateAndAddGenericGrowl({severity:"success"},{subject:"growl.feedback",verb:"common.submitted"})})),this.subscriptions[3]=t.settingsUpdated.subscribe((function(t){P.settings=t,P.accessibilityOptions=P.sessionService.getAccessibilityInfo(),P.accessibilityOptions||(P.accessibilityOptions={textSize:0,lightBackground:!1}),P.idleTimer||P.createIdleTimer(!1),P.idleDebounce||P.createIdleDebounce(!1),!P.initialized&&P.settings.customUISettings.showFirstTime&&P.appsHelper.welcomeVisibleChanged.next(!0),P.initialized=!0})),this.subscriptions[4]=s.appLibraryStatusUpdated.subscribe((function(t){return P.appLibraryStatus=t})),this.subscriptions[5]=c.desktopSettingsUpdated.subscribe((function(t){return P.desktopSettings=t})),this.subscriptions[6]=l.generalSettingsUpdated.subscribe((function(t){P.generalSettings=t,P.attemptAutoLaunch()})),this.subscriptions[7]=c.backgroundStyleUpdated.subscribe((function(t){return P.backgroundStyle=t})),this.subscriptions[8]=this.zone.runOutsideAngular((function(){return Object(ft.a)(document,"keydown",{passive:!0}).pipe(v(100)).subscribe((function(){return P.createIdleTimer(!0)}))})),this.subscriptions[9]=this.zone.runOutsideAngular((function(){return Object(ft.a)(document,"mousedown",{passive:!0}).pipe(v(100)).subscribe((function(){return P.createIdleTimer(!0)}))})),this.subscriptions[10]=c.sidenavCollapseChanged.subscribe((function(t){return P.sidenavCollapsed=t})),this.subscriptions[11]=c.themeUpdated.subscribe((function(t){P.isIdle=!1,Object(u.a)(1e3).subscribe((function(){return P.setIdleCallback()}))})),this.subscriptions[12]=d.isStable.pipe(Object(Ce.a)((function(t){return!0===t}))).subscribe((function(t){return P.zone.run((function(){P.isStable=t,P.createIdleTimer(!1),P.createIdleDebounce(!1)}))})),this.subscriptions[13]=t.userInfoUpdated.subscribe((function(t){P.userInfo||(P.initialUserSettings.isImpersonated=t.isImpersonated),P.userInfo=t,P.mapFeedbackUser(P.userInfo),P.tmsService.isUsingTms(P.userInfo.BuildingId).subscribe((function(t){P.sessionService.useTMSUpdated.next(t),P.userInfo.isADUser&&!P.userInfo.isImpersonated&&2!=P.userInfo.LoginSourceId&&(P.usingTms=t.useTMS,!1===t.IsAdUserValidationEnabled||(P.usingTms||3==P.userInfo.LoginSourceId&&t.ADFSServiceType?P.tmsService.verifyNetwork().subscribe((function(t){}),(function(t){t.status>299&&(P.resetADVisible=!0)})):P.nodeApi.verifyAd().subscribe((function(t){t.body.UserDN||(P.resetADVisible=!0)}))))}),(function(t){console.log(t)})),P.userInfo.isImpersonated||P.getPasswordRecoveryStatus(),P.userInfo.roleLevel<=1&&!P.securityWarningsShown&&(P.securityWarningsShown=!0,P.checkRecoveryQuestions(),P.checkMfa())})),this.subscriptions[14]=b.isOpenStateChange.subscribe((function(t){return P.slideoverOpen=t})),this.subscriptions[15]=n.activeFolderChanged.subscribe((function(t){return P.activeFolder=t})),this.subscriptions[16]=n.oauthUsed.subscribe((function(t){t||P.isValidSession()||(console.log("Invalid session, sending back to launchpad:"),P.sessionService.clear(),P.router.navigateByUrl("/oauth"))})),this.subscriptions[17]=c.liteModalUpdated.subscribe((function(t){P.liteModalVisible=t})),this.subscriptions[18]=c.snapshotRestored.subscribe((function(t){P.isIdle=t})),this.subscriptions[19]=x.formPostApps.subscribe((function(t){return P.formPostApps=t}))}return t.prototype.ngOnInit=function(){var t=this;this.myApps?(this.setIdleCallback(),this.attemptAutoLaunch()):this.subscriptions[20]=Object(ye.a)([this.sessionService.gwsTokenSet,this.permissionsService.permissionsSub]).subscribe((function(e){var n;t.permissions=e[1],e[1]&&!t.myApps&&(t.getMyApps(),t.tagsHelper.getTags(),!(null===(n=t.initialUserSettings)||void 0===n?void 0:n.gwsToken)&&t.sessionService.getGwsToken()&&(t.initialUserSettings.gwsToken=t.sessionService.getGwsToken()))}))},t.prototype.ngOnDestroy=function(){this.subscriptions.forEach((function(t){return t.unsubscribe()})),this.idleTimer&&this.idleTimer.unsubscribe()},t.prototype.onStorageChange=function(){var t,e,n=this.sessionService.getUserInfo();if(this.initialUserSettings){if(this.initialUserSettings&&!n){var i=null===(e=null===(t=this.settings)||void 0===t?void 0:t.buildingSettings)||void 0===e?void 0:e.loginUrl;window.location.href=K.a.launchpadUrl+"/"+(i||"logout")}if(JSON.parse(localStorage.getItem("impersonationEnded"))&&location.reload(),(null==n?void 0:n.isImpersonated)===!this.initialUserSettings.isImpersonated){var o=this.urlEncode(K.a.launchpadUrl+"/oauth2/v2/auth",{scope:"full",redirect_uri:window.location.origin+"/oauth/",client_id:K.a.clientId,response_type:"code"});window.open(o,"_self")}}},t.prototype.urlEncode=function(t,e){return t+"?"+Object.keys(e).map((function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])})).join("&")},t.prototype.onEscape=function(){this.menuHelper.closeAllMenus(),this.isEditMode&&this.appsHelper.editModeChanged.next(!1)},t.prototype.onContextMenu=function(){this.menuHelper.closeAllMenus()},t.prototype.getMyApps=function(){var t=this;(this.permissions.availablePermissions.has(X.a.InHouseAppsEndpoint)?this.appsService.getMyApps():this.nodeApi.getMyApps()).subscribe((function(e){t.myApps=e,t.appsHelper.appsUpdated.next(t.myApps),t.attemptAutoLaunch(),t.setIdleCallback()}))},t.prototype.getPasswordRecoveryStatus=function(){var t=this;this.nodeApi.getPasswordRecoveryForceStatus().subscribe((function(e){e&&7!==t.generalSettings.UserType&&8!==t.generalSettings.UserType&&t.appsHelper.showForcePasswordRecovery.next(!0)}))},t.prototype.checkRecoveryQuestions=function(){var t=this;this.nodeApi.getCurrentRecoveryOptions().subscribe((function(e){e.secretquestions.length>0&&t.generalSettings.EnablePasswordOptions&&t.appsHelper.showRecoveryQuestionsWarning.next(!0)}))},t.prototype.checkMfa=function(){var t=this;this.nodeApi.getTwoFactor().subscribe((function(e){return e.is_eanabled?e.is_eanabled&&2===e.type?t.appsHelper.showMfaWarning.next({visible:!0,image:!0}):void 0:t.appsHelper.showMfaWarning.next({visible:!0,image:!1})}))},t.prototype.setIdleCallback=function(){var t=this;window.requestIdleCallback?window.requestIdleCallback((function(){return t.idleCallback()})):window.requestAnimationFrame((function(){return t.idleCallback()}))},t.prototype.idleCallback=function(){this.isIdle=!0,this.cdr.detectChanges(),this.getNotifications()},t.prototype.attemptAutoLaunch=function(){var t=this;if(this.myApps&&this.generalSettings&&window.postMessage&&this.generalSettings.IsEnableAutoLaunch){var e=[],n=this.settings.userInfo.isImpersonated&&this.permissions.availablePermissions.has(X.a.FormPostAppsImp)?P()(this.myApps,(function(e){return!t.formPostApps.includes(e.id)})):this.myApps;if(ht.a.checkAppsForAutoLaunch(e,n),0!==e.length)try{var i=JSON.stringify({type:"autolaunch",IdConfigBaseUrl:K.a.launchpadUrl,data:e,gwstoken:this.sessionService.getGwsToken()}),o=btoa(i);window.postMessage(o,window.location.origin)}catch(r){console.warn("Could not auto-launch apps, caught error:",r)}}},t.prototype.checkAppsForAutoLaunch=function(t,e){for(var n=0,i=e;n<i.length;n++){var o=i[n];(o.admin_auto_launch||o.user_auto_launch)&&(delete o.appdesc,t.push(o)),o.apps&&this.checkAppsForAutoLaunch(t,o.apps)}},t.prototype.createIdleTimer=function(t){var e=this;if(void 0===t&&(t=!1),this.isStable&&(!this.idleTimer||t)&&"dev"!=K.a.environment){this.idleTimer&&t&&this.idleTimer.unsubscribe();var n=6e4*this.settings.userInfo.sessionTimeout;this.idleTimer=Object(u.a)(n).subscribe((function(){return e.appsHelper.sessionTimedOut.next(!0)})),this.longIdle&&this.createIdleDebounce()}},t.prototype.createIdleDebounce=function(t){var e=this;void 0===t&&(t=!1),(!this.idleDebounce||t||this.longIdle)&&((t||this.longIdle||!this.idleDebounce)&&(this.idleDebounce&&this.idleDebounce.unsubscribe(),this.idleDebounce=Object(u.a)(84e4).subscribe((function(){e.longIdle=!0}))),this.longIdle&&!t&&this.settingsService.extendSession(),this.longIdle=!1)},t.prototype.getNotifications=function(){var t=this;Object(u.a)(500).subscribe((function(){return t.whatsNewService.getNotifications(t.sessionService.getBearerToken(),K.a.productGuid,"prod"===K.a.environment||"staging"===K.a.environment?"prod":"beta")}))},t.prototype.openFeedback=function(){this.feedbackOpen=!0,this.slideoverService.isOpenStateChange.next(!0),this.feedbackService.openSlideover.next({token:this.sessionService.getBearerToken(),productGuid:K.a.productGuid,environment:"prod"===K.a.environment||"staging"===K.a.environment?"prod":"beta"})},t.prototype.isValidSession=function(){return!!document.cookie&&document.cookie.split(";").map((function(t){return t.split("=")[0].trim()})).includes(ht.a.COOKIE_KEY)},t.prototype.mapFeedbackUser=function(t){this.feedbackUser.Name=t.DisplayName,this.feedbackUser.Email=t.Email},t.prototype.toggleHighContrast=function(){var t=this;this.settings.customUISettings.highContrastSelected=!this.settings.customUISettings.highContrastSelected,setTimeout((function(){t.settingsService.setSettings(t.settings).subscribe((function(e){t.sessionService.setSettings(t.settings)}))}),0)},t.prototype.increaseTextSize=function(){this.accessibilityOptions.textSize<2&&(this.accessibilityOptions.textSize+=1,this.sessionService.setAccessibilityInfo(this.accessibilityOptions),this.sessionService.setSettings(this.settings))},t.prototype.decreaseTextSize=function(){this.accessibilityOptions.textSize>-2&&(this.accessibilityOptions.textSize-=1,this.sessionService.setAccessibilityInfo(this.accessibilityOptions),this.sessionService.setSettings(this.settings))},t.prototype.toggleLightBackground=function(){this.accessibilityOptions.lightBackground=!this.accessibilityOptions.lightBackground,this.sessionService.setAccessibilityInfo(this.accessibilityOptions),this.sessionService.setSettings(this.settings)},t.prototype.clearAccessibility=function(){var t=this;this.accessibilityOptions={textSize:0,lightBackground:!1},this.settings.customUISettings.highContrastSelected=!1,this.sessionService.setAccessibilityInfo(this.accessibilityOptions),setTimeout((function(){t.settingsService.setSettings(t.settings).subscribe((function(e){t.sessionService.setSettings(t.settings)}))}),0)},t.prototype.verifyPassword=function(){var t=this;this.usingTms?this.tmsService.updateNetwork(this.passForm.pass).subscribe((function(e){t.translationHelper.translateAndAddGenericGrowl({severity:"success"},{subject:"myProfile.passwords.credentials",verb:"common.edited"})}),(function(e){e.status>299?t.translationHelper.translateAndAddGrowl({severity:"error",summary:"error.invalidCredentials",detail:"error.invalidCredentialsDetail"}):(t.translationHelper.translateAndAddGenericGrowl({severity:"success"},{subject:"myProfile.passwords.credentials",verb:"common.edited"}),t.resetADVisible=!1)})):this.nodeApi.verifyAd(this.passForm.pass).subscribe((function(e){e.Token||e.TWSToken||e.Password?(t.translationHelper.translateAndAddGenericGrowl({severity:"success"},{subject:"myProfile.passwords.credentials",verb:"common.edited"}),t.resetADVisible=!1):t.translationHelper.translateAndAddGrowl({severity:"error",summary:"error.invalidCredentials",detail:"error.invalidCredentialsDetail"})}))},t.prototype.updateDescendant=function(t){this.activeOpt=t},t.prototype.closeModal=function(){this.resetADVisible=!1},t.\u0275fac=function(e){return new(e||t)(c.Mb(A.a),c.Mb(l.a),c.Mb(p.a),c.Mb(vt.r),c.Mb(J.a),c.Mb(vt.T),c.Mb(c.h),c.Mb(tt),c.Mb(M.a),c.Mb(lt),c.Mb(gt),c.Mb(c.g),c.Mb(z.a),c.Mb(c.z),c.Mb(we),c.Mb(xe.a),c.Mb(k.a),c.Mb(o.c),c.Mb(X.b),c.Mb($.a),c.Mb(dt))},t.\u0275cmp=c.Gb({type:t,selectors:[["secure"]],hostBindings:function(t,e){1&t&&c.Zb("storage",(function(){return e.onStorageChange()}),!1,c.uc)("keydown.escape",(function(){return e.onEscape()}),!1,c.tc)("contextmenu",(function(){return e.onContextMenu()}))},decls:32,vars:13,consts:[[3,"fadeOut"],[3,"visible","jumpLocations","accessibilityActions","visibleChange"],[1,"main-content",3,"ngClass"],[4,"ngIf","ngIfElse"],["regular",""],[4,"ngIf"],[3,"userInfo"],[1,"small",3,"visible","visibleChange"],[4,"transloco"],["helpTooltip",""],["width","0","height","0","viewBox","0 0 100 100","preserveAspectRatio","none","style","position: absolute; top:0; left: 0",4,"ngIf"],["width","0","height","0","viewBox","0 0 91 91","fill","none","xmlns","http://www.w3.org/2000/svg","style","position: absolute; top:0; left: 0",4,"ngIf"],[1,"layout-ctnr"],[1,"content-ctnr"],[3,"ngTemplateOutlet"],["id","background-container",3,"ngStyle",4,"ngIf"],["role","menubar","aria-label","A menu with shortcuts to customizable options",3,"move-down","box-shadow","updateFocus",4,"ngIf"],["tabindex","-1","role","main","clKeyboardNav","",1,"custom-scroll",3,"ngClass","clGrid"],["class","feedback-button","aria-label","Submit Feedback",3,"click",4,"ngIf"],["role","complementary"],["id","background-container",3,"ngStyle"],["role","menubar","aria-label","A menu with shortcuts to customizable options",3,"updateFocus"],["aria-label","Submit Feedback",1,"feedback-button",3,"click"],[1,"far","fa-comment-lines"],[1,"modal-title"],[3,"clTooltip"],[1,"fas","fa-question-circle"],[1,"please"],[1,"modal-content"],[3,"value","label","showPasswordEye","valueChange"],[1,"button","button-default","cancel",3,"click"],[1,"button","button-success",3,"disabled","click"],["class","cl-tooltip",4,"transloco"],[1,"cl-tooltip"],["width","0","height","0","viewBox","0 0 100 100","preserveAspectRatio","none",2,"position","absolute","top","0","left","0"],["id","squareCircle","clipPathUnits","objectBoundingBox","transform","scale(0.01 0.01)"],["d","M49.9997 0.5C49.9999 0.5 50 0.5 50 0C50 0.5 50 0.5 50.0002 0.5L50.0012 0.5L50.0053 0.500004L50.0224 0.500036L50.0911 0.50029C50.1521 0.500581 50.243 0.501166 50.3623 0.502338C50.6008 0.504684 50.9526 0.509382 51.4039 0.518793C52.3067 0.537614 53.6076 0.575279 55.1977 0.650649C58.3786 0.801426 62.7132 1.10292 67.3311 1.70547C71.9514 2.30834 76.8418 3.21088 81.1393 4.55972C85.4506 5.91286 89.101 7.69592 91.3037 10.0213C93.2659 12.0928 94.7854 15.5953 95.9461 19.7637C97.102 23.9151 97.8837 28.6568 98.4114 33.1431C98.9388 37.6271 99.2111 41.8434 99.3514 44.9395C99.4216 46.4872 99.4587 47.7541 99.4783 48.6336C99.4881 49.0733 99.4936 49.4161 99.4965 49.6486C99.4971 49.6896 99.4975 49.7272 99.4979 49.7612C99.4986 49.8238 99.4991 49.8746 99.4994 49.9131L99.4999 49.9802L99.5 49.9969L99.5 49.9981V49.9991V50.0009V50.0019L99.5 50.0032L99.4999 50.0198L99.4994 50.0869C99.4989 50.1464 99.498 50.2351 99.4965 50.3514C99.4936 50.5839 99.4881 50.9267 99.4783 51.3664C99.4587 52.2459 99.4216 53.5128 99.3514 55.0605C99.2111 58.1566 98.9388 62.3729 98.4114 66.8569C97.8837 71.3432 97.102 76.0849 95.9461 80.2363C94.7854 84.4047 93.2659 87.9072 91.3037 89.9787C89.101 92.3041 85.4506 94.0871 81.1393 95.4403C76.8418 96.7891 71.9514 97.6917 67.3311 98.2945C62.7132 98.8971 58.3786 99.1986 55.1977 99.3493C53.6076 99.4247 52.3067 99.4624 51.4039 99.4812C50.9526 99.4906 50.6008 99.4953 50.3623 99.4977C50.243 99.4988 50.152 99.4994 50.0911 99.4997L50.0224 99.5L50.0053 99.5L50.0012 99.5H50.0002C50 99.5 50 99.5 50 100C50 99.5 49.9999 99.5 49.9997 99.5H49.9988L49.9946 99.5L49.9776 99.5L49.9089 99.4997C49.8479 99.4994 49.7569 99.4988 49.6377 99.4977C49.3991 99.4953 49.0474 99.4906 48.596 99.4812C47.6933 99.4624 46.3924 99.4247 44.8023 99.3493C41.6213 99.1986 37.2868 98.8971 32.6689 98.2945C28.0486 97.6917 23.1582 96.7891 18.8607 95.4403C14.5494 94.0871 10.899 92.3041 8.69633 89.9787C6.7341 87.9072 5.2146 84.4047 4.05392 80.2363C2.89797 76.0849 2.11626 71.3432 1.58858 66.8569C1.06116 62.3729 0.788906 58.1566 0.64857 55.0605C0.578418 53.5128 0.541267 52.2459 0.521657 51.3664C0.511852 50.9267 0.506434 50.5839 0.503468 50.3514C0.501986 50.2351 0.501116 50.1464 0.500618 50.0869L0.500119 50.0198L0.500021 50.0032L0.500001 50.0009V49.9991L0.500021 49.9969L0.500119 49.9802L0.500618 49.9131C0.501116 49.8536 0.501986 49.7649 0.503468 49.6486C0.506434 49.4161 0.511852 49.0733 0.521657 48.6336C0.541267 47.7541 0.578418 46.4872 0.64857 44.9395C0.788906 41.8434 1.06116 37.6271 1.58858 33.1431C2.11626 28.6568 2.89797 23.9151 4.05392 19.7637C5.2146 15.5953 6.7341 12.0928 8.69633 10.0213C10.899 7.69592 14.5494 5.91286 18.8607 4.55972C23.1582 3.21088 28.0486 2.30834 32.6689 1.70547C37.2868 1.10292 41.6213 0.801426 44.8023 0.650649C46.3924 0.575279 47.6933 0.537614 48.596 0.518793C49.0474 0.509382 49.3991 0.504684 49.6377 0.502338C49.7569 0.501166 49.8479 0.500581 49.9089 0.50029L49.9776 0.500036L49.9946 0.500004L49.9988 0.5L49.9997 0.5Z"],["width","0","height","0","viewBox","0 0 91 91","fill","none","xmlns","http://www.w3.org/2000/svg",2,"position","absolute","top","0","left","0"],["id","folderPath","clipPathUnits","objectBoundingBox","transform","scale(0.01 0.01)"],["d","M1.00037 5.99991C1.00243 37.6324 0.996094 86 0.996094 86C0.996276 88.9992 3.16836 90.9991 6.41973 91H6.42157L85.5746 90.9962C88.8272 90.996 90.9959 88.9928 90.9961 85.9932V85.9925L90.9961 12.9962C90.9959 9.99643 88.823 7.99633 85.5706 7.99617L53.046 7.99617L44.9139 0.996167C44.9139 0.996167 9.67465 0.996003 6.4218 0.996167C3.16894 0.996331 1.00018 2.99991 1.00037 5.99991Z"]],template:function(t,e){if(1&t&&(c.Nb(0,"app-app-loader",0),c.Sb(1,"cl-accessibility-menu",1),c.Zb("visibleChange",(function(t){return e.showAccessibilityBar=t})),c.Rb(),c.Sb(2,"div",2),c.Cc(3,Kg,5,3,"ng-container",3),c.Cc(4,ef,6,13,"ng-template",null,4,c.Dc),c.Rb(),c.Cc(6,nf,1,0,"app-library",5),c.Nb(7,"app-app-report"),c.Nb(8,"app-my-profile"),c.Nb(9,"app-app-two-factor-modal"),c.Nb(10,"app-context-menu"),c.Nb(11,"app-delete-app-modal"),c.Nb(12,"app-edit-custom-app"),c.Nb(13,"app-create-folder"),c.Nb(14,"app-session-expired"),c.Nb(15,"app-unsupported-browser"),c.Nb(16,"app-add-tag"),c.Nb(17,"app-update-required"),c.Nb(18,"app-force-password-recovery"),c.Nb(19,"app-notes"),c.Nb(20,"app-app-info"),c.Nb(21,"cl-feedback",6),c.Nb(22,"cl-whats-new"),c.Nb(23,"app-initial-run-wizard"),c.Nb(24,"app-weak-mfa"),c.Nb(25,"app-recovery-questions-modal"),c.Sb(26,"cl-modal",7),c.Zb("visibleChange",(function(t){return e.resetADVisible=t})),c.Cc(27,of,15,12,"ng-container",8),c.Rb(),c.Cc(28,af,1,0,"ng-template",null,9,c.Dc),c.Cc(30,sf,3,0,"svg",10),c.Cc(31,cf,3,0,"svg",11)),2&t){var n=c.sc(5);c.ic("fadeOut",e.isIdle),c.Ab(1),c.ic("visible",e.showAccessibilityBar)("jumpLocations",e.accessibilityJumps)("accessibilityActions",e.accessibilityActions),c.Ab(1),c.ic("ngClass",c.kc(12,lf)),c.Ab(1),c.ic("ngIf",(null==e.settings?null:e.settings.customUISettings.theme)===e.Themes.Professional)("ngIfElse",n),c.Ab(3),c.ic("ngIf",e.appLibraryStatus&&e.appLibraryStatus.IsResourceLibraryEnabled),c.Ab(15),c.ic("userInfo",e.feedbackUser),c.Ab(5),c.ic("visible",e.resetADVisible),c.Ab(4),c.ic("ngIf",e.notCompat),c.Ab(1),c.ic("ngIf",e.notCompat)}},directives:[Se.a,vt.a,i.i,i.k,_e,rs,Es,rc,cc,Cc,Oc,Tc,Fc,Bc,$c,qc,bl,yl,vt.p,vt.R,yp,Sp,Ap,vt.A,ct.c,hu,i.o,jd,ve,vt.y,lb,i.l,su,Yg,vt.P,vt.w],pipes:[ct.e],styles:[".main-content[_ngcontent-%COMP%]{overflow:hidden}.content-ctnr[_ngcontent-%COMP%], .layout-ctnr[_ngcontent-%COMP%], .main-content[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;position:relative}.layout-ctnr[_ngcontent-%COMP%], .main-content[_ngcontent-%COMP%]{width:100%;height:100%}.content-ctnr[_ngcontent-%COMP%], .main-content[_ngcontent-%COMP%]{-ms-flex-flow:column nowrap;flex-flow:column nowrap;transition:height .2s ease-in-out,transform .2s ease-in-out}.main-content.show-accessibility[_ngcontent-%COMP%]{height:calc(100% - 50px)}.content-ctnr[_ngcontent-%COMP%]{-ms-flex:1 1 auto;flex:1 1 auto;max-width:calc(100% - 250px)}.content-ctnr.collapsed[_ngcontent-%COMP%]{max-width:calc(100% - 100px)}.accessibility-alert[_ngcontent-%COMP%]{position:absolute;bottom:-100px;left:-100px;opacity:0;pointer-events:none}cl-modal.small[_ngcontent-%COMP%]   .modal-title[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{display:inline}cl-modal.small[_ngcontent-%COMP%]   .modal-title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline;margin-left:5px}cl-modal.small[_ngcontent-%COMP%]   .please[_ngcontent-%COMP%]{margin-top:10px;margin-bottom:20px}cl-modal.small[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{width:100%}cl-modal.small[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:inline-block;margin-top:20px}cl-modal.small[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .cancel[_ngcontent-%COMP%]{margin-right:50px}cl-modal.small[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   cl-input[_ngcontent-%COMP%]{max-width:500px}"]}),t}(),children:[{path:"home",component:ve},{path:"",redirectTo:"home",pathMatch:"full"}]},{path:"**",redirectTo:"oauth"}],uf=function(){function t(){}return t.\u0275mod=c.Kb({type:t}),t.\u0275inj=c.Jb({factory:function(e){return new(e||t)},imports:[[r.AppLibraryModule,i.b,a.MyProfileModule,o.e.forChild(pf),s.a,ct.d],r.AppLibraryModule,a.MyProfileModule]}),t}()},ETIr:function(t,e,n){var i,o;t.exports=(i=n("Ib8C"),o=i.lib.WordArray,i.enc.Base64={stringify:function(t){var e=t.words,n=t.sigBytes,i=this._map;t.clamp();for(var o=[],r=0;r<n;r+=3)for(var a=(e[r>>>2]>>>24-r%4*8&255)<<16|(e[r+1>>>2]>>>24-(r+1)%4*8&255)<<8|e[r+2>>>2]>>>24-(r+2)%4*8&255,s=0;s<4&&r+.75*s<n;s++)o.push(i.charAt(a>>>6*(3-s)&63));var c=i.charAt(64);if(c)for(;o.length%4;)o.push(c);return o.join("")},parse:function(t){var e=t.length,n=this._map,i=this._reverseMap;if(!i){i=this._reverseMap=[];for(var r=0;r<n.length;r++)i[n.charCodeAt(r)]=r}var a=n.charAt(64);if(a){var s=t.indexOf(a);-1!==s&&(e=s)}return function(t,e,n){for(var i=[],r=0,a=0;a<e;a++)if(a%4){var s=n[t.charCodeAt(a-1)]<<a%4*2,c=n[t.charCodeAt(a)]>>>6-a%4*2;i[r>>>2]|=(s|c)<<24-r%4*8,r++}return o.create(i,r)}(t,e,i)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},i.enc.Base64)},EwQA:function(t,e,n){var i=n("zZ0H");t.exports=function(t){return"function"==typeof t?t:i}},"F+F2":function(t,e,n){var i;t.exports=(i=n("Ib8C"),function(){if("function"==typeof ArrayBuffer){var t=i.lib.WordArray,e=t.init;(t.init=function(t){if(t instanceof ArrayBuffer&&(t=new Uint8Array(t)),(t instanceof Int8Array||"undefined"!=typeof Uint8ClampedArray&&t instanceof Uint8ClampedArray||t instanceof Int16Array||t instanceof Uint16Array||t instanceof Int32Array||t instanceof Uint32Array||t instanceof Float32Array||t instanceof Float64Array)&&(t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength)),t instanceof Uint8Array){for(var n=t.byteLength,i=[],o=0;o<n;o++)i[o>>>2]|=t[o]<<24-o%4*8;e.call(this,i,n)}else e.apply(this,arguments)}).prototype=t}}(),i.lib.WordArray)},GRuw:function(t,e,n){var i,o,r,a,s,c;t.exports=(c=n("Ib8C"),n("lPiR"),o=(i=c).lib.WordArray,s=(r=i.algo).SHA224=(a=r.SHA256).extend({_doReset:function(){this._hash=new o.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var t=a._doFinalize.call(this);return t.sigBytes-=4,t}}),i.SHA224=a._createHelper(s),i.HmacSHA224=a._createHmacHelper(s),c.SHA224)},Ib8C:function(t,e,n){var i;t.exports=i=i||function(t,e){var n=Object.create||function(){function t(){}return function(e){var n;return t.prototype=e,n=new t,t.prototype=null,n}}(),i={},o=i.lib={},r=o.Base={extend:function(t){var e=n(this);return t&&e.mixIn(t),e.hasOwnProperty("init")&&this.init!==e.init||(e.init=function(){e.$super.init.apply(this,arguments)}),e.init.prototype=e,e.$super=this,e},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}},a=o.WordArray=r.extend({init:function(t,e){t=this.words=t||[],this.sigBytes=null!=e?e:4*t.length},toString:function(t){return(t||c).stringify(this)},concat:function(t){var e=this.words,n=t.words,i=this.sigBytes,o=t.sigBytes;if(this.clamp(),i%4)for(var r=0;r<o;r++)e[i+r>>>2]|=(n[r>>>2]>>>24-r%4*8&255)<<24-(i+r)%4*8;else for(r=0;r<o;r+=4)e[i+r>>>2]=n[r>>>2];return this.sigBytes+=o,this},clamp:function(){var e=this.words,n=this.sigBytes;e[n>>>2]&=4294967295<<32-n%4*8,e.length=t.ceil(n/4)},clone:function(){var t=r.clone.call(this);return t.words=this.words.slice(0),t},random:function(e){for(var n,i=[],o=function(e){e=e;var n=987654321,i=4294967295;return function(){var o=((n=36969*(65535&n)+(n>>16)&i)<<16)+(e=18e3*(65535&e)+(e>>16)&i)&i;return o/=4294967296,(o+=.5)*(t.random()>.5?1:-1)}},r=0;r<e;r+=4){var s=o(4294967296*(n||t.random()));n=987654071*s(),i.push(4294967296*s()|0)}return new a.init(i,e)}}),s=i.enc={},c=s.Hex={stringify:function(t){for(var e=t.words,n=t.sigBytes,i=[],o=0;o<n;o++){var r=e[o>>>2]>>>24-o%4*8&255;i.push((r>>>4).toString(16)),i.push((15&r).toString(16))}return i.join("")},parse:function(t){for(var e=t.length,n=[],i=0;i<e;i+=2)n[i>>>3]|=parseInt(t.substr(i,2),16)<<24-i%8*4;return new a.init(n,e/2)}},l=s.Latin1={stringify:function(t){for(var e=t.words,n=t.sigBytes,i=[],o=0;o<n;o++)i.push(String.fromCharCode(e[o>>>2]>>>24-o%4*8&255));return i.join("")},parse:function(t){for(var e=t.length,n=[],i=0;i<e;i++)n[i>>>2]|=(255&t.charCodeAt(i))<<24-i%4*8;return new a.init(n,e)}},p=s.Utf8={stringify:function(t){try{return decodeURIComponent(escape(l.stringify(t)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(t){return l.parse(unescape(encodeURIComponent(t)))}},u=o.BufferedBlockAlgorithm=r.extend({reset:function(){this._data=new a.init,this._nDataBytes=0},_append:function(t){"string"==typeof t&&(t=p.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(e){var n=this._data,i=n.words,o=n.sigBytes,r=this.blockSize,s=o/(4*r),c=(s=e?t.ceil(s):t.max((0|s)-this._minBufferSize,0))*r,l=t.min(4*c,o);if(c){for(var p=0;p<c;p+=r)this._doProcessBlock(i,p);var u=i.splice(0,c);n.sigBytes-=l}return new a.init(u,l)},clone:function(){var t=r.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0}),d=(o.Hasher=u.extend({cfg:r.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){u.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){return t&&this._append(t),this._doFinalize()},blockSize:16,_createHelper:function(t){return function(e,n){return new t.init(n).finalize(e)}},_createHmacHelper:function(t){return function(e,n){return new d.HMAC.init(t,n).finalize(e)}}}),i.algo={});return i}(Math)},K3mO:function(t,e,n){var i,o,r,a,s,c,l;t.exports=(l=n("Ib8C"),n("3y9D"),n("WYAk"),a=(o=(i=l).lib).WordArray,c=(s=i.algo).EvpKDF=(r=o.Base).extend({cfg:r.extend({keySize:4,hasher:s.MD5,iterations:1}),init:function(t){this.cfg=this.cfg.extend(t)},compute:function(t,e){for(var n=this.cfg,i=n.hasher.create(),o=a.create(),r=o.words,s=n.keySize,c=n.iterations;r.length<s;){l&&i.update(l);var l=i.update(t).finalize(e);i.reset();for(var p=1;p<c;p++)l=i.finalize(l),i.reset();o.concat(l)}return o.sigBytes=4*s,o}}),i.EvpKDF=function(t,e,n){return c.create(n).compute(t,e)},l.EvpKDF)},KKcz:function(t,e,n){"use strict";var i=n("u7Jb");Object.defineProperty(e,"__esModule",{value:!0}),e.sign=e.register=e.ensureSupport=e.isSupported=e.ErrorNames=e.ErrorCodes=void 0;var o=n("zLrd"),r=n("oNjS");Object.defineProperty(e,"ErrorCodes",{enumerable:!0,get:function(){return r.ErrorCodes}}),Object.defineProperty(e,"ErrorNames",{enumerable:!0,get:function(){return r.ErrorNames}});var a="undefined"!=typeof navigator&&!!navigator.userAgent,s=a&&navigator.userAgent.match(/Safari\//)&&!navigator.userAgent.match(/Chrome\//),c=a&&navigator.userAgent.match(/Safari\/(1[3456789])/)&&!navigator.userAgent.match(/Chrome\//),l=a&&/(Edge\/)|(edg\/)/i.test(navigator.userAgent),p=a&&/(MSIE 9|MSIE 10|rv:11.0)/i.test(navigator.userAgent),u=null;function d(){if(u)return u;var t=new Promise((function(t,e){function n(){t({u2f:null})}return a?s&&!c?n():void 0!==window.u2f&&"function"==typeof window.u2f.sign?t({u2f:window.u2f}):l||p||"http:"===location.protocol||"undefined"==typeof MessageChannel?n():void o.chromeApi.isSupported((function(e){e?t({u2f:o.chromeApi}):n()})):n()})).then((function(e){return u=e.u2f?t:null,e}));return t}function b(t){if(!t.u2f){if("http:"===location.protocol)throw new Error("U2F isn't supported over http, only https");throw new Error("U2F not supported")}}function g(t){return null!=t&&Array.isArray(t)?t:null==t?[]:Array.isArray(t)?i(t):[t]}e.isSupported=function(){return d().then((function(t){return!!t.u2f}))},e.ensureSupport=function(){return d().then(b)},e.register=function(t,e,n){var i=g(t);"number"==typeof e&&void 0===n&&(n=e,e=[]);var o=g(e);return d().then((function(t){b(t);var e=t.u2f;return new Promise((function(t,a){e.register(i[0].appId,i,o,(function(e){e.errorCode?a(r.makeError("Registration failed",e)):(delete e.errorCode,t(e))}),n)}))}))},e.sign=function(t,e){var n=g(t);return d().then((function(t){b(t);var o=t.u2f;return new Promise((function(t,a){var s,c=n[0].appId,l=n[0].challenge,p=(s=[]).concat.apply(s,i(n.map((function(t){var e=t.version,n=t.appId;return g(t.keyHandle).map((function(t){return{version:e,keyHandle:t,appId:n}}))}))));o.sign(c,l,p,(function(e){e.errorCode?a(r.makeError("Sign failed",e)):(delete e.errorCode,t(e))}),e)}))}))}},KmYQ:function(t,e,n){var i;t.exports=(i=n("Ib8C"),n("OLod"),i.pad.ZeroPadding={pad:function(t,e){var n=4*e;t.clamp(),t.sigBytes+=n-(t.sigBytes%n||n)},unpad:function(t){for(var e=t.words,n=t.sigBytes-1;!(e[n>>>2]>>>24-n%4*8&255);)n--;t.sigBytes=n+1}},i.pad.ZeroPadding)},LWLZ:function(t,e){t.exports=function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}},MlIO:function(t,e,n){var i,o,r,a,s;t.exports=(i=n("Ib8C"),r=(o=i.lib).Base,a=o.WordArray,(s=i.x64={}).Word=r.extend({init:function(t,e){this.high=t,this.low=e}}),s.WordArray=r.extend({init:function(t,e){t=this.words=t||[],this.sigBytes=null!=e?e:8*t.length},toX32:function(){for(var t=this.words,e=t.length,n=[],i=0;i<e;i++){var o=t[i];n.push(o.high),n.push(o.low)}return a.create(n,this.sigBytes)},clone:function(){for(var t=r.clone.call(this),e=t.words=this.words.slice(0),n=e.length,i=0;i<n;i++)e[i]=e[i].clone();return t}}),i)},NFKh:function(t,e,n){var i;t.exports=(i=n("Ib8C"),n("MlIO"),n("F+F2"),n("qM6L"),n("ETIr"),n("cv67"),n("3y9D"),n("lPiR"),n("GRuw"),n("1uat"),n("uGsb"),n("5hvy"),n("ELcG"),n("WYAk"),n("e7zE"),n("K3mO"),n("OLod"),n("ALsQ"),n("9OqN"),n("qu8F"),n("S6kV"),n("gb/T"),n("qBft"),n("oRuE"),n("jO9C"),n("KmYQ"),n("uGxW"),n("bQjk"),n("wZgz"),n("pA7S"),n("w7YG"),n("E4JC"),n("PVpz"),i)},O7iK:function(t,e){t.exports=function(t){for(var e=-1,n=null==t?0:t.length,i={};++e<n;){var o=t[e];i[o[0]]=o[1]}return i}},OLod:function(t,e,n){var i,o,r,a,s,c,l,p,u,d,b,g,f,h,m,v,y,C;t.exports=(i=n("Ib8C"),n("K3mO"),void(i.lib.Cipher||(o=i,r=o.lib,a=r.Base,s=r.WordArray,c=r.BufferedBlockAlgorithm,l=o.enc.Base64,p=o.algo.EvpKDF,u=r.Cipher=c.extend({cfg:a.extend(),createEncryptor:function(t,e){return this.create(this._ENC_XFORM_MODE,t,e)},createDecryptor:function(t,e){return this.create(this._DEC_XFORM_MODE,t,e)},init:function(t,e,n){this.cfg=this.cfg.extend(n),this._xformMode=t,this._key=e,this.reset()},reset:function(){c.reset.call(this),this._doReset()},process:function(t){return this._append(t),this._process()},finalize:function(t){return t&&this._append(t),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function t(t){return"string"==typeof t?C:v}return function(e){return{encrypt:function(n,i,o){return t(i).encrypt(e,n,i,o)},decrypt:function(n,i,o){return t(i).decrypt(e,n,i,o)}}}}()}),r.StreamCipher=u.extend({_doFinalize:function(){return this._process(!0)},blockSize:1}),d=o.mode={},b=r.BlockCipherMode=a.extend({createEncryptor:function(t,e){return this.Encryptor.create(t,e)},createDecryptor:function(t,e){return this.Decryptor.create(t,e)},init:function(t,e){this._cipher=t,this._iv=e}}),g=d.CBC=function(){var t=b.extend();function e(t,e,n){var i=this._iv;if(i){var o=i;this._iv=void 0}else o=this._prevBlock;for(var r=0;r<n;r++)t[e+r]^=o[r]}return t.Encryptor=t.extend({processBlock:function(t,n){var i=this._cipher,o=i.blockSize;e.call(this,t,n,o),i.encryptBlock(t,n),this._prevBlock=t.slice(n,n+o)}}),t.Decryptor=t.extend({processBlock:function(t,n){var i=this._cipher,o=i.blockSize,r=t.slice(n,n+o);i.decryptBlock(t,n),e.call(this,t,n,o),this._prevBlock=r}}),t}(),f=(o.pad={}).Pkcs7={pad:function(t,e){for(var n=4*e,i=n-t.sigBytes%n,o=i<<24|i<<16|i<<8|i,r=[],a=0;a<i;a+=4)r.push(o);var c=s.create(r,i);t.concat(c)},unpad:function(t){t.sigBytes-=255&t.words[t.sigBytes-1>>>2]}},r.BlockCipher=u.extend({cfg:u.cfg.extend({mode:g,padding:f}),reset:function(){u.reset.call(this);var t=this.cfg,e=t.iv,n=t.mode;if(this._xformMode==this._ENC_XFORM_MODE)var i=n.createEncryptor;else i=n.createDecryptor,this._minBufferSize=1;this._mode&&this._mode.__creator==i?this._mode.init(this,e&&e.words):(this._mode=i.call(n,this,e&&e.words),this._mode.__creator=i)},_doProcessBlock:function(t,e){this._mode.processBlock(t,e)},_doFinalize:function(){var t=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){t.pad(this._data,this.blockSize);var e=this._process(!0)}else e=this._process(!0),t.unpad(e);return e},blockSize:4}),h=r.CipherParams=a.extend({init:function(t){this.mixIn(t)},toString:function(t){return(t||this.formatter).stringify(this)}}),m=(o.format={}).OpenSSL={stringify:function(t){var e=t.ciphertext,n=t.salt;if(n)var i=s.create([1398893684,1701076831]).concat(n).concat(e);else i=e;return i.toString(l)},parse:function(t){var e=l.parse(t),n=e.words;if(1398893684==n[0]&&1701076831==n[1]){var i=s.create(n.slice(2,4));n.splice(0,4),e.sigBytes-=16}return h.create({ciphertext:e,salt:i})}},v=r.SerializableCipher=a.extend({cfg:a.extend({format:m}),encrypt:function(t,e,n,i){i=this.cfg.extend(i);var o=t.createEncryptor(n,i),r=o.finalize(e),a=o.cfg;return h.create({ciphertext:r,key:n,iv:a.iv,algorithm:t,mode:a.mode,padding:a.padding,blockSize:t.blockSize,formatter:i.format})},decrypt:function(t,e,n,i){return i=this.cfg.extend(i),e=this._parse(e,i.format),t.createDecryptor(n,i).finalize(e.ciphertext)},_parse:function(t,e){return"string"==typeof t?e.parse(t,this):t}}),y=(o.kdf={}).OpenSSL={execute:function(t,e,n,i){i||(i=s.random(8));var o=p.create({keySize:e+n}).compute(t,i),r=s.create(o.words.slice(e),4*n);return o.sigBytes=4*e,h.create({key:o,iv:r,salt:i})}},C=r.PasswordBasedCipher=v.extend({cfg:v.cfg.extend({kdf:y}),encrypt:function(t,e,n,i){var o=(i=this.cfg.extend(i)).kdf.execute(n,t.keySize,t.ivSize);i.iv=o.iv;var r=v.encrypt.call(this,t,e,o.key,i);return r.mixIn(o),r},decrypt:function(t,e,n,i){i=this.cfg.extend(i),e=this._parse(e,i.format);var o=i.kdf.execute(n,t.keySize,t.ivSize,e.salt);return i.iv=o.iv,v.decrypt.call(this,t,e,o.key,i)}}))))},PVpz:function(t,e,n){var i;t.exports=(i=n("Ib8C"),n("ETIr"),n("cv67"),n("K3mO"),n("OLod"),function(){var t=i,e=t.lib.StreamCipher,n=[],o=[],r=[],a=t.algo.RabbitLegacy=e.extend({_doReset:function(){var t=this._key.words,e=this.cfg.iv,n=this._X=[t[0],t[3]<<16|t[2]>>>16,t[1],t[0]<<16|t[3]>>>16,t[2],t[1]<<16|t[0]>>>16,t[3],t[2]<<16|t[1]>>>16],i=this._C=[t[2]<<16|t[2]>>>16,4294901760&t[0]|65535&t[1],t[3]<<16|t[3]>>>16,4294901760&t[1]|65535&t[2],t[0]<<16|t[0]>>>16,4294901760&t[2]|65535&t[3],t[1]<<16|t[1]>>>16,4294901760&t[3]|65535&t[0]];this._b=0;for(var o=0;o<4;o++)s.call(this);for(o=0;o<8;o++)i[o]^=n[o+4&7];if(e){var r=e.words,a=r[0],c=r[1],l=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),p=16711935&(c<<8|c>>>24)|4278255360&(c<<24|c>>>8),u=l>>>16|4294901760&p,d=p<<16|65535&l;for(i[0]^=l,i[1]^=u,i[2]^=p,i[3]^=d,i[4]^=l,i[5]^=u,i[6]^=p,i[7]^=d,o=0;o<4;o++)s.call(this)}},_doProcessBlock:function(t,e){var i=this._X;s.call(this),n[0]=i[0]^i[5]>>>16^i[3]<<16,n[1]=i[2]^i[7]>>>16^i[5]<<16,n[2]=i[4]^i[1]>>>16^i[7]<<16,n[3]=i[6]^i[3]>>>16^i[1]<<16;for(var o=0;o<4;o++)n[o]=16711935&(n[o]<<8|n[o]>>>24)|4278255360&(n[o]<<24|n[o]>>>8),t[e+o]^=n[o]},blockSize:4,ivSize:2});function s(){for(var t=this._X,e=this._C,n=0;n<8;n++)o[n]=e[n];for(e[0]=e[0]+1295307597+this._b|0,e[1]=e[1]+3545052371+(e[0]>>>0<o[0]>>>0?1:0)|0,e[2]=e[2]+886263092+(e[1]>>>0<o[1]>>>0?1:0)|0,e[3]=e[3]+1295307597+(e[2]>>>0<o[2]>>>0?1:0)|0,e[4]=e[4]+3545052371+(e[3]>>>0<o[3]>>>0?1:0)|0,e[5]=e[5]+886263092+(e[4]>>>0<o[4]>>>0?1:0)|0,e[6]=e[6]+1295307597+(e[5]>>>0<o[5]>>>0?1:0)|0,e[7]=e[7]+3545052371+(e[6]>>>0<o[6]>>>0?1:0)|0,this._b=e[7]>>>0<o[7]>>>0?1:0,n=0;n<8;n++){var i=t[n]+e[n],a=65535&i,s=i>>>16;r[n]=((a*a>>>17)+a*s>>>15)+s*s^((4294901760&i)*i|0)+((65535&i)*i|0)}t[0]=r[0]+(r[7]<<16|r[7]>>>16)+(r[6]<<16|r[6]>>>16)|0,t[1]=r[1]+(r[0]<<8|r[0]>>>24)+r[7]|0,t[2]=r[2]+(r[1]<<16|r[1]>>>16)+(r[0]<<16|r[0]>>>16)|0,t[3]=r[3]+(r[2]<<8|r[2]>>>24)+r[1]|0,t[4]=r[4]+(r[3]<<16|r[3]>>>16)+(r[2]<<16|r[2]>>>16)|0,t[5]=r[5]+(r[4]<<8|r[4]>>>24)+r[3]|0,t[6]=r[6]+(r[5]<<16|r[5]>>>16)+(r[4]<<16|r[4]>>>16)|0,t[7]=r[7]+(r[6]<<8|r[6]>>>24)+r[5]|0}t.RabbitLegacy=e._createHelper(a)}(),i.RabbitLegacy)},Q0GO:function(t,e,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),o=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||i(e,t,n)};Object.defineProperty(e,"__esModule",{value:!0});var r=n("KKcz");o(n("KKcz"),e),e.default=r},QIyF:function(t,e,n){var i=n("Kz5y");t.exports=function(){return i.Date.now()}},S6kV:function(t,e,n){var i,o,r;t.exports=(r=n("Ib8C"),n("OLod"),r.mode.OFB=(o=(i=r.lib.BlockCipherMode.extend()).Encryptor=i.extend({processBlock:function(t,e){var n=this._cipher,i=n.blockSize,o=this._iv,r=this._keystream;o&&(r=this._keystream=o.slice(0),this._iv=void 0),n.encryptBlock(r,0);for(var a=0;a<i;a++)t[e+a]^=r[a]}}),i.Decryptor=o,i),r.mode.OFB)},Te9D:function(t,e,n){var i=n("/kAC"),o=n("dt0z"),r=/[&<>"']/g,a=RegExp(r.source);t.exports=function(t){return(t=o(t))&&a.test(t)?t.replace(r,i):t}},WYAk:function(t,e,n){var i,o;t.exports=(i=n("Ib8C"),o=i.enc.Utf8,void(i.algo.HMAC=i.lib.Base.extend({init:function(t,e){t=this._hasher=new t.init,"string"==typeof e&&(e=o.parse(e));var n=t.blockSize,i=4*n;e.sigBytes>i&&(e=t.finalize(e)),e.clamp();for(var r=this._oKey=e.clone(),a=this._iKey=e.clone(),s=r.words,c=a.words,l=0;l<n;l++)s[l]^=1549556828,c[l]^=909522486;r.sigBytes=a.sigBytes=i,this.reset()},reset:function(){var t=this._hasher;t.reset(),t.update(this._iKey)},update:function(t){return this._hasher.update(t),this},finalize:function(t){var e=this._hasher,n=e.finalize(t);return e.reset(),e.finalize(this._oKey.clone().concat(n))}})))},bNQv:function(t,e,n){var i=n("gFfm"),o=n("SKAX"),r=n("EwQA"),a=n("Z0cm");t.exports=function(t,e){return(a(t)?i:o)(t,r(e))}},bQjk:function(t,e,n){var i,o,r;t.exports=(r=n("Ib8C"),n("OLod"),i=r.lib.CipherParams,o=r.enc.Hex,r.format.Hex={stringify:function(t){return t.ciphertext.toString(o)},parse:function(t){var e=o.parse(t);return i.create({ciphertext:e})}},r.format.Hex)},cv67:function(t,e,n){var i;t.exports=(i=n("Ib8C"),function(t){var e=i,n=e.lib,o=n.WordArray,r=n.Hasher,a=e.algo,s=[];!function(){for(var e=0;e<64;e++)s[e]=4294967296*t.abs(t.sin(e+1))|0}();var c=a.MD5=r.extend({_doReset:function(){this._hash=new o.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(t,e){for(var n=0;n<16;n++){var i=e+n,o=t[i];t[i]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8)}var r=this._hash.words,a=t[e+0],c=t[e+1],b=t[e+2],g=t[e+3],f=t[e+4],h=t[e+5],m=t[e+6],v=t[e+7],y=t[e+8],C=t[e+9],w=t[e+10],x=t[e+11],P=t[e+12],S=t[e+13],O=t[e+14],M=t[e+15],A=r[0],k=r[1],_=r[2],R=r[3];A=l(A,k,_,R,a,7,s[0]),R=l(R,A,k,_,c,12,s[1]),_=l(_,R,A,k,b,17,s[2]),k=l(k,_,R,A,g,22,s[3]),A=l(A,k,_,R,f,7,s[4]),R=l(R,A,k,_,h,12,s[5]),_=l(_,R,A,k,m,17,s[6]),k=l(k,_,R,A,v,22,s[7]),A=l(A,k,_,R,y,7,s[8]),R=l(R,A,k,_,C,12,s[9]),_=l(_,R,A,k,w,17,s[10]),k=l(k,_,R,A,x,22,s[11]),A=l(A,k,_,R,P,7,s[12]),R=l(R,A,k,_,S,12,s[13]),_=l(_,R,A,k,O,17,s[14]),A=p(A,k=l(k,_,R,A,M,22,s[15]),_,R,c,5,s[16]),R=p(R,A,k,_,m,9,s[17]),_=p(_,R,A,k,x,14,s[18]),k=p(k,_,R,A,a,20,s[19]),A=p(A,k,_,R,h,5,s[20]),R=p(R,A,k,_,w,9,s[21]),_=p(_,R,A,k,M,14,s[22]),k=p(k,_,R,A,f,20,s[23]),A=p(A,k,_,R,C,5,s[24]),R=p(R,A,k,_,O,9,s[25]),_=p(_,R,A,k,g,14,s[26]),k=p(k,_,R,A,y,20,s[27]),A=p(A,k,_,R,S,5,s[28]),R=p(R,A,k,_,b,9,s[29]),_=p(_,R,A,k,v,14,s[30]),A=u(A,k=p(k,_,R,A,P,20,s[31]),_,R,h,4,s[32]),R=u(R,A,k,_,y,11,s[33]),_=u(_,R,A,k,x,16,s[34]),k=u(k,_,R,A,O,23,s[35]),A=u(A,k,_,R,c,4,s[36]),R=u(R,A,k,_,f,11,s[37]),_=u(_,R,A,k,v,16,s[38]),k=u(k,_,R,A,w,23,s[39]),A=u(A,k,_,R,S,4,s[40]),R=u(R,A,k,_,a,11,s[41]),_=u(_,R,A,k,g,16,s[42]),k=u(k,_,R,A,m,23,s[43]),A=u(A,k,_,R,C,4,s[44]),R=u(R,A,k,_,P,11,s[45]),_=u(_,R,A,k,M,16,s[46]),A=d(A,k=u(k,_,R,A,b,23,s[47]),_,R,a,6,s[48]),R=d(R,A,k,_,v,10,s[49]),_=d(_,R,A,k,O,15,s[50]),k=d(k,_,R,A,h,21,s[51]),A=d(A,k,_,R,P,6,s[52]),R=d(R,A,k,_,g,10,s[53]),_=d(_,R,A,k,w,15,s[54]),k=d(k,_,R,A,c,21,s[55]),A=d(A,k,_,R,y,6,s[56]),R=d(R,A,k,_,M,10,s[57]),_=d(_,R,A,k,m,15,s[58]),k=d(k,_,R,A,S,21,s[59]),A=d(A,k,_,R,f,6,s[60]),R=d(R,A,k,_,x,10,s[61]),_=d(_,R,A,k,b,15,s[62]),k=d(k,_,R,A,C,21,s[63]),r[0]=r[0]+A|0,r[1]=r[1]+k|0,r[2]=r[2]+_|0,r[3]=r[3]+R|0},_doFinalize:function(){var e=this._data,n=e.words,i=8*this._nDataBytes,o=8*e.sigBytes;n[o>>>5]|=128<<24-o%32;var r=t.floor(i/4294967296),a=i;n[15+(o+64>>>9<<4)]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8),n[14+(o+64>>>9<<4)]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),e.sigBytes=4*(n.length+1),this._process();for(var s=this._hash,c=s.words,l=0;l<4;l++){var p=c[l];c[l]=16711935&(p<<8|p>>>24)|4278255360&(p<<24|p>>>8)}return s},clone:function(){var t=r.clone.call(this);return t._hash=this._hash.clone(),t}});function l(t,e,n,i,o,r,a){var s=t+(e&n|~e&i)+o+a;return(s<<r|s>>>32-r)+e}function p(t,e,n,i,o,r,a){var s=t+(e&i|n&~i)+o+a;return(s<<r|s>>>32-r)+e}function u(t,e,n,i,o,r,a){var s=t+(e^n^i)+o+a;return(s<<r|s>>>32-r)+e}function d(t,e,n,i,o,r,a){var s=t+(n^(e|~i))+o+a;return(s<<r|s>>>32-r)+e}e.MD5=r._createHelper(c),e.HmacMD5=r._createHmacHelper(c)}(Math),i.MD5)},e7zE:function(t,e,n){var i,o,r,a,s,c,l,p;t.exports=(p=n("Ib8C"),n("3y9D"),n("WYAk"),a=(o=(i=p).lib).WordArray,c=(s=i.algo).HMAC,l=s.PBKDF2=(r=o.Base).extend({cfg:r.extend({keySize:4,hasher:s.SHA1,iterations:1}),init:function(t){this.cfg=this.cfg.extend(t)},compute:function(t,e){for(var n=this.cfg,i=c.create(n.hasher,t),o=a.create(),r=a.create([1]),s=o.words,l=r.words,p=n.keySize,u=n.iterations;s.length<p;){var d=i.update(e).finalize(r);i.reset();for(var b=d.words,g=b.length,f=d,h=1;h<u;h++){f=i.finalize(f),i.reset();for(var m=f.words,v=0;v<g;v++)b[v]^=m[v]}o.concat(d),l[0]++}return o.sigBytes=4*p,o}}),i.PBKDF2=function(t,e,n){return l.create(n).compute(t,e)},p.PBKDF2)},"gb/T":function(t,e,n){var i,o;t.exports=(o=n("Ib8C"),n("OLod"),o.mode.ECB=((i=o.lib.BlockCipherMode.extend()).Encryptor=i.extend({processBlock:function(t,e){this._cipher.encryptBlock(t,e)}}),i.Decryptor=i.extend({processBlock:function(t,e){this._cipher.decryptBlock(t,e)}}),i),o.mode.ECB)},jLhO:function(t,e){t.exports=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}},jO9C:function(t,e,n){var i;t.exports=(i=n("Ib8C"),n("OLod"),i.pad.Iso97971={pad:function(t,e){t.concat(i.lib.WordArray.create([2147483648],1)),i.pad.ZeroPadding.pad(t,e)},unpad:function(t){i.pad.ZeroPadding.unpad(t),t.sigBytes--}},i.pad.Iso97971)},kGJw:function(t,e,n){var i=n("dt0z"),o=/[\\^$.*+?()[\]{}|]/g,r=RegExp(o.source);t.exports=function(t){return(t=i(t))&&r.test(t)?t.replace(o,"\\$&"):t}},lPiR:function(t,e,n){var i;t.exports=(i=n("Ib8C"),function(t){var e=i,n=e.lib,o=n.WordArray,r=n.Hasher,a=e.algo,s=[],c=[];!function(){function e(e){for(var n=t.sqrt(e),i=2;i<=n;i++)if(!(e%i))return!1;return!0}function n(t){return 4294967296*(t-(0|t))|0}for(var i=2,o=0;o<64;)e(i)&&(o<8&&(s[o]=n(t.pow(i,.5))),c[o]=n(t.pow(i,1/3)),o++),i++}();var l=[],p=a.SHA256=r.extend({_doReset:function(){this._hash=new o.init(s.slice(0))},_doProcessBlock:function(t,e){for(var n=this._hash.words,i=n[0],o=n[1],r=n[2],a=n[3],s=n[4],p=n[5],u=n[6],d=n[7],b=0;b<64;b++){if(b<16)l[b]=0|t[e+b];else{var g=l[b-15],f=l[b-2];l[b]=((g<<25|g>>>7)^(g<<14|g>>>18)^g>>>3)+l[b-7]+((f<<15|f>>>17)^(f<<13|f>>>19)^f>>>10)+l[b-16]}var h=i&o^i&r^o&r,m=d+((s<<26|s>>>6)^(s<<21|s>>>11)^(s<<7|s>>>25))+(s&p^~s&u)+c[b]+l[b];d=u,u=p,p=s,s=a+m|0,a=r,r=o,o=i,i=m+(((i<<30|i>>>2)^(i<<19|i>>>13)^(i<<10|i>>>22))+h)|0}n[0]=n[0]+i|0,n[1]=n[1]+o|0,n[2]=n[2]+r|0,n[3]=n[3]+a|0,n[4]=n[4]+s|0,n[5]=n[5]+p|0,n[6]=n[6]+u|0,n[7]=n[7]+d|0},_doFinalize:function(){var e=this._data,n=e.words,i=8*this._nDataBytes,o=8*e.sigBytes;return n[o>>>5]|=128<<24-o%32,n[14+(o+64>>>9<<4)]=t.floor(i/4294967296),n[15+(o+64>>>9<<4)]=i,e.sigBytes=4*n.length,this._process(),this._hash},clone:function(){var t=r.clone.call(this);return t._hash=this._hash.clone(),t}});e.SHA256=r._createHelper(p),e.HmacSHA256=r._createHmacHelper(p)}(Math),i.SHA256)},oNjS:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.makeError=e.ErrorNames=e.ErrorCodes=void 0,e.ErrorCodes={OK:0,OTHER_ERROR:1,BAD_REQUEST:2,CONFIGURATION_UNSUPPORTED:3,DEVICE_INELIGIBLE:4,TIMEOUT:5},e.ErrorNames={0:"OK",1:"OTHER_ERROR",2:"BAD_REQUEST",3:"CONFIGURATION_UNSUPPORTED",4:"DEVICE_INELIGIBLE",5:"TIMEOUT"},e.makeError=function(t,n){var i=null!=n?n.errorCode:1,o=e.ErrorNames[""+i],r=new Error(t);return r.metaData={type:o,code:i},r}},oRuE:function(t,e,n){var i;t.exports=(i=n("Ib8C"),n("OLod"),i.pad.Iso10126={pad:function(t,e){var n=4*e,o=n-t.sigBytes%n;t.concat(i.lib.WordArray.random(o-1)).concat(i.lib.WordArray.create([o<<24],1))},unpad:function(t){t.sigBytes-=255&t.words[t.sigBytes-1>>>2]}},i.pad.Iso10126)},oSXT:function(t,e,n){var i=n("LqpT"),o=n("XGnz"),r=n("ut/Y"),a=n("EA7m"),s=n("3L66"),c=n("RBan"),l=a((function(t,e){var n=c(e);return s(n)&&(n=void 0),s(t)?i(t,o(e,1,s,!0),r(n,2)):[]}));t.exports=l},"ox+r":function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},pA7S:function(t,e,n){var i;t.exports=(i=n("Ib8C"),n("ETIr"),n("cv67"),n("K3mO"),n("OLod"),function(){var t=i,e=t.lib,n=e.WordArray,o=e.BlockCipher,r=t.algo,a=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],s=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],c=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],l=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],p=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],u=r.DES=o.extend({_doReset:function(){for(var t=this._key.words,e=[],n=0;n<56;n++){var i=a[n]-1;e[n]=t[i>>>5]>>>31-i%32&1}for(var o=this._subKeys=[],r=0;r<16;r++){var l=o[r]=[],p=c[r];for(n=0;n<24;n++)l[n/6|0]|=e[(s[n]-1+p)%28]<<31-n%6,l[4+(n/6|0)]|=e[28+(s[n+24]-1+p)%28]<<31-n%6;for(l[0]=l[0]<<1|l[0]>>>31,n=1;n<7;n++)l[n]=l[n]>>>4*(n-1)+3;l[7]=l[7]<<5|l[7]>>>27}var u=this._invSubKeys=[];for(n=0;n<16;n++)u[n]=o[15-n]},encryptBlock:function(t,e){this._doCryptBlock(t,e,this._subKeys)},decryptBlock:function(t,e){this._doCryptBlock(t,e,this._invSubKeys)},_doCryptBlock:function(t,e,n){this._lBlock=t[e],this._rBlock=t[e+1],d.call(this,4,252645135),d.call(this,16,65535),b.call(this,2,858993459),b.call(this,8,16711935),d.call(this,1,1431655765);for(var i=0;i<16;i++){for(var o=n[i],r=this._lBlock,a=this._rBlock,s=0,c=0;c<8;c++)s|=l[c][((a^o[c])&p[c])>>>0];this._lBlock=a,this._rBlock=r^s}var u=this._lBlock;this._lBlock=this._rBlock,this._rBlock=u,d.call(this,1,1431655765),b.call(this,8,16711935),b.call(this,2,858993459),d.call(this,16,65535),d.call(this,4,252645135),t[e]=this._lBlock,t[e+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});function d(t,e){var n=(this._lBlock>>>t^this._rBlock)&e;this._rBlock^=n,this._lBlock^=n<<t}function b(t,e){var n=(this._rBlock>>>t^this._lBlock)&e;this._lBlock^=n,this._rBlock^=n<<t}t.DES=o._createHelper(u);var g=r.TripleDES=o.extend({_doReset:function(){var t=this._key.words;this._des1=u.createEncryptor(n.create(t.slice(0,2))),this._des2=u.createEncryptor(n.create(t.slice(2,4))),this._des3=u.createEncryptor(n.create(t.slice(4,6)))},encryptBlock:function(t,e){this._des1.encryptBlock(t,e),this._des2.decryptBlock(t,e),this._des3.encryptBlock(t,e)},decryptBlock:function(t,e){this._des3.decryptBlock(t,e),this._des2.encryptBlock(t,e),this._des1.decryptBlock(t,e)},keySize:6,ivSize:2,blockSize:2});t.TripleDES=o._createHelper(g)}(),i.TripleDES)},qBft:function(t,e,n){var i;t.exports=(i=n("Ib8C"),n("OLod"),i.pad.AnsiX923={pad:function(t,e){var n=t.sigBytes,i=4*e,o=i-n%i,r=n+o-1;t.clamp(),t.words[r>>>2]|=o<<24-r%4*8,t.sigBytes+=o},unpad:function(t){t.sigBytes-=255&t.words[t.sigBytes-1>>>2]}},i.pad.Ansix923)},qM6L:function(t,e,n){var i;t.exports=(i=n("Ib8C"),function(){var t=i.lib.WordArray,e=i.enc;function n(t){return t<<8&4278255360|t>>>8&16711935}e.Utf16=e.Utf16BE={stringify:function(t){for(var e=t.words,n=t.sigBytes,i=[],o=0;o<n;o+=2)i.push(String.fromCharCode(e[o>>>2]>>>16-o%4*8&65535));return i.join("")},parse:function(e){for(var n=e.length,i=[],o=0;o<n;o++)i[o>>>1]|=e.charCodeAt(o)<<16-o%2*16;return t.create(i,2*n)}},e.Utf16LE={stringify:function(t){for(var e=t.words,i=t.sigBytes,o=[],r=0;r<i;r+=2){var a=n(e[r>>>2]>>>16-r%4*8&65535);o.push(String.fromCharCode(a))}return o.join("")},parse:function(e){for(var i=e.length,o=[],r=0;r<i;r++)o[r>>>1]|=n(e.charCodeAt(r)<<16-r%2*16);return t.create(o,2*i)}}}(),i.enc.Utf16)},qPyV:function(t,e,n){var i=n("ut/Y"),o=n("LGYb");t.exports=function(t,e){return t&&t.length?o(t,i(e,2)):[]}},qu8F:function(t,e,n){var i;t.exports=(i=n("Ib8C"),n("OLod"),i.mode.CTRGladman=function(){var t=i.lib.BlockCipherMode.extend();function e(t){if(255==(t>>24&255)){var e=t>>16&255,n=t>>8&255,i=255&t;255===e?(e=0,255===n?(n=0,255===i?i=0:++i):++n):++e,t=0,t+=e<<16,t+=n<<8,t+=i}else t+=1<<24;return t}var n=t.Encryptor=t.extend({processBlock:function(t,n){var i=this._cipher,o=i.blockSize,r=this._iv,a=this._counter;r&&(a=this._counter=r.slice(0),this._iv=void 0),function(t){0===(t[0]=e(t[0]))&&(t[1]=e(t[1]))}(a);var s=a.slice(0);i.encryptBlock(s,0);for(var c=0;c<o;c++)t[n+c]^=s[c]}});return t.Decryptor=n,t}(),i.mode.CTRGladman)},rptP:function(t,e,n){var i=n("jLhO");t.exports=function(t){if(Array.isArray(t))return i(t)}},sEfC:function(t,e,n){var i=n("GoyQ"),o=n("QIyF"),r=n("tLB3"),a=Math.max,s=Math.min;t.exports=function(t,e,n){var c,l,p,u,d,b,g=0,f=!1,h=!1,m=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function v(e){var n=c,i=l;return c=l=void 0,g=e,u=t.apply(i,n)}function y(t){return g=t,d=setTimeout(w,e),f?v(t):u}function C(t){var n=t-b;return void 0===b||n>=e||n<0||h&&t-g>=p}function w(){var t=o();if(C(t))return x(t);d=setTimeout(w,function(t){var n=e-(t-b);return h?s(n,p-(t-g)):n}(t))}function x(t){return d=void 0,m&&c?v(t):(c=l=void 0,u)}function P(){var t=o(),n=C(t);if(c=arguments,l=this,b=t,n){if(void 0===d)return y(b);if(h)return clearTimeout(d),d=setTimeout(w,e),v(b)}return void 0===d&&(d=setTimeout(w,e)),u}return e=r(e)||0,i(n)&&(f=!!n.leading,p=(h="maxWait"in n)?a(r(n.maxWait)||0,e):p,m="trailing"in n?!!n.trailing:m),P.cancel=function(){void 0!==d&&clearTimeout(d),g=0,c=b=l=d=void 0},P.flush=function(){return void 0===d?u:x(o())},P}},"u33/":function(t,e,n){var i=n("jLhO");t.exports=function(t,e){if(t){if("string"==typeof t)return i(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(t,e):void 0}}},u7Jb:function(t,e,n){var i=n("rptP"),o=n("LWLZ"),r=n("u33/"),a=n("ox+r");t.exports=function(t){return i(t)||o(t)||r(t)||a()}},uGsb:function(t,e,n){var i,o,r,a,s,c,l,p;t.exports=(p=n("Ib8C"),n("MlIO"),n("1uat"),r=(o=(i=p).x64).Word,a=o.WordArray,l=(s=i.algo).SHA384=(c=s.SHA512).extend({_doReset:function(){this._hash=new a.init([new r.init(3418070365,3238371032),new r.init(1654270250,914150663),new r.init(2438529370,812702999),new r.init(355462360,4144912697),new r.init(1731405415,4290775857),new r.init(2394180231,1750603025),new r.init(3675008525,1694076839),new r.init(1203062813,3204075428)])},_doFinalize:function(){var t=c._doFinalize.call(this);return t.sigBytes-=16,t}}),i.SHA384=c._createHelper(l),i.HmacSHA384=c._createHmacHelper(l),p.SHA384)},uGxW:function(t,e,n){var i;t.exports=(i=n("Ib8C"),n("OLod"),i.pad.NoPadding={pad:function(){},unpad:function(){}},i.pad.NoPadding)},ur2b:function(t,e,n){var i,o;void 0===(o="function"==typeof(i=function(){var t,e,n,i,o,r,a,s=/^(?:AUTH|ENROLL)+\|[A-Za-z0-9\+\/=]+\|[A-Za-z0-9\+\/=]+$/,c=/^ERR\|[\w\s\.\(\)]+$/,l=/^DUO_OPEN_WINDOW\|/,p=["duo.com","duosecurity.com","duomobile.s3-us-west-1.amazonaws.com"];function u(){t="",e="sig_response",n=void 0,i=void 0,o=void 0,r=void 0,a=void 0}function d(t,e){var n=e||"https://www.duosecurity.com/docs/duoweb#3.-show-the-iframe";throw new Error("Duo Web SDK error: "+t+(n?"\nSee "+n+" for more information":""))}function b(t,e){return"dataset"in t?t.dataset[e]:t.getAttribute("data-"+e.replace(/([a-z])([A-Z])/,"$1-$2").toLowerCase())}function g(t,e,n,i){"addEventListener"in window?t.addEventListener(e,i,!1):t.attachEvent(n,i)}function f(t,e,n,i){"removeEventListener"in window?t.removeEventListener(e,i,!1):t.detachEvent(n,i)}function h(t){g(document,"DOMContentLoaded","onreadystatechange",t)}function m(t){f(document,"DOMContentLoaded","onreadystatechange",t)}function v(t){if(t){0===t.indexOf("ERR|")&&d(t.split("|")[1]),-1!==t.indexOf(":")&&2===t.split(":").length||d("Duo was given a bad token.  This might indicate a configuration problem with one of Duo's client libraries.");var e=t.split(":");return i=e[0],o=e[1],{sigRequest:t,duoSig:e[0],appSig:e[1]}}}function y(t){return Boolean(t.origin==="https://"+n&&"string"==typeof t.data&&(t.data.match(s)||t.data.match(c)||t.data.match(l)))}function C(t){var e,n;return t.iframe&&t.iframeContainer?d("Passing both `iframe` and `iframeContainer` arguments at the same time is not allowed."):t.iframe?(n=e=w(t.iframe))&&!x(n)&&d("`iframe` only accepts an iframe element or the id of an iframe. To use a non-iframe element, use the `iframeContainer` argument."):t.iframeContainer?function(t){t&&x(t)&&d("`iframeContainer` only accepts a non-iframe element or the id of a non-iframe. To use a non-iframe element, use the `iframeContainer` argument on Duo.init().")}(e=w(t.iframeContainer)):e=document.getElementById("duo_iframe"),e}function w(t){return t.tagName?t:"string"==typeof t?document.getElementById(t):null}function x(t){return t&&t.tagName&&"iframe"===t.tagName.toLowerCase()}function P(){return["https://",n,"/frame/web/v1/auth?tx=",encodeURIComponent(i),"&parent=",encodeURIComponent(document.location.href),"&v=2.9"].join("")}function S(t){if(y(t))if(t.data.match(l)){var e=t.data.substring("DUO_OPEN_WINDOW|".length);(function(t){if(!t)return!1;var e=document.createElement("a");if(e.href=t,"duotrustedendpoints:"===e.protocol)return!0;if("https:"!==e.protocol)return!1;for(var n=0;n<p.length;n++)if(e.hostname.endsWith("."+p[n])||e.hostname===p[n])return!0;return!1})(e)&&window.open(e,"_self")}else M(t.data),f(window,"message","onmessage",S)}function O(a,s){if(n||(n=b(a,"host"))||d("No API hostname is given for Duo to use.  Be sure to pass a `host` parameter to Duo.init, or through the `data-host` attribute on the iframe element."),i&&o||(v(b(a,"sigRequest")),i&&o||d("No valid signed request is given.  Be sure to give the `sig_request` parameter to Duo.init, or use the `data-sig-request` attribute on the iframe element.")),""===t&&(t=b(a,"postAction")||t),"sig_response"===e&&(e=b(a,"postArgument")||e),x(a))(r=a).src=P();else{for(;a.firstChild;)a.removeChild(a.firstChild);for(var c in r=document.createElement("iframe"),s.src=P(),s)r.setAttribute(c,s[c]);a.appendChild(r)}g(window,"message","onmessage",S)}function M(n){var i=document.createElement("input");i.type="hidden",i.name=e,i.value=n+":"+o;var s=document.getElementById("duo_form");s||(s=document.createElement("form"),r.parentElement.insertBefore(s,r.nextSibling)),s.method="POST",s.action=t,s.appendChild(i),"function"==typeof a?a.call(null,s):s.submit()}return u(),{init:function i(o){u(),o&&(o.host&&(n=o.host),o.sig_request&&v(o.sig_request),o.post_action&&(t=o.post_action),o.post_argument&&(e=o.post_argument),"function"==typeof o.submit_callback&&(a=o.submit_callback));var r=C(o);r?O(r,o.iframeAttributes||{}):function(t){h((function e(){var n=C(t);n||d('This page does not contain an iframe for Duo to use. Add an element like <iframe id="duo_iframe"></iframe> to this page.'),O(n,t.iframeAttributes||{}),m(e)}))}(o),m(i)},_onReady:h,_parseSigRequest:v,_isDuoMessage:y,_doPostBack:M}})?i.apply(e,[]):i)||(t.exports=o)},w7YG:function(t,e,n){var i;t.exports=(i=n("Ib8C"),n("ETIr"),n("cv67"),n("K3mO"),n("OLod"),function(){var t=i,e=t.lib.StreamCipher,n=t.algo,o=n.RC4=e.extend({_doReset:function(){for(var t=this._key,e=t.words,n=t.sigBytes,i=this._S=[],o=0;o<256;o++)i[o]=o;o=0;for(var r=0;o<256;o++){var a=o%n,s=i[o];i[o]=i[r=(r+i[o]+(e[a>>>2]>>>24-a%4*8&255))%256],i[r]=s}this._i=this._j=0},_doProcessBlock:function(t,e){t[e]^=r.call(this)},keySize:8,ivSize:0});function r(){for(var t=this._S,e=this._i,n=this._j,i=0,o=0;o<4;o++){var r=t[e=(e+1)%256];t[e]=t[n=(n+t[e])%256],t[n]=r,i|=t[(t[e]+t[n])%256]<<24-8*o}return this._i=e,this._j=n,i}t.RC4=e._createHelper(o);var a=n.RC4Drop=o.extend({cfg:o.cfg.extend({drop:192}),_doReset:function(){o._doReset.call(this);for(var t=this.cfg.drop;t>0;t--)r.call(this)}});t.RC4Drop=e._createHelper(a)}(),i.RC4)},wZgz:function(t,e,n){var i;t.exports=(i=n("Ib8C"),n("ETIr"),n("cv67"),n("K3mO"),n("OLod"),function(){var t=i,e=t.lib.BlockCipher,n=t.algo,o=[],r=[],a=[],s=[],c=[],l=[],p=[],u=[],d=[],b=[];!function(){for(var t=[],e=0;e<256;e++)t[e]=e<128?e<<1:e<<1^283;var n=0,i=0;for(e=0;e<256;e++){var g=i^i<<1^i<<2^i<<3^i<<4;o[n]=g=g>>>8^255&g^99,r[g]=n;var f,h=t[n],m=t[h],v=t[m];a[n]=(f=257*t[g]^16843008*g)<<24|f>>>8,s[n]=f<<16|f>>>16,c[n]=f<<8|f>>>24,l[n]=f,p[g]=(f=16843009*v^65537*m^257*h^16843008*n)<<24|f>>>8,u[g]=f<<16|f>>>16,d[g]=f<<8|f>>>24,b[g]=f,n?(n=h^t[t[t[v^h]]],i^=t[t[i]]):n=i=1}}();var g=[0,1,2,4,8,16,32,64,128,27,54],f=n.AES=e.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var t=this._keyPriorReset=this._key,e=t.words,n=t.sigBytes/4,i=4*((this._nRounds=n+6)+1),r=this._keySchedule=[],a=0;a<i;a++)if(a<n)r[a]=e[a];else{var s=r[a-1];a%n?n>6&&a%n==4&&(s=o[s>>>24]<<24|o[s>>>16&255]<<16|o[s>>>8&255]<<8|o[255&s]):(s=o[(s=s<<8|s>>>24)>>>24]<<24|o[s>>>16&255]<<16|o[s>>>8&255]<<8|o[255&s],s^=g[a/n|0]<<24),r[a]=r[a-n]^s}for(var c=this._invKeySchedule=[],l=0;l<i;l++)a=i-l,s=l%4?r[a]:r[a-4],c[l]=l<4||a<=4?s:p[o[s>>>24]]^u[o[s>>>16&255]]^d[o[s>>>8&255]]^b[o[255&s]]}},encryptBlock:function(t,e){this._doCryptBlock(t,e,this._keySchedule,a,s,c,l,o)},decryptBlock:function(t,e){var n=t[e+1];t[e+1]=t[e+3],t[e+3]=n,this._doCryptBlock(t,e,this._invKeySchedule,p,u,d,b,r),n=t[e+1],t[e+1]=t[e+3],t[e+3]=n},_doCryptBlock:function(t,e,n,i,o,r,a,s){for(var c=this._nRounds,l=t[e]^n[0],p=t[e+1]^n[1],u=t[e+2]^n[2],d=t[e+3]^n[3],b=4,g=1;g<c;g++){var f=i[l>>>24]^o[p>>>16&255]^r[u>>>8&255]^a[255&d]^n[b++],h=i[p>>>24]^o[u>>>16&255]^r[d>>>8&255]^a[255&l]^n[b++],m=i[u>>>24]^o[d>>>16&255]^r[l>>>8&255]^a[255&p]^n[b++],v=i[d>>>24]^o[l>>>16&255]^r[p>>>8&255]^a[255&u]^n[b++];l=f,p=h,u=m,d=v}f=(s[l>>>24]<<24|s[p>>>16&255]<<16|s[u>>>8&255]<<8|s[255&d])^n[b++],h=(s[p>>>24]<<24|s[u>>>16&255]<<16|s[d>>>8&255]<<8|s[255&l])^n[b++],m=(s[u>>>24]<<24|s[d>>>16&255]<<16|s[l>>>8&255]<<8|s[255&p])^n[b++],v=(s[d>>>24]<<24|s[l>>>16&255]<<16|s[p>>>8&255]<<8|s[255&u])^n[b++],t[e]=f,t[e+1]=h,t[e+2]=m,t[e+3]=v},keySize:8});t.AES=e._createHelper(f)}(),i.AES)},xweI:function(t,e,n){var i=n("XGnz"),o=n("alwl"),r=n("EA7m"),a=n("mv/X"),s=r((function(t,e){if(null==t)return[];var n=e.length;return n>1&&a(t,e[0],e[1])?e=[]:n>2&&a(e[0],e[1],e[2])&&(e=[e[0]]),o(t,i(e,1),[])}));t.exports=s},zLrd:function(t,e){var n,i=i||{};t.exports.chromeApi=i,i.EXTENSION_ID="kmendfapggjehodndflmmgagdbamhnfd",i.MessageTypes={U2F_REGISTER_REQUEST:"u2f_register_request",U2F_REGISTER_RESPONSE:"u2f_register_response",U2F_SIGN_REQUEST:"u2f_sign_request",U2F_SIGN_RESPONSE:"u2f_sign_response",U2F_GET_API_VERSION_REQUEST:"u2f_get_api_version_request",U2F_GET_API_VERSION_RESPONSE:"u2f_get_api_version_response"},i.ErrorCodes={OK:0,OTHER_ERROR:1,BAD_REQUEST:2,CONFIGURATION_UNSUPPORTED:3,DEVICE_INELIGIBLE:4,TIMEOUT:5},i.getMessagePort=function(t){"undefined"!=typeof chrome&&chrome.runtime?chrome.runtime.sendMessage(i.EXTENSION_ID,{type:i.MessageTypes.U2F_SIGN_REQUEST,signRequests:[]},(function(){chrome.runtime.lastError?i.getIframePort_(t):i.getChromeRuntimePort_(t)})):i.isAndroidChrome_()?i.getAuthenticatorPort_(t):i.isIosChrome_()?i.getIosPort_(t):i.getIframePort_(t)},i.isAndroidChrome_=function(){var t=navigator.userAgent;return-1!=t.indexOf("Chrome")&&-1!=t.indexOf("Android")},i.isIosChrome_=function(){return["iPhone","iPad","iPod"].indexOf(navigator.platform)>-1},i.getChromeRuntimePort_=function(t){var e=chrome.runtime.connect(i.EXTENSION_ID,{includeTlsChannelId:!0});setTimeout((function(){t(new i.WrappedChromeRuntimePort_(e))}),0)},i.getAuthenticatorPort_=function(t){setTimeout((function(){t(new i.WrappedAuthenticatorPort_)}),0)},i.getIosPort_=function(t){setTimeout((function(){t(new i.WrappedIosPort_)}),0)},i.WrappedChromeRuntimePort_=function(t){this.port_=t},i.formatSignRequest_=function(t,e,o,r,a){if(void 0===n||n<1.1){for(var s=[],c=0;c<o.length;c++)s[c]={version:o[c].version,challenge:e,keyHandle:o[c].keyHandle,appId:t};return{type:i.MessageTypes.U2F_SIGN_REQUEST,signRequests:s,timeoutSeconds:r,requestId:a}}return{type:i.MessageTypes.U2F_SIGN_REQUEST,appId:t,challenge:e,registeredKeys:o,timeoutSeconds:r,requestId:a}},i.formatRegisterRequest_=function(t,e,o,r,a){if(void 0===n||n<1.1){for(var s=0;s<o.length;s++)o[s].appId=t;var c=[];for(s=0;s<e.length;s++)c[s]={version:e[s].version,challenge:o[0],keyHandle:e[s].keyHandle,appId:t};return{type:i.MessageTypes.U2F_REGISTER_REQUEST,signRequests:c,registerRequests:o,timeoutSeconds:r,requestId:a}}return{type:i.MessageTypes.U2F_REGISTER_REQUEST,appId:t,registerRequests:o,registeredKeys:e,timeoutSeconds:r,requestId:a}},i.WrappedChromeRuntimePort_.prototype.postMessage=function(t){this.port_.postMessage(t)},i.WrappedChromeRuntimePort_.prototype.addEventListener=function(t,e){var n=t.toLowerCase();"message"==n||"onmessage"==n?this.port_.onMessage.addListener((function(t){e({data:t})})):console.error("WrappedChromeRuntimePort only supports onMessage")},i.WrappedAuthenticatorPort_=function(){this.requestId_=-1,this.requestObject_=null},i.WrappedAuthenticatorPort_.prototype.postMessage=function(t){var e=i.WrappedAuthenticatorPort_.INTENT_URL_BASE_+";S.request="+encodeURIComponent(JSON.stringify(t))+";end";document.location=e},i.WrappedAuthenticatorPort_.prototype.getPortType=function(){return"WrappedAuthenticatorPort_"},i.WrappedAuthenticatorPort_.prototype.addEventListener=function(t,e){"message"==t.toLowerCase()?window.addEventListener("message",this.onRequestUpdate_.bind(this,e),!1):console.error("WrappedAuthenticatorPort only supports message")},i.WrappedAuthenticatorPort_.prototype.onRequestUpdate_=function(t,e){var n=JSON.parse(e.data),i=null;n.hasOwnProperty("data")&&(i=JSON.parse(n.data)),t({data:i})},i.WrappedAuthenticatorPort_.INTENT_URL_BASE_="intent:#Intent;action=com.google.android.apps.authenticator.AUTHENTICATE",i.WrappedIosPort_=function(){},i.WrappedIosPort_.prototype.postMessage=function(t){var e=JSON.stringify(t),n="u2f://auth?"+encodeURI(e);location.replace(n)},i.WrappedIosPort_.prototype.getPortType=function(){return"WrappedIosPort_"},i.WrappedIosPort_.prototype.addEventListener=function(t,e){"message"!==t.toLowerCase()&&console.error("WrappedIosPort only supports message")},i.getIframePort_=function(t){var e="chrome-extension://"+i.EXTENSION_ID,n=document.createElement("iframe");n.src=e+"/u2f-comms.html",n.setAttribute("style","display:none"),document.body.appendChild(n);var o=new MessageChannel;o.port1.addEventListener("message",(function e(n){"ready"==n.data?(o.port1.removeEventListener("message",e),t(o.port1)):console.error('First event on iframe port was not "ready"')})),o.port1.start(),n.addEventListener("load",(function(){n.contentWindow.postMessage("init",e,[o.port2])}))},i.EXTENSION_TIMEOUT_SEC=30,i.port_=null,i.waitingForPort_=[],i.reqCounter_=0,i.callbackMap_={},i.getPortSingleton_=function(t){i.port_?t(i.port_):(0==i.waitingForPort_.length&&i.getMessagePort((function(t){for(i.port_=t,i.port_.addEventListener("message",i.responseHandler_);i.waitingForPort_.length;)i.waitingForPort_.shift()(i.port_)})),i.waitingForPort_.push(t))},i.responseHandler_=function(t){var e=t.data,n=e.requestId;if(n&&i.callbackMap_[n]){var o=i.callbackMap_[n];delete i.callbackMap_[n],o(e.responseData)}else console.error("Unknown or missing requestId in response.")},i.isSupported=function(t){var e=!1;function o(n){e||(e=!0,t(n))}i.getApiVersion((function(t){n=void 0===t.js_api_version?0:t.js_api_version,o(!0)})),setTimeout(o.bind(null,!1),1500)},i.sign=function(t,e,o,r,a){void 0===n?i.getApiVersion((function(s){n=void 0===s.js_api_version?0:s.js_api_version,console.log("Extension JS API Version: ",n),i.sendSignRequest(t,e,o,r,a)})):i.sendSignRequest(t,e,o,r,a)},i.sendSignRequest=function(t,e,n,o,r){i.getPortSingleton_((function(a){var s=++i.reqCounter_;i.callbackMap_[s]=o;var c=i.formatSignRequest_(t,e,n,void 0!==r?r:i.EXTENSION_TIMEOUT_SEC,s);a.postMessage(c)}))},i.register=function(t,e,o,r,a){void 0===n?i.getApiVersion((function(s){n=void 0===s.js_api_version?0:s.js_api_version,console.log("Extension JS API Version: ",n),i.sendRegisterRequest(t,e,o,r,a)})):i.sendRegisterRequest(t,e,o,r,a)},i.sendRegisterRequest=function(t,e,n,o,r){i.getPortSingleton_((function(a){var s=++i.reqCounter_;i.callbackMap_[s]=o;var c=i.formatRegisterRequest_(t,n,e,void 0!==r?r:i.EXTENSION_TIMEOUT_SEC,s);a.postMessage(c)}))},i.getApiVersion=function(t,e){i.getPortSingleton_((function(n){if(n.getPortType){var o;switch(n.getPortType()){case"WrappedIosPort_":case"WrappedAuthenticatorPort_":o=1.1;break;default:o=0}t({js_api_version:o})}else{var r=++i.reqCounter_;i.callbackMap_[r]=t,n.postMessage({type:i.MessageTypes.U2F_GET_API_VERSION_REQUEST,timeoutSeconds:void 0!==e?e:i.EXTENSION_TIMEOUT_SEC,requestId:r})}}))}}}]);