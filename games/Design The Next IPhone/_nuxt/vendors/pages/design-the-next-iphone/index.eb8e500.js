(window.webpackJsonp=window.webpackJsonp||[]).push([[52],{1105:function(e,t,r){"use strict";r.d(t,"a",(function(){return _}));var n=r(120),o=r(121),l=(r(25),r(170),r(244)),c=r(410),f=(r(257),r(258)),h=r(259),d=r(253),v=r(281);function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(d.a)(e);if(t){var o=Object(d.a)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Object(h.a)(this,r)}}var y=function(e){Object(f.a)(r,e);var t=m(r);function r(e,o){var c;return Object(n.a)(this,r),(c=t.call(this)).textureID=void 0!==o?o:"tDiffuse",e instanceof l.T?(c.uniforms=e.uniforms,c.material=e):e&&(c.uniforms=l.bb.clone(e.uniforms),c.material=new l.T({defines:Object.assign({},e.defines),uniforms:c.uniforms,vertexShader:e.vertexShader,fragmentShader:e.fragmentShader})),c.fsQuad=new v.a(c.material),c}return Object(o.a)(r,[{key:"render",value:function(e,t,r){this.uniforms[this.textureID]&&(this.uniforms[this.textureID].value=r.texture),this.fsQuad.material=this.material,this.renderToScreen?(e.setRenderTarget(null),this.fsQuad.render(e)):(e.setRenderTarget(t),this.clear&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),this.fsQuad.render(e))}}]),r}(v.b);function x(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(d.a)(e);if(t){var o=Object(d.a)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Object(h.a)(this,r)}}var T=function(e){Object(f.a)(r,e);var t=x(r);function r(e,o){var l;return Object(n.a)(this,r),(l=t.call(this)).scene=e,l.camera=o,l.clear=!0,l.needsSwap=!1,l.inverse=!1,l}return Object(o.a)(r,[{key:"render",value:function(e,t,r){var n,o,l=e.getContext(),c=e.state;c.buffers.color.setMask(!1),c.buffers.depth.setMask(!1),c.buffers.color.setLocked(!0),c.buffers.depth.setLocked(!0),this.inverse?(n=0,o=1):(n=1,o=0),c.buffers.stencil.setTest(!0),c.buffers.stencil.setOp(l.REPLACE,l.REPLACE,l.REPLACE),c.buffers.stencil.setFunc(l.ALWAYS,n,4294967295),c.buffers.stencil.setClear(o),c.buffers.stencil.setLocked(!0),e.setRenderTarget(r),this.clear&&e.clear(),e.render(this.scene,this.camera),e.setRenderTarget(t),this.clear&&e.clear(),e.render(this.scene,this.camera),c.buffers.color.setLocked(!1),c.buffers.depth.setLocked(!1),c.buffers.stencil.setLocked(!1),c.buffers.stencil.setFunc(l.EQUAL,1,4294967295),c.buffers.stencil.setOp(l.KEEP,l.KEEP,l.KEEP),c.buffers.stencil.setLocked(!0)}}]),r}(v.b),w=function(e){Object(f.a)(r,e);var t=x(r);function r(){var e;return Object(n.a)(this,r),(e=t.call(this)).needsSwap=!1,e}return Object(o.a)(r,[{key:"render",value:function(e){e.state.buffers.stencil.setLocked(!1),e.state.buffers.stencil.setTest(!1)}}]),r}(v.b),_=function(){function e(t,r){if(Object(n.a)(this,e),this.renderer=t,void 0===r){var o=t.getSize(new l.cb);this._pixelRatio=t.getPixelRatio(),this._width=o.width,this._height=o.height,(r=new l.eb(this._width*this._pixelRatio,this._height*this._pixelRatio)).texture.name="EffectComposer.rt1"}else this._pixelRatio=1,this._width=r.width,this._height=r.height;this.renderTarget1=r,this.renderTarget2=r.clone(),this.renderTarget2.texture.name="EffectComposer.rt2",this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2,this.renderToScreen=!0,this.passes=[],void 0===c.a&&console.error("THREE.EffectComposer relies on CopyShader"),void 0===y&&console.error("THREE.EffectComposer relies on ShaderPass"),this.copyPass=new y(c.a),this.clock=new l.i}return Object(o.a)(e,[{key:"swapBuffers",value:function(){var e=this.readBuffer;this.readBuffer=this.writeBuffer,this.writeBuffer=e}},{key:"addPass",value:function(e){this.passes.push(e),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}},{key:"insertPass",value:function(e,t){this.passes.splice(t,0,e),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}},{key:"removePass",value:function(e){var t=this.passes.indexOf(e);-1!==t&&this.passes.splice(t,1)}},{key:"isLastEnabledPass",value:function(e){for(var i=e+1;i<this.passes.length;i++)if(this.passes[i].enabled)return!1;return!0}},{key:"render",value:function(e){void 0===e&&(e=this.clock.getDelta());for(var t=this.renderer.getRenderTarget(),r=!1,i=0,n=this.passes.length;i<n;i++){var o=this.passes[i];if(!1!==o.enabled){if(o.renderToScreen=this.renderToScreen&&this.isLastEnabledPass(i),o.render(this.renderer,this.writeBuffer,this.readBuffer,e,r),o.needsSwap){if(r){var l=this.renderer.getContext(),c=this.renderer.state.buffers.stencil;c.setFunc(l.NOTEQUAL,1,4294967295),this.copyPass.render(this.renderer,this.writeBuffer,this.readBuffer,e),c.setFunc(l.EQUAL,1,4294967295)}this.swapBuffers()}void 0!==T&&(o instanceof T?r=!0:o instanceof w&&(r=!1))}}this.renderer.setRenderTarget(t)}},{key:"reset",value:function(e){if(void 0===e){var t=this.renderer.getSize(new l.cb);this._pixelRatio=this.renderer.getPixelRatio(),this._width=t.width,this._height=t.height,(e=this.renderTarget1.clone()).setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}this.renderTarget1.dispose(),this.renderTarget2.dispose(),this.renderTarget1=e,this.renderTarget2=e.clone(),this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2}},{key:"setSize",value:function(e,t){this._width=e,this._height=t;var r=this._width*this._pixelRatio,n=this._height*this._pixelRatio;this.renderTarget1.setSize(r,n),this.renderTarget2.setSize(r,n);for(var i=0;i<this.passes.length;i++)this.passes[i].setSize(r,n)}},{key:"setPixelRatio",value:function(e){this._pixelRatio=e,this.setSize(this._width,this._height)}}]),e}(),M=(new l.H(-1,1,1,-1,0,1),new l.g);M.setAttribute("position",new l.t([-1,3,0,-1,-1,0,3,-1,0],3)),M.setAttribute("uv",new l.t([0,2,0,0,2,0],2))},236:function(e,t,r){var n=r(2),o=r(237),l=r(90);n({target:"Array",proto:!0},{fill:o}),l("fill")},241:function(e,t,r){"use strict";(function(e){var a,r={Linear:{None:function(e){return e}},Quadratic:{In:function(e){return e*e},Out:function(e){return e*(2-e)},InOut:function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)}},Cubic:{In:function(e){return e*e*e},Out:function(e){return--e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)}},Quartic:{In:function(e){return e*e*e*e},Out:function(e){return 1- --e*e*e*e},InOut:function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)}},Quintic:{In:function(e){return e*e*e*e*e},Out:function(e){return--e*e*e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)}},Sinusoidal:{In:function(e){return 1-Math.cos(e*Math.PI/2)},Out:function(e){return Math.sin(e*Math.PI/2)},InOut:function(e){return.5*(1-Math.cos(Math.PI*e))}},Exponential:{In:function(e){return 0===e?0:Math.pow(1024,e-1)},Out:function(e){return 1===e?1:1-Math.pow(2,-10*e)},InOut:function(e){return 0===e?0:1===e?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(2-Math.pow(2,-10*(e-1)))}},Circular:{In:function(e){return 1-Math.sqrt(1-e*e)},Out:function(e){return Math.sqrt(1- --e*e)},InOut:function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)}},Elastic:{In:function(e){return 0===e?0:1===e?1:-Math.pow(2,10*(e-1))*Math.sin(5*(e-1.1)*Math.PI)},Out:function(e){return 0===e?0:1===e?1:Math.pow(2,-10*e)*Math.sin(5*(e-.1)*Math.PI)+1},InOut:function(e){return 0===e?0:1===e?1:(e*=2)<1?-.5*Math.pow(2,10*(e-1))*Math.sin(5*(e-1.1)*Math.PI):.5*Math.pow(2,-10*(e-1))*Math.sin(5*(e-1.1)*Math.PI)+1}},Back:{In:function(e){var s=1.70158;return e*e*((s+1)*e-s)},Out:function(e){var s=1.70158;return--e*e*((s+1)*e+s)+1},InOut:function(e){var s=2.5949095;return(e*=2)<1?e*e*((s+1)*e-s)*.5:.5*((e-=2)*e*((s+1)*e+s)+2)}},Bounce:{In:function(e){return 1-r.Bounce.Out(1-e)},Out:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},InOut:function(e){return e<.5?.5*r.Bounce.In(2*e):.5*r.Bounce.Out(2*e-1)+.5}}},n="undefined"==typeof self&&void 0!==e&&e.hrtime?function(){var time=e.hrtime();return 1e3*time[0]+time[1]/1e6}:"undefined"!=typeof self&&void 0!==self.performance&&void 0!==self.performance.now?self.performance.now.bind(self.performance):void 0!==Date.now?Date.now:function(){return(new Date).getTime()},o=function(){function e(){this._tweens={},this._tweensAddedDuringUpdate={}}return e.prototype.getAll=function(){var e=this;return Object.keys(this._tweens).map((function(t){return e._tweens[t]}))},e.prototype.removeAll=function(){this._tweens={}},e.prototype.add=function(e){this._tweens[e.getId()]=e,this._tweensAddedDuringUpdate[e.getId()]=e},e.prototype.remove=function(e){delete this._tweens[e.getId()],delete this._tweensAddedDuringUpdate[e.getId()]},e.prototype.update=function(time,e){void 0===time&&(time=n()),void 0===e&&(e=!1);var t=Object.keys(this._tweens);if(0===t.length)return!1;for(;t.length>0;){this._tweensAddedDuringUpdate={};for(var i=0;i<t.length;i++){var r=this._tweens[t[i]],o=!e;r&&!1===r.update(time,o)&&!e&&delete this._tweens[t[i]]}t=Object.keys(this._tweensAddedDuringUpdate)}return!0},e}(),l={Linear:function(e,t){var r=e.length-1,n=r*t,i=Math.floor(n),o=l.Utils.Linear;return t<0?o(e[0],e[1],n):t>1?o(e[r],e[r-1],r-n):o(e[i],e[i+1>r?r:i+1],n-i)},Bezier:function(e,t){for(var b=0,r=e.length-1,n=Math.pow,o=l.Utils.Bernstein,i=0;i<=r;i++)b+=n(1-t,r-i)*n(t,i)*e[i]*o(r,i);return b},CatmullRom:function(e,t){var r=e.length-1,n=r*t,i=Math.floor(n),o=l.Utils.CatmullRom;return e[0]===e[r]?(t<0&&(i=Math.floor(n=r*(1+t))),o(e[(i-1+r)%r],e[i],e[(i+1)%r],e[(i+2)%r],n-i)):t<0?e[0]-(o(e[0],e[0],e[1],e[1],-n)-e[0]):t>1?e[r]-(o(e[r],e[r],e[r-1],e[r-1],n-r)-e[r]):o(e[i?i-1:0],e[i],e[r<i+1?r:i+1],e[r<i+2?r:i+2],n-i)},Utils:{Linear:function(e,t,r){return(t-e)*r+e},Bernstein:function(e,i){var t=l.Utils.Factorial;return t(e)/t(i)/t(e-i)},Factorial:(a=[1],function(e){var s=1;if(a[e])return a[e];for(var i=e;i>1;i--)s*=i;return a[e]=s,s}),CatmullRom:function(e,t,r,n,o){var l=.5*(r-e),c=.5*(n-t),f=o*o;return(2*t-2*r+l+c)*(o*f)+(-3*t+3*r-2*l-c)*f+l*o+t}}},c=function(){function e(){}return e.nextId=function(){return e._nextId++},e._nextId=0,e}(),f=new o,h=function(){function e(e,t){void 0===t&&(t=f),this._object=e,this._group=t,this._isPaused=!1,this._pauseStart=0,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._initialRepeat=0,this._repeat=0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=0,this._easingFunction=r.Linear.None,this._interpolationFunction=l.Linear,this._chainedTweens=[],this._onStartCallbackFired=!1,this._id=c.nextId(),this._isChainStopped=!1,this._goToEnd=!1}return e.prototype.getId=function(){return this._id},e.prototype.isPlaying=function(){return this._isPlaying},e.prototype.isPaused=function(){return this._isPaused},e.prototype.to=function(e,t){return this._valuesEnd=Object.create(e),void 0!==t&&(this._duration=t),this},e.prototype.duration=function(e){return this._duration=e,this},e.prototype.start=function(time){if(this._isPlaying)return this;if(this._group&&this._group.add(this),this._repeat=this._initialRepeat,this._reversed)for(var e in this._reversed=!1,this._valuesStartRepeat)this._swapEndStartRepeatValues(e),this._valuesStart[e]=this._valuesStartRepeat[e];return this._isPlaying=!0,this._isPaused=!1,this._onStartCallbackFired=!1,this._isChainStopped=!1,this._startTime=void 0!==time?"string"==typeof time?n()+parseFloat(time):time:n(),this._startTime+=this._delayTime,this._setupProperties(this._object,this._valuesStart,this._valuesEnd,this._valuesStartRepeat),this},e.prototype._setupProperties=function(e,t,r,n){for(var o in r){var l=e[o],c=Array.isArray(l),f=c?"array":typeof l,h=!c&&Array.isArray(r[o]);if("undefined"!==f&&"function"!==f){if(h){var d=r[o];if(0===d.length)continue;d=d.map(this._handleRelativeValue.bind(this,l)),r[o]=[l].concat(d)}if("object"!==f&&!c||!l||h)void 0===t[o]&&(t[o]=l),c||(t[o]*=1),n[o]=h?r[o].slice().reverse():t[o]||0;else{for(var v in t[o]=c?[]:{},l)t[o][v]=l[v];n[o]=c?[]:{},this._setupProperties(l,t[o],r[o],n[o])}}}},e.prototype.stop=function(){return this._isChainStopped||(this._isChainStopped=!0,this.stopChainedTweens()),this._isPlaying?(this._group&&this._group.remove(this),this._isPlaying=!1,this._isPaused=!1,this._onStopCallback&&this._onStopCallback(this._object),this):this},e.prototype.end=function(){return this._goToEnd=!0,this.update(1/0),this},e.prototype.pause=function(time){return void 0===time&&(time=n()),this._isPaused||!this._isPlaying||(this._isPaused=!0,this._pauseStart=time,this._group&&this._group.remove(this)),this},e.prototype.resume=function(time){return void 0===time&&(time=n()),this._isPaused&&this._isPlaying?(this._isPaused=!1,this._startTime+=time-this._pauseStart,this._pauseStart=0,this._group&&this._group.add(this),this):this},e.prototype.stopChainedTweens=function(){for(var i=0,e=this._chainedTweens.length;i<e;i++)this._chainedTweens[i].stop();return this},e.prototype.group=function(e){return this._group=e,this},e.prototype.delay=function(e){return this._delayTime=e,this},e.prototype.repeat=function(e){return this._initialRepeat=e,this._repeat=e,this},e.prototype.repeatDelay=function(e){return this._repeatDelayTime=e,this},e.prototype.yoyo=function(e){return this._yoyo=e,this},e.prototype.easing=function(e){return this._easingFunction=e,this},e.prototype.interpolation=function(e){return this._interpolationFunction=e,this},e.prototype.chain=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this._chainedTweens=e,this},e.prototype.onStart=function(e){return this._onStartCallback=e,this},e.prototype.onUpdate=function(e){return this._onUpdateCallback=e,this},e.prototype.onRepeat=function(e){return this._onRepeatCallback=e,this},e.prototype.onComplete=function(e){return this._onCompleteCallback=e,this},e.prototype.onStop=function(e){return this._onStopCallback=e,this},e.prototype.update=function(time,e){if(void 0===time&&(time=n()),void 0===e&&(e=!0),this._isPaused)return!0;var t,r,o=this._startTime+this._duration;if(!this._goToEnd&&!this._isPlaying){if(time>o)return!1;e&&this.start(time)}if(this._goToEnd=!1,time<this._startTime)return!0;!1===this._onStartCallbackFired&&(this._onStartCallback&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),r=(time-this._startTime)/this._duration,r=0===this._duration||r>1?1:r;var l=this._easingFunction(r);if(this._updateProperties(this._object,this._valuesStart,this._valuesEnd,l),this._onUpdateCallback&&this._onUpdateCallback(this._object,r),1===r){if(this._repeat>0){for(t in isFinite(this._repeat)&&this._repeat--,this._valuesStartRepeat)this._yoyo||"string"!=typeof this._valuesEnd[t]||(this._valuesStartRepeat[t]=this._valuesStartRepeat[t]+parseFloat(this._valuesEnd[t])),this._yoyo&&this._swapEndStartRepeatValues(t),this._valuesStart[t]=this._valuesStartRepeat[t];return this._yoyo&&(this._reversed=!this._reversed),void 0!==this._repeatDelayTime?this._startTime=time+this._repeatDelayTime:this._startTime=time+this._delayTime,this._onRepeatCallback&&this._onRepeatCallback(this._object),!0}this._onCompleteCallback&&this._onCompleteCallback(this._object);for(var i=0,c=this._chainedTweens.length;i<c;i++)this._chainedTweens[i].start(this._startTime+this._duration);return this._isPlaying=!1,!1}return!0},e.prototype._updateProperties=function(e,t,r,n){for(var o in r)if(void 0!==t[o]){var l=t[o]||0,c=r[o],f=Array.isArray(e[o]),h=Array.isArray(c);!f&&h?e[o]=this._interpolationFunction(c,n):"object"==typeof c&&c?this._updateProperties(e[o],l,c,n):"number"==typeof(c=this._handleRelativeValue(l,c))&&(e[o]=l+(c-l)*n)}},e.prototype._handleRelativeValue=function(e,t){return"string"!=typeof t?t:"+"===t.charAt(0)||"-"===t.charAt(0)?e+parseFloat(t):parseFloat(t)},e.prototype._swapEndStartRepeatValues=function(e){var t=this._valuesStartRepeat[e],r=this._valuesEnd[e];this._valuesStartRepeat[e]="string"==typeof r?this._valuesStartRepeat[e]+parseFloat(r):this._valuesEnd[e],this._valuesEnd[e]=t},e}(),d=c.nextId,v=f,m=v.getAll.bind(v),y=v.removeAll.bind(v),x=v.add.bind(v),T=v.remove.bind(v),w=v.update.bind(v),_={Easing:r,Group:o,Interpolation:l,now:n,Sequence:c,nextId:d,Tween:h,VERSION:"18.6.4",getAll:m,removeAll:y,add:x,remove:T,update:w};t.a=_}).call(this,r(169))},281:function(e,t,r){"use strict";r.d(t,"b",(function(){return c})),r.d(t,"a",(function(){return d}));var n=r(120),o=r(121),l=r(244),c=function(){function e(){Object(n.a)(this,e),this.enabled=!0,this.needsSwap=!0,this.clear=!1,this.renderToScreen=!1}return Object(o.a)(e,[{key:"setSize",value:function(){}},{key:"render",value:function(){console.error("THREE.Pass: .render() must be implemented in derived pass.")}}]),e}(),f=new l.H(-1,1,1,-1,0,1),h=new l.g;h.setAttribute("position",new l.t([-1,3,0,-1,-1,0,3,-1,0],3)),h.setAttribute("uv",new l.t([0,2,0,0,2,0],2));var d=function(){function e(t){Object(n.a)(this,e),this._mesh=new l.C(h,t)}return Object(o.a)(e,[{key:"dispose",value:function(){this._mesh.geometry.dispose()}},{key:"render",value:function(e){e.render(this._mesh,f)}},{key:"material",get:function(){return this._mesh.material},set:function(e){this._mesh.material=e}}]),e}()},410:function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var n={uniforms:{tDiffuse:{value:null},opacity:{value:1}},vertexShader:"\n\n\t\tvarying vec2 vUv;\n\n\t\tvoid main() {\n\n\t\t\tvUv = uv;\n\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\n\t\t}",fragmentShader:"\n\n\t\tuniform float opacity;\n\n\t\tuniform sampler2D tDiffuse;\n\n\t\tvarying vec2 vUv;\n\n\t\tvoid main() {\n\n\t\t\tgl_FragColor = texture2D( tDiffuse, vUv );\n\t\t\tgl_FragColor.a *= opacity;\n\n\n\t\t}"}},784:function(e,t,r){r(785)},785:function(e,t,r){"use strict";var n=r(2),o=r(17),l=r(98),c=r(100),f=r(178),h=r(3),d=r(21),v=h("replace"),m=RegExp.prototype,y=Math.max,x=function(e,t,r){return r>e.length?-1:""===t?r:e.indexOf(t,r)};n({target:"String",proto:!0},{replaceAll:function(e,t){var r,n,h,T,w,_,M,S,k=o(this),O=0,E=0,C="";if(null!=e){if((r=l(e))&&!~String(o("flags"in m?e.flags:c.call(e))).indexOf("g"))throw TypeError("`.replaceAll` does not allow non-global regexes");if(void 0!==(n=e[v]))return n.call(e,k,t);if(d&&r)return String(k).replace(e,t)}for(h=String(k),T=String(e),(w="function"==typeof t)||(t=String(t)),_=T.length,M=y(1,_),O=x(h,T,0);-1!==O;)S=w?String(t(T,O,h)):f(T,h,O,[],void 0,t),C+=h.slice(E,O)+S,E=O+_,O=x(h,T,O+M);return E<h.length&&(C+=h.slice(E)),C}})},786:function(e,t,r){"use strict";r.d(t,"a",(function(){return x}));r(257);var n=r(120),o=r(288),l=r(258),c=r(259),f=r(253),h=(r(16),r(34),r(271),r(170),r(244));function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(f.a)(e);if(t){var o=Object(f.a)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Object(c.a)(this,r)}}var v={type:"change"},m={type:"start"},y={type:"end"},x=function(e){Object(l.a)(r,e);var t=d(r);function r(object,e){var l,c,f,d,x,T,w;Object(n.a)(this,r),l=t.call(this),void 0===e&&console.warn('THREE.OrbitControls: The second parameter "domElement" is now mandatory.'),e===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),l.object=object,l.domElement=e,l.domElement.style.touchAction="none",l.enabled=!0,l.target=new h.db,l.minDistance=0,l.maxDistance=1/0,l.minZoom=0,l.maxZoom=1/0,l.minPolarAngle=0,l.maxPolarAngle=Math.PI,l.minAzimuthAngle=-1/0,l.maxAzimuthAngle=1/0,l.enableDamping=!1,l.dampingFactor=.05,l.enableZoom=!0,l.zoomSpeed=1,l.enableRotate=!0,l.rotateSpeed=1,l.enablePan=!0,l.panSpeed=1,l.screenSpacePanning=!0,l.keyPanSpeed=7,l.autoRotate=!1,l.autoRotateSpeed=2,l.keys={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"},l.mouseButtons={LEFT:h.z.ROTATE,MIDDLE:h.z.DOLLY,RIGHT:h.z.PAN},l.touches={ONE:h.Z.ROTATE,TWO:h.Z.DOLLY_PAN},l.target0=l.target.clone(),l.position0=l.object.position.clone(),l.zoom0=l.object.zoom,l._domElementKeyEvents=null,l.getPolarAngle=function(){return O.phi},l.getAzimuthalAngle=function(){return O.theta},l.getDistance=function(){return this.object.position.distanceTo(this.target)},l.listenToKeyEvents=function(e){e.addEventListener("keydown",he),this._domElementKeyEvents=e},l.saveState=function(){_.target0.copy(_.target),_.position0.copy(_.object.position),_.zoom0=_.object.zoom},l.reset=function(){_.target.copy(_.target0),_.object.position.copy(_.position0),_.object.zoom=_.zoom0,_.object.updateProjectionMatrix(),_.dispatchEvent(v),_.update(),S=M.NONE},l.update=(c=new h.db,f=(new h.M).setFromUnitVectors(object.up,new h.db(0,1,0)),d=f.clone().invert(),x=new h.db,T=new h.M,w=2*Math.PI,function(){var e=_.object.position;c.copy(e).sub(_.target),c.applyQuaternion(f),O.setFromVector3(c),_.autoRotate&&S===M.NONE&&Y(2*Math.PI/60/60*_.autoRotateSpeed),_.enableDamping?(O.theta+=E.theta*_.dampingFactor,O.phi+=E.phi*_.dampingFactor):(O.theta+=E.theta,O.phi+=E.phi);var t=_.minAzimuthAngle,r=_.maxAzimuthAngle;return isFinite(t)&&isFinite(r)&&(t<-Math.PI?t+=w:t>Math.PI&&(t-=w),r<-Math.PI?r+=w:r>Math.PI&&(r-=w),O.theta=t<=r?Math.max(t,Math.min(r,O.theta)):O.theta>(t+r)/2?Math.max(t,O.theta):Math.min(r,O.theta)),O.phi=Math.max(_.minPolarAngle,Math.min(_.maxPolarAngle,O.phi)),O.makeSafe(),O.radius*=C,O.radius=Math.max(_.minDistance,Math.min(_.maxDistance,O.radius)),!0===_.enableDamping?_.target.addScaledVector(P,_.dampingFactor):_.target.add(P),c.setFromSpherical(O),c.applyQuaternion(d),e.copy(_.target).add(c),_.object.lookAt(_.target),!0===_.enableDamping?(E.theta*=1-_.dampingFactor,E.phi*=1-_.dampingFactor,P.multiplyScalar(1-_.dampingFactor)):(E.set(0,0,0),P.set(0,0,0)),C=1,!!(A||x.distanceToSquared(_.object.position)>k||8*(1-T.dot(_.object.quaternion))>k)&&(_.dispatchEvent(v),x.copy(_.object.position),T.copy(_.object.quaternion),A=!1,!0)}),l.dispose=function(){_.domElement.removeEventListener("contextmenu",de),_.domElement.removeEventListener("pointerdown",se),_.domElement.removeEventListener("pointercancel",ce),_.domElement.removeEventListener("wheel",fe),_.domElement.removeEventListener("pointermove",ue),_.domElement.removeEventListener("pointerup",le),null!==_._domElementKeyEvents&&_._domElementKeyEvents.removeEventListener("keydown",he)};var _=Object(o.a)(l),M={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6},S=M.NONE,k=1e-6,O=new h.Y,E=new h.Y,C=1,P=new h.db,A=!1,R=new h.cb,B=new h.cb,j=new h.cb,I=new h.cb,D=new h.cb,L=new h.cb,N=new h.cb,z=new h.cb,U=new h.cb,F=[],V={};function H(){return Math.pow(.95,_.zoomSpeed)}function Y(e){E.theta-=e}function G(e){E.phi-=e}var X,W=(X=new h.db,function(e,t){X.setFromMatrixColumn(t,0),X.multiplyScalar(-e),P.add(X)}),Z=function(){var e=new h.db;return function(t,r){!0===_.screenSpacePanning?e.setFromMatrixColumn(r,1):(e.setFromMatrixColumn(r,0),e.crossVectors(_.object.up,e)),e.multiplyScalar(t),P.add(e)}}(),Q=function(){var e=new h.db;return function(t,r){var element=_.domElement;if(_.object.isPerspectiveCamera){var n=_.object.position;e.copy(n).sub(_.target);var o=e.length();o*=Math.tan(_.object.fov/2*Math.PI/180),W(2*t*o/element.clientHeight,_.object.matrix),Z(2*r*o/element.clientHeight,_.object.matrix)}else _.object.isOrthographicCamera?(W(t*(_.object.right-_.object.left)/_.object.zoom/element.clientWidth,_.object.matrix),Z(r*(_.object.top-_.object.bottom)/_.object.zoom/element.clientHeight,_.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),_.enablePan=!1)}}();function K(e){_.object.isPerspectiveCamera?C/=e:_.object.isOrthographicCamera?(_.object.zoom=Math.max(_.minZoom,Math.min(_.maxZoom,_.object.zoom*e)),_.object.updateProjectionMatrix(),A=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),_.enableZoom=!1)}function J(e){_.object.isPerspectiveCamera?C*=e:_.object.isOrthographicCamera?(_.object.zoom=Math.max(_.minZoom,Math.min(_.maxZoom,_.object.zoom/e)),_.object.updateProjectionMatrix(),A=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),_.enableZoom=!1)}function $(e){R.set(e.clientX,e.clientY)}function ee(e){I.set(e.clientX,e.clientY)}function te(){if(1===F.length)R.set(F[0].pageX,F[0].pageY);else{var e=.5*(F[0].pageX+F[1].pageX),t=.5*(F[0].pageY+F[1].pageY);R.set(e,t)}}function re(){if(1===F.length)I.set(F[0].pageX,F[0].pageY);else{var e=.5*(F[0].pageX+F[1].pageX),t=.5*(F[0].pageY+F[1].pageY);I.set(e,t)}}function ne(){var e=F[0].pageX-F[1].pageX,t=F[0].pageY-F[1].pageY,r=Math.sqrt(e*e+t*t);N.set(0,r)}function ie(e){if(1==F.length)B.set(e.pageX,e.pageY);else{var t=me(e),r=.5*(e.pageX+t.x),n=.5*(e.pageY+t.y);B.set(r,n)}j.subVectors(B,R).multiplyScalar(_.rotateSpeed);var element=_.domElement;Y(2*Math.PI*j.x/element.clientHeight),G(2*Math.PI*j.y/element.clientHeight),R.copy(B)}function ae(e){if(1===F.length)D.set(e.pageX,e.pageY);else{var t=me(e),r=.5*(e.pageX+t.x),n=.5*(e.pageY+t.y);D.set(r,n)}L.subVectors(D,I).multiplyScalar(_.panSpeed),Q(L.x,L.y),I.copy(D)}function oe(e){var t=me(e),r=e.pageX-t.x,n=e.pageY-t.y,o=Math.sqrt(r*r+n*n);z.set(0,o),U.set(0,Math.pow(z.y/N.y,_.zoomSpeed)),K(U.y),N.copy(z)}function se(e){!1!==_.enabled&&(0===F.length&&(_.domElement.setPointerCapture(e.pointerId),_.domElement.addEventListener("pointermove",ue),_.domElement.addEventListener("pointerup",le)),function(e){F.push(e)}(e),"touch"===e.pointerType?function(e){switch(ve(e),F.length){case 1:switch(_.touches.ONE){case h.Z.ROTATE:if(!1===_.enableRotate)return;te(),S=M.TOUCH_ROTATE;break;case h.Z.PAN:if(!1===_.enablePan)return;re(),S=M.TOUCH_PAN;break;default:S=M.NONE}break;case 2:switch(_.touches.TWO){case h.Z.DOLLY_PAN:if(!1===_.enableZoom&&!1===_.enablePan)return;_.enableZoom&&ne(),_.enablePan&&re(),S=M.TOUCH_DOLLY_PAN;break;case h.Z.DOLLY_ROTATE:if(!1===_.enableZoom&&!1===_.enableRotate)return;_.enableZoom&&ne(),_.enableRotate&&te(),S=M.TOUCH_DOLLY_ROTATE;break;default:S=M.NONE}break;default:S=M.NONE}S!==M.NONE&&_.dispatchEvent(m)}(e):function(e){var t;switch(e.button){case 0:t=_.mouseButtons.LEFT;break;case 1:t=_.mouseButtons.MIDDLE;break;case 2:t=_.mouseButtons.RIGHT;break;default:t=-1}switch(t){case h.z.DOLLY:if(!1===_.enableZoom)return;!function(e){N.set(e.clientX,e.clientY)}(e),S=M.DOLLY;break;case h.z.ROTATE:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===_.enablePan)return;ee(e),S=M.PAN}else{if(!1===_.enableRotate)return;$(e),S=M.ROTATE}break;case h.z.PAN:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===_.enableRotate)return;$(e),S=M.ROTATE}else{if(!1===_.enablePan)return;ee(e),S=M.PAN}break;default:S=M.NONE}S!==M.NONE&&_.dispatchEvent(m)}(e))}function ue(e){!1!==_.enabled&&("touch"===e.pointerType?function(e){switch(ve(e),S){case M.TOUCH_ROTATE:if(!1===_.enableRotate)return;ie(e),_.update();break;case M.TOUCH_PAN:if(!1===_.enablePan)return;ae(e),_.update();break;case M.TOUCH_DOLLY_PAN:if(!1===_.enableZoom&&!1===_.enablePan)return;!function(e){_.enableZoom&&oe(e),_.enablePan&&ae(e)}(e),_.update();break;case M.TOUCH_DOLLY_ROTATE:if(!1===_.enableZoom&&!1===_.enableRotate)return;!function(e){_.enableZoom&&oe(e),_.enableRotate&&ie(e)}(e),_.update();break;default:S=M.NONE}}(e):function(e){switch(S){case M.ROTATE:if(!1===_.enableRotate)return;!function(e){B.set(e.clientX,e.clientY),j.subVectors(B,R).multiplyScalar(_.rotateSpeed);var element=_.domElement;Y(2*Math.PI*j.x/element.clientHeight),G(2*Math.PI*j.y/element.clientHeight),R.copy(B),_.update()}(e);break;case M.DOLLY:if(!1===_.enableZoom)return;!function(e){z.set(e.clientX,e.clientY),U.subVectors(z,N),U.y>0?K(H()):U.y<0&&J(H()),N.copy(z),_.update()}(e);break;case M.PAN:if(!1===_.enablePan)return;!function(e){D.set(e.clientX,e.clientY),L.subVectors(D,I).multiplyScalar(_.panSpeed),Q(L.x,L.y),I.copy(D),_.update()}(e)}}(e))}function le(e){pe(e),0===F.length&&(_.domElement.releasePointerCapture(e.pointerId),_.domElement.removeEventListener("pointermove",ue),_.domElement.removeEventListener("pointerup",le)),_.dispatchEvent(y),S=M.NONE}function ce(e){pe(e)}function fe(e){!1!==_.enabled&&!1!==_.enableZoom&&S===M.NONE&&(e.preventDefault(),_.dispatchEvent(m),function(e){e.deltaY<0?J(H()):e.deltaY>0&&K(H()),_.update()}(e),_.dispatchEvent(y))}function he(e){!1!==_.enabled&&!1!==_.enablePan&&function(e){var t=!1;switch(e.code){case _.keys.UP:Q(0,_.keyPanSpeed),t=!0;break;case _.keys.BOTTOM:Q(0,-_.keyPanSpeed),t=!0;break;case _.keys.LEFT:Q(_.keyPanSpeed,0),t=!0;break;case _.keys.RIGHT:Q(-_.keyPanSpeed,0),t=!0}t&&(e.preventDefault(),_.update())}(e)}function de(e){!1!==_.enabled&&e.preventDefault()}function pe(e){delete V[e.pointerId];for(var i=0;i<F.length;i++)if(F[i].pointerId==e.pointerId)return void F.splice(i,1)}function ve(e){var t=V[e.pointerId];void 0===t&&(t=new h.cb,V[e.pointerId]=t),t.set(e.pageX,e.pageY)}function me(e){var t=e.pointerId===F[0].pointerId?F[1]:F[0];return V[t.pointerId]}return _.domElement.addEventListener("contextmenu",de),_.domElement.addEventListener("pointerdown",se),_.domElement.addEventListener("pointercancel",ce),_.domElement.addEventListener("wheel",fe,{passive:!1}),l.update(),l}return r}(h.q)},787:function(e,t,r){"use strict";r.d(t,"a",(function(){return v}));r(257);var n=r(120),o=r(121),l=r(258),c=r(259),f=r(253),h=r(244);function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(f.a)(e);if(t){var o=Object(f.a)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Object(c.a)(this,r)}}var v=function(e){Object(l.a)(r,e);var t=d(r);function r(e,o,l,c,f){var d;return Object(n.a)(this,r),(d=t.call(this)).scene=e,d.camera=o,d.overrideMaterial=l,d.clearColor=c,d.clearAlpha=void 0!==f?f:0,d.clear=!0,d.clearDepth=!1,d.needsSwap=!1,d._oldClearColor=new h.j,d}return Object(o.a)(r,[{key:"render",value:function(e,t,r){var n,o,l=e.autoClear;e.autoClear=!1,void 0!==this.overrideMaterial&&(o=this.scene.overrideMaterial,this.scene.overrideMaterial=this.overrideMaterial),this.clearColor&&(e.getClearColor(this._oldClearColor),n=e.getClearAlpha(),e.setClearColor(this.clearColor,this.clearAlpha)),this.clearDepth&&e.clearDepth(),e.setRenderTarget(this.renderToScreen?null:r),this.clear&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),e.render(this.scene,this.camera),this.clearColor&&e.setClearColor(this._oldClearColor,n),void 0!==this.overrideMaterial&&(this.scene.overrideMaterial=o),e.autoClear=l}}]),r}(r(281).b)},788:function(e,t,r){"use strict";r.d(t,"a",(function(){return y}));r(257);var n=r(120),o=r(121),l=r(258),c=r(259),f=r(253),h=(r(367),r(16),r(28),r(369),r(370),r(371),r(372),r(373),r(374),r(375),r(376),r(377),r(378),r(379),r(380),r(381),r(34),r(25),r(38),r(48),r(244)),d=r(281),v=r(410);function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(f.a)(e);if(t){var o=Object(f.a)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Object(c.a)(this,r)}}var y=function(e){Object(l.a)(r,e);var t=m(r);function r(e,o,l,c){var f;Object(n.a)(this,r),(f=t.call(this)).renderScene=o,f.renderCamera=l,f.selectedObjects=void 0!==c?c:[],f.visibleEdgeColor=new h.j(1,1,1),f.hiddenEdgeColor=new h.j(.1,.04,.02),f.edgeGlow=0,f.usePatternTexture=!1,f.edgeThickness=1,f.edgeStrength=3,f.downSampleRatio=2,f.pulsePeriod=0,f._visibilityCache=new Map,f.resolution=void 0!==e?new h.cb(e.x,e.y):new h.cb(256,256);var m=Math.round(f.resolution.x/f.downSampleRatio),y=Math.round(f.resolution.y/f.downSampleRatio);f.renderTargetMaskBuffer=new h.eb(f.resolution.x,f.resolution.y),f.renderTargetMaskBuffer.texture.name="OutlinePass.mask",f.renderTargetMaskBuffer.texture.generateMipmaps=!1,f.depthMaterial=new h.E,f.depthMaterial.side=h.o,f.depthMaterial.depthPacking=h.N,f.depthMaterial.blending=h.G,f.prepareMaskMaterial=f.getPrepareMaskMaterial(),f.prepareMaskMaterial.side=h.o,f.prepareMaskMaterial.fragmentShader=function(e,t){var r=t.isPerspectiveCamera?"perspective":"orthographic";return e.replace(/DEPTH_TO_VIEW_Z/g,r+"DepthToViewZ")}(f.prepareMaskMaterial.fragmentShader,f.renderCamera),f.renderTargetDepthBuffer=new h.eb(f.resolution.x,f.resolution.y),f.renderTargetDepthBuffer.texture.name="OutlinePass.depth",f.renderTargetDepthBuffer.texture.generateMipmaps=!1,f.renderTargetMaskDownSampleBuffer=new h.eb(m,y),f.renderTargetMaskDownSampleBuffer.texture.name="OutlinePass.depthDownSample",f.renderTargetMaskDownSampleBuffer.texture.generateMipmaps=!1,f.renderTargetBlurBuffer1=new h.eb(m,y),f.renderTargetBlurBuffer1.texture.name="OutlinePass.blur1",f.renderTargetBlurBuffer1.texture.generateMipmaps=!1,f.renderTargetBlurBuffer2=new h.eb(Math.round(m/2),Math.round(y/2)),f.renderTargetBlurBuffer2.texture.name="OutlinePass.blur2",f.renderTargetBlurBuffer2.texture.generateMipmaps=!1,f.edgeDetectionMaterial=f.getEdgeDetectionMaterial(),f.renderTargetEdgeBuffer1=new h.eb(m,y),f.renderTargetEdgeBuffer1.texture.name="OutlinePass.edge1",f.renderTargetEdgeBuffer1.texture.generateMipmaps=!1,f.renderTargetEdgeBuffer2=new h.eb(Math.round(m/2),Math.round(y/2)),f.renderTargetEdgeBuffer2.texture.name="OutlinePass.edge2",f.renderTargetEdgeBuffer2.texture.generateMipmaps=!1;f.separableBlurMaterial1=f.getSeperableBlurMaterial(4),f.separableBlurMaterial1.uniforms.texSize.value.set(m,y),f.separableBlurMaterial1.uniforms.kernelRadius.value=1,f.separableBlurMaterial2=f.getSeperableBlurMaterial(4),f.separableBlurMaterial2.uniforms.texSize.value.set(Math.round(m/2),Math.round(y/2)),f.separableBlurMaterial2.uniforms.kernelRadius.value=4,f.overlayMaterial=f.getOverlayMaterial(),void 0===v.a&&console.error("THREE.OutlinePass relies on CopyShader");var x=v.a;return f.copyUniforms=h.bb.clone(x.uniforms),f.copyUniforms.opacity.value=1,f.materialCopy=new h.T({uniforms:f.copyUniforms,vertexShader:x.vertexShader,fragmentShader:x.fragmentShader,blending:h.G,depthTest:!1,depthWrite:!1,transparent:!0}),f.enabled=!0,f.needsSwap=!1,f._oldClearColor=new h.j,f.oldClearAlpha=1,f.fsQuad=new d.a(null),f.tempPulseColor1=new h.j,f.tempPulseColor2=new h.j,f.textureMatrix=new h.B,f}return Object(o.a)(r,[{key:"dispose",value:function(){this.renderTargetMaskBuffer.dispose(),this.renderTargetDepthBuffer.dispose(),this.renderTargetMaskDownSampleBuffer.dispose(),this.renderTargetBlurBuffer1.dispose(),this.renderTargetBlurBuffer2.dispose(),this.renderTargetEdgeBuffer1.dispose(),this.renderTargetEdgeBuffer2.dispose()}},{key:"setSize",value:function(e,t){this.renderTargetMaskBuffer.setSize(e,t),this.renderTargetDepthBuffer.setSize(e,t);var r=Math.round(e/this.downSampleRatio),n=Math.round(t/this.downSampleRatio);this.renderTargetMaskDownSampleBuffer.setSize(r,n),this.renderTargetBlurBuffer1.setSize(r,n),this.renderTargetEdgeBuffer1.setSize(r,n),this.separableBlurMaterial1.uniforms.texSize.value.set(r,n),r=Math.round(r/2),n=Math.round(n/2),this.renderTargetBlurBuffer2.setSize(r,n),this.renderTargetEdgeBuffer2.setSize(r,n),this.separableBlurMaterial2.uniforms.texSize.value.set(r,n)}},{key:"changeVisibilityOfSelectedObjects",value:function(e){var t=this._visibilityCache;function r(object){object.isMesh&&(!0===e?object.visible=t.get(object):(t.set(object,object.visible),object.visible=e))}for(var i=0;i<this.selectedObjects.length;i++){this.selectedObjects[i].traverse(r)}}},{key:"changeVisibilityOfNonSelectedObjects",value:function(e){var t=this._visibilityCache,r=[];function n(object){object.isMesh&&r.push(object)}for(var i=0;i<this.selectedObjects.length;i++){this.selectedObjects[i].traverse(n)}this.renderScene.traverse((function(object){if(object.isMesh||object.isSprite){for(var n=!1,o=0;o<r.length;o++){if(r[o].id===object.id){n=!0;break}}if(!1===n){var l=object.visible;!1!==e&&!0!==t.get(object)||(object.visible=e),t.set(object,l)}}else(object.isPoints||object.isLine)&&(!0===e?object.visible=t.get(object):(t.set(object,object.visible),object.visible=e))}))}},{key:"updateTextureMatrix",value:function(){this.textureMatrix.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),this.textureMatrix.multiply(this.renderCamera.projectionMatrix),this.textureMatrix.multiply(this.renderCamera.matrixWorldInverse)}},{key:"render",value:function(e,t,n,o,l){if(this.selectedObjects.length>0){e.getClearColor(this._oldClearColor),this.oldClearAlpha=e.getClearAlpha();var c=e.autoClear;e.autoClear=!1,l&&e.state.buffers.stencil.setTest(!1),e.setClearColor(16777215,1),this.changeVisibilityOfSelectedObjects(!1);var f=this.renderScene.background;if(this.renderScene.background=null,this.renderScene.overrideMaterial=this.depthMaterial,e.setRenderTarget(this.renderTargetDepthBuffer),e.clear(),e.render(this.renderScene,this.renderCamera),this.changeVisibilityOfSelectedObjects(!0),this._visibilityCache.clear(),this.updateTextureMatrix(),this.changeVisibilityOfNonSelectedObjects(!1),this.renderScene.overrideMaterial=this.prepareMaskMaterial,this.prepareMaskMaterial.uniforms.cameraNearFar.value.set(this.renderCamera.near,this.renderCamera.far),this.prepareMaskMaterial.uniforms.depthTexture.value=this.renderTargetDepthBuffer.texture,this.prepareMaskMaterial.uniforms.textureMatrix.value=this.textureMatrix,e.setRenderTarget(this.renderTargetMaskBuffer),e.clear(),e.render(this.renderScene,this.renderCamera),this.renderScene.overrideMaterial=null,this.changeVisibilityOfNonSelectedObjects(!0),this._visibilityCache.clear(),this.renderScene.background=f,this.fsQuad.material=this.materialCopy,this.copyUniforms.tDiffuse.value=this.renderTargetMaskBuffer.texture,e.setRenderTarget(this.renderTargetMaskDownSampleBuffer),e.clear(),this.fsQuad.render(e),this.tempPulseColor1.copy(this.visibleEdgeColor),this.tempPulseColor2.copy(this.hiddenEdgeColor),this.pulsePeriod>0){var h=.625+.75*Math.cos(.01*performance.now()/this.pulsePeriod)/2;this.tempPulseColor1.multiplyScalar(h),this.tempPulseColor2.multiplyScalar(h)}this.fsQuad.material=this.edgeDetectionMaterial,this.edgeDetectionMaterial.uniforms.maskTexture.value=this.renderTargetMaskDownSampleBuffer.texture,this.edgeDetectionMaterial.uniforms.texSize.value.set(this.renderTargetMaskDownSampleBuffer.width,this.renderTargetMaskDownSampleBuffer.height),this.edgeDetectionMaterial.uniforms.visibleEdgeColor.value=this.tempPulseColor1,this.edgeDetectionMaterial.uniforms.hiddenEdgeColor.value=this.tempPulseColor2,e.setRenderTarget(this.renderTargetEdgeBuffer1),e.clear(),this.fsQuad.render(e),this.fsQuad.material=this.separableBlurMaterial1,this.separableBlurMaterial1.uniforms.colorTexture.value=this.renderTargetEdgeBuffer1.texture,this.separableBlurMaterial1.uniforms.direction.value=r.BlurDirectionX,this.separableBlurMaterial1.uniforms.kernelRadius.value=this.edgeThickness,e.setRenderTarget(this.renderTargetBlurBuffer1),e.clear(),this.fsQuad.render(e),this.separableBlurMaterial1.uniforms.colorTexture.value=this.renderTargetBlurBuffer1.texture,this.separableBlurMaterial1.uniforms.direction.value=r.BlurDirectionY,e.setRenderTarget(this.renderTargetEdgeBuffer1),e.clear(),this.fsQuad.render(e),this.fsQuad.material=this.separableBlurMaterial2,this.separableBlurMaterial2.uniforms.colorTexture.value=this.renderTargetEdgeBuffer1.texture,this.separableBlurMaterial2.uniforms.direction.value=r.BlurDirectionX,e.setRenderTarget(this.renderTargetBlurBuffer2),e.clear(),this.fsQuad.render(e),this.separableBlurMaterial2.uniforms.colorTexture.value=this.renderTargetBlurBuffer2.texture,this.separableBlurMaterial2.uniforms.direction.value=r.BlurDirectionY,e.setRenderTarget(this.renderTargetEdgeBuffer2),e.clear(),this.fsQuad.render(e),this.fsQuad.material=this.overlayMaterial,this.overlayMaterial.uniforms.maskTexture.value=this.renderTargetMaskBuffer.texture,this.overlayMaterial.uniforms.edgeTexture1.value=this.renderTargetEdgeBuffer1.texture,this.overlayMaterial.uniforms.edgeTexture2.value=this.renderTargetEdgeBuffer2.texture,this.overlayMaterial.uniforms.patternTexture.value=this.patternTexture,this.overlayMaterial.uniforms.edgeStrength.value=this.edgeStrength,this.overlayMaterial.uniforms.edgeGlow.value=this.edgeGlow,this.overlayMaterial.uniforms.usePatternTexture.value=this.usePatternTexture,l&&e.state.buffers.stencil.setTest(!0),e.setRenderTarget(n),this.fsQuad.render(e),e.setClearColor(this._oldClearColor,this.oldClearAlpha),e.autoClear=c}this.renderToScreen&&(this.fsQuad.material=this.materialCopy,this.copyUniforms.tDiffuse.value=n.texture,e.setRenderTarget(null),this.fsQuad.render(e))}},{key:"getPrepareMaskMaterial",value:function(){return new h.T({uniforms:{depthTexture:{value:null},cameraNearFar:{value:new h.cb(.5,.5)},textureMatrix:{value:null}},vertexShader:"#include <morphtarget_pars_vertex>\n\t\t\t\t#include <skinning_pars_vertex>\n\n\t\t\t\tvarying vec4 projTexCoord;\n\t\t\t\tvarying vec4 vPosition;\n\t\t\t\tuniform mat4 textureMatrix;\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\t#include <skinbase_vertex>\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t\t#include <morphtarget_vertex>\n\t\t\t\t\t#include <skinning_vertex>\n\t\t\t\t\t#include <project_vertex>\n\n\t\t\t\t\tvPosition = mvPosition;\n\t\t\t\t\tvec4 worldPosition = modelMatrix * vec4( transformed, 1.0 );\n\t\t\t\t\tprojTexCoord = textureMatrix * worldPosition;\n\n\t\t\t\t}",fragmentShader:"#include <packing>\n\t\t\t\tvarying vec4 vPosition;\n\t\t\t\tvarying vec4 projTexCoord;\n\t\t\t\tuniform sampler2D depthTexture;\n\t\t\t\tuniform vec2 cameraNearFar;\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tfloat depth = unpackRGBAToDepth(texture2DProj( depthTexture, projTexCoord ));\n\t\t\t\t\tfloat viewZ = - DEPTH_TO_VIEW_Z( depth, cameraNearFar.x, cameraNearFar.y );\n\t\t\t\t\tfloat depthTest = (-vPosition.z > viewZ) ? 1.0 : 0.0;\n\t\t\t\t\tgl_FragColor = vec4(0.0, depthTest, 1.0, 1.0);\n\n\t\t\t\t}"})}},{key:"getEdgeDetectionMaterial",value:function(){return new h.T({uniforms:{maskTexture:{value:null},texSize:{value:new h.cb(.5,.5)},visibleEdgeColor:{value:new h.db(1,1,1)},hiddenEdgeColor:{value:new h.db(1,1,1)}},vertexShader:"varying vec2 vUv;\n\n\t\t\t\tvoid main() {\n\t\t\t\t\tvUv = uv;\n\t\t\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\t\t\t\t}",fragmentShader:"varying vec2 vUv;\n\n\t\t\t\tuniform sampler2D maskTexture;\n\t\t\t\tuniform vec2 texSize;\n\t\t\t\tuniform vec3 visibleEdgeColor;\n\t\t\t\tuniform vec3 hiddenEdgeColor;\n\n\t\t\t\tvoid main() {\n\t\t\t\t\tvec2 invSize = 1.0 / texSize;\n\t\t\t\t\tvec4 uvOffset = vec4(1.0, 0.0, 0.0, 1.0) * vec4(invSize, invSize);\n\t\t\t\t\tvec4 c1 = texture2D( maskTexture, vUv + uvOffset.xy);\n\t\t\t\t\tvec4 c2 = texture2D( maskTexture, vUv - uvOffset.xy);\n\t\t\t\t\tvec4 c3 = texture2D( maskTexture, vUv + uvOffset.yw);\n\t\t\t\t\tvec4 c4 = texture2D( maskTexture, vUv - uvOffset.yw);\n\t\t\t\t\tfloat diff1 = (c1.r - c2.r)*0.5;\n\t\t\t\t\tfloat diff2 = (c3.r - c4.r)*0.5;\n\t\t\t\t\tfloat d = length( vec2(diff1, diff2) );\n\t\t\t\t\tfloat a1 = min(c1.g, c2.g);\n\t\t\t\t\tfloat a2 = min(c3.g, c4.g);\n\t\t\t\t\tfloat visibilityFactor = min(a1, a2);\n\t\t\t\t\tvec3 edgeColor = 1.0 - visibilityFactor > 0.001 ? visibleEdgeColor : hiddenEdgeColor;\n\t\t\t\t\tgl_FragColor = vec4(edgeColor, 1.0) * vec4(d);\n\t\t\t\t}"})}},{key:"getSeperableBlurMaterial",value:function(e){return new h.T({defines:{MAX_RADIUS:e},uniforms:{colorTexture:{value:null},texSize:{value:new h.cb(.5,.5)},direction:{value:new h.cb(.5,.5)},kernelRadius:{value:1}},vertexShader:"varying vec2 vUv;\n\n\t\t\t\tvoid main() {\n\t\t\t\t\tvUv = uv;\n\t\t\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\t\t\t\t}",fragmentShader:"#include <common>\n\t\t\t\tvarying vec2 vUv;\n\t\t\t\tuniform sampler2D colorTexture;\n\t\t\t\tuniform vec2 texSize;\n\t\t\t\tuniform vec2 direction;\n\t\t\t\tuniform float kernelRadius;\n\n\t\t\t\tfloat gaussianPdf(in float x, in float sigma) {\n\t\t\t\t\treturn 0.39894 * exp( -0.5 * x * x/( sigma * sigma))/sigma;\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\t\t\t\t\tvec2 invSize = 1.0 / texSize;\n\t\t\t\t\tfloat sigma = kernelRadius/2.0;\n\t\t\t\t\tfloat weightSum = gaussianPdf(0.0, sigma);\n\t\t\t\t\tvec4 diffuseSum = texture2D( colorTexture, vUv) * weightSum;\n\t\t\t\t\tvec2 delta = direction * invSize * kernelRadius/float(MAX_RADIUS);\n\t\t\t\t\tvec2 uvOffset = delta;\n\t\t\t\t\tfor( int i = 1; i <= MAX_RADIUS; i ++ ) {\n\t\t\t\t\t\tfloat x = kernelRadius * float(i) / float(MAX_RADIUS);\n\t\t\t\t\t\tfloat w = gaussianPdf(x, sigma);\n\t\t\t\t\t\tvec4 sample1 = texture2D( colorTexture, vUv + uvOffset);\n\t\t\t\t\t\tvec4 sample2 = texture2D( colorTexture, vUv - uvOffset);\n\t\t\t\t\t\tdiffuseSum += ((sample1 + sample2) * w);\n\t\t\t\t\t\tweightSum += (2.0 * w);\n\t\t\t\t\t\tuvOffset += delta;\n\t\t\t\t\t}\n\t\t\t\t\tgl_FragColor = diffuseSum/weightSum;\n\t\t\t\t}"})}},{key:"getOverlayMaterial",value:function(){return new h.T({uniforms:{maskTexture:{value:null},edgeTexture1:{value:null},edgeTexture2:{value:null},patternTexture:{value:null},edgeStrength:{value:1},edgeGlow:{value:1},usePatternTexture:{value:0}},vertexShader:"varying vec2 vUv;\n\n\t\t\t\tvoid main() {\n\t\t\t\t\tvUv = uv;\n\t\t\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\t\t\t\t}",fragmentShader:"varying vec2 vUv;\n\n\t\t\t\tuniform sampler2D maskTexture;\n\t\t\t\tuniform sampler2D edgeTexture1;\n\t\t\t\tuniform sampler2D edgeTexture2;\n\t\t\t\tuniform sampler2D patternTexture;\n\t\t\t\tuniform float edgeStrength;\n\t\t\t\tuniform float edgeGlow;\n\t\t\t\tuniform bool usePatternTexture;\n\n\t\t\t\tvoid main() {\n\t\t\t\t\tvec4 edgeValue1 = texture2D(edgeTexture1, vUv);\n\t\t\t\t\tvec4 edgeValue2 = texture2D(edgeTexture2, vUv);\n\t\t\t\t\tvec4 maskColor = texture2D(maskTexture, vUv);\n\t\t\t\t\tvec4 patternColor = texture2D(patternTexture, 6.0 * vUv);\n\t\t\t\t\tfloat visibilityFactor = 1.0 - maskColor.g > 0.0 ? 1.0 : 0.5;\n\t\t\t\t\tvec4 edgeValue = edgeValue1 + edgeValue2 * edgeGlow;\n\t\t\t\t\tvec4 finalColor = edgeStrength * maskColor.r * edgeValue;\n\t\t\t\t\tif(usePatternTexture)\n\t\t\t\t\t\tfinalColor += + visibilityFactor * (1.0 - maskColor.r) * (1.0 - patternColor.r);\n\t\t\t\t\tgl_FragColor = finalColor;\n\t\t\t\t}",blending:h.a,depthTest:!1,depthWrite:!1,transparent:!0})}}]),r}(d.b);y.BlurDirectionX=new h.cb(1,0),y.BlurDirectionY=new h.cb(0,1)},789:function(e,t,r){"use strict";r.d(t,"a",(function(){return y}));r(257);var n=r(32),o=r(12),l=r(120),c=r(121),f=r(258),h=r(259),d=r(253),v=(r(236),r(38),r(175),r(366),r(50),r(39),r(37),r(171),r(790),r(177),r(48),r(128),r(216),r(51),r(52),r(181),r(365),r(173),r(26),r(249),r(271),r(244));function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(d.a)(e);if(t){var o=Object(d.a)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Object(h.a)(this,r)}}var y=function(e){Object(f.a)(r,e);var t=m(r);function r(e){var n;return Object(l.a)(this,r),(n=t.call(this,e)).defaultDPI=90,n.defaultUnit="px",n}return Object(c.a)(r,[{key:"load",value:function(e,t,r,n){var o=this,l=new v.s(o.manager);l.setPath(o.path),l.setRequestHeader(o.requestHeader),l.setWithCredentials(o.withCredentials),l.load(e,(function(text){try{t(o.parse(text))}catch(t){n?n(t):console.error(t),o.manager.itemError(e)}}),r,n)}},{key:"parse",value:function(text){var e=this;function t(path,e,t,n,o,l,c,f){if(0!=e&&0!=t){n=n*Math.PI/180,e=Math.abs(e),t=Math.abs(t);var h=(c.x-f.x)/2,d=(c.y-f.y)/2,v=Math.cos(n)*h+Math.sin(n)*d,m=-Math.sin(n)*h+Math.cos(n)*d,y=e*e,x=t*t,T=v*v,w=m*m,_=T/y+w/x;if(_>1){var s=Math.sqrt(_);y=(e*=s)*e,x=(t*=s)*t}var M=y*w+x*T,S=(y*x-M)/M,q=Math.sqrt(Math.max(0,S));o===l&&(q=-q);var k=q*e*m/t,O=-q*t*v/e,E=Math.cos(n)*k-Math.sin(n)*O+(c.x+f.x)/2,C=Math.sin(n)*k+Math.cos(n)*O+(c.y+f.y)/2,P=r(1,0,(v-k)/e,(m-O)/t),A=r((v-k)/e,(m-O)/t,(-v-k)/e,(-m-O)/t)%(2*Math.PI);path.currentPath.absellipse(E,C,e,t,P,P+A,0===l,n)}else path.lineTo(f.x,f.y)}function r(e,t,r,n){var o=e*r+t*n,l=Math.sqrt(e*e+t*t)*Math.sqrt(r*r+n*n),c=Math.acos(Math.max(-1,Math.min(1,o/l)));return e*n-t*r<0&&(c=-c),c}function l(e,style){style=Object.assign({},style);var t={};if(e.hasAttribute("class"))for(var r=e.getAttribute("class").split(/\s/).filter(Boolean).map((function(i){return i.trim()})),i=0;i<r.length;i++)t=Object.assign(t,w["."+r[i]]);function n(r,n,o){void 0===o&&(o=function(e){return e.startsWith("url")&&console.warn("SVGLoader: url access in attributes is not implemented."),e}),e.hasAttribute(r)&&(style[n]=o(e.getAttribute(r))),t[r]&&(style[n]=o(t[r])),e.style&&""!==e.style[r]&&(style[n]=o(e.style[r]))}function o(e){return Math.max(0,Math.min(1,m(e)))}function l(e){return Math.max(0,m(e))}return e.hasAttribute("id")&&(t=Object.assign(t,w["#"+e.getAttribute("id")])),n("fill","fill"),n("fill-opacity","fillOpacity",o),n("fill-rule","fillRule"),n("opacity","opacity",o),n("stroke","stroke"),n("stroke-opacity","strokeOpacity",o),n("stroke-width","strokeWidth",l),n("stroke-linejoin","strokeLineJoin"),n("stroke-linecap","strokeLineCap"),n("stroke-miterlimit","strokeMiterLimit",l),n("visibility","visibility"),style}function c(a,b){return a-(b-a)}function f(input,e,t){if("string"!=typeof input)throw new TypeError("Invalid input: "+Object(n.a)(input));var r,o={SEPARATOR:/[ \t\r\n\,.\-+]/,WHITESPACE:/[ \t\r\n]/,DIGIT:/[\d]/,SIGN:/[-+]/,POINT:/\./,COMMA:/,/,EXP:/e/i,FLAGS:/[01]/},l=0,c=!0,f="",h="",d=[];function v(e,i,t){var r=new SyntaxError('Unexpected character "'+e+'" at index '+i+".");throw r.partial=t,r}function m(){""!==f&&(""===h?d.push(Number(f)):d.push(Number(f)*Math.pow(10,Number(h)))),f="",h=""}for(var y=input.length,i=0;i<y;i++)if(r=input[i],Array.isArray(e)&&e.includes(d.length%t)&&o.FLAGS.test(r))l=1,f=r,m();else{if(0===l){if(o.WHITESPACE.test(r))continue;if(o.DIGIT.test(r)||o.SIGN.test(r)){l=1,f=r;continue}if(o.POINT.test(r)){l=2,f=r;continue}o.COMMA.test(r)&&(c&&v(r,i,d),c=!0)}if(1===l){if(o.DIGIT.test(r)){f+=r;continue}if(o.POINT.test(r)){f+=r,l=2;continue}if(o.EXP.test(r)){l=3;continue}o.SIGN.test(r)&&1===f.length&&o.SIGN.test(f[0])&&v(r,i,d)}if(2===l){if(o.DIGIT.test(r)){f+=r;continue}if(o.EXP.test(r)){l=3;continue}o.POINT.test(r)&&"."===f[f.length-1]&&v(r,i,d)}if(3===l){if(o.DIGIT.test(r)){h+=r;continue}if(o.SIGN.test(r)){if(""===h){h+=r;continue}1===h.length&&o.SIGN.test(h)&&v(r,i,d)}}o.WHITESPACE.test(r)?(m(),l=0,c=!1):o.COMMA.test(r)?(m(),l=0,c=!0):o.SIGN.test(r)?(m(),l=1,f=r):o.POINT.test(r)?(m(),l=2,f=r):v(r,i,d)}return m(),d}var h=["mm","cm","in","pt","pc","px"],d={mm:{mm:1,cm:.1,in:1/25.4,pt:72/25.4,pc:6/25.4,px:-1},cm:{mm:10,cm:1,in:1/2.54,pt:72/2.54,pc:6/2.54,px:-1},in:{mm:25.4,cm:2.54,in:1,pt:72,pc:6,px:-1},pt:{mm:25.4/72,cm:2.54/72,in:1/72,pt:1,pc:6/72,px:-1},pc:{mm:25.4/6,cm:2.54/6,in:1/6,pt:12,pc:1,px:-1},px:{px:1}};function m(t){var r="px";if("string"==typeof t||t instanceof String)for(var i=0,n=h.length;i<n;i++){var u=h[i];if(t.endsWith(u)){r=u,t=t.substring(0,t.length-u.length);break}}var o=void 0;return"px"===r&&"px"!==e.defaultUnit?o=d.in[e.defaultUnit]/e.defaultDPI:(o=d[r][e.defaultUnit])<0&&(o=d[r].in*e.defaultDPI),o*parseFloat(t)}function y(e){var t=e.elements;return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function x(e){var t=e.elements;return Math.sqrt(t[3]*t[3]+t[4]*t[4])}var T=[],w={},_=[],M=new v.A,S=new v.A,k=new v.A,O=new v.A,E=new v.cb,C=new v.db,P=new v.A,A=(new DOMParser).parseFromString(text,"image/svg+xml");return function e(r,style){if(1===r.nodeType){var n=function(e){if(!(e.hasAttribute("transform")||"use"===e.nodeName&&(e.hasAttribute("x")||e.hasAttribute("y"))))return null;var t=function(e){var t=new v.A,r=M;if("use"===e.nodeName&&(e.hasAttribute("x")||e.hasAttribute("y"))){var n=m(e.getAttribute("x")),o=m(e.getAttribute("y"));t.translate(n,o)}if(e.hasAttribute("transform"))for(var l=e.getAttribute("transform").split(")"),c=l.length-1;c>=0;c--){var h=l[c].trim();if(""!==h){var d=h.indexOf("("),y=h.length;if(d>0&&d<y){var x=h.slice(0,d),T=f(h.slice(d+1));switch(r.identity(),x){case"translate":if(T.length>=1){var w=T[0],_=w;T.length>=2&&(_=T[1]),r.translate(w,_)}break;case"rotate":if(T.length>=1){var E=0,C=0,P=0;E=-T[0]*Math.PI/180,T.length>=3&&(C=T[1],P=T[2]),S.identity().translate(-C,-P),k.identity().rotate(E),O.multiplyMatrices(k,S),S.identity().translate(C,P),r.multiplyMatrices(S,O)}break;case"scale":if(T.length>=1){var A=T[0],R=A;T.length>=2&&(R=T[1]),r.scale(A,R)}break;case"skewX":1===T.length&&r.set(1,Math.tan(T[0]*Math.PI/180),0,0,1,0,0,0,1);break;case"skewY":1===T.length&&r.set(1,0,0,Math.tan(T[0]*Math.PI/180),1,0,0,0,1);break;case"matrix":6===T.length&&r.set(T[0],T[2],T[4],T[1],T[3],T[5],0,0,1)}}t.premultiply(r)}}return t}(e);_.length>0&&t.premultiply(_[_.length-1]);return P.copy(t),_.push(t),t}(r),h=!1,path=null;switch(r.nodeName){case"svg":style=l(r,style);break;case"style":!function(e){if(!e.sheet||!e.sheet.cssRules||!e.sheet.cssRules.length)return;for(var i=0;i<e.sheet.cssRules.length;i++){var t=e.sheet.cssRules[i];if(1===t.type)for(var r=t.selectorText.split(/,/gm).filter(Boolean).map((function(i){return i.trim()})),n=0;n<r.length;n++){var l=Object.fromEntries(Object.entries(t.style).filter((function(e){return""!==Object(o.a)(e,2)[1]})));w[r[n]]=Object.assign(w[r[n]]||{},l)}}}(r);break;case"g":style=l(r,style);break;case"path":style=l(r,style),r.hasAttribute("d")&&(path=function(e){for(var path=new v.V,r=new v.cb,n=new v.cb,o=new v.cb,l=!0,h=!1,d=e.getAttribute("d").match(/[a-df-z][^a-df-z]*/gi),i=0,m=d.length;i<m;i++){var y=d[i],x=y.charAt(0),T=y.slice(1).trim();!0===l&&(h=!0,l=!1);var w=void 0;switch(x){case"M":for(var _=0,M=(w=f(T)).length;_<M;_+=2)r.x=w[_+0],r.y=w[_+1],n.x=r.x,n.y=r.y,0===_?path.moveTo(r.x,r.y):path.lineTo(r.x,r.y),0===_&&o.copy(r);break;case"H":for(var S=0,k=(w=f(T)).length;S<k;S++)r.x=w[S],n.x=r.x,n.y=r.y,path.lineTo(r.x,r.y),0===S&&!0===h&&o.copy(r);break;case"V":for(var O=0,E=(w=f(T)).length;O<E;O++)r.y=w[O],n.x=r.x,n.y=r.y,path.lineTo(r.x,r.y),0===O&&!0===h&&o.copy(r);break;case"L":for(var C=0,P=(w=f(T)).length;C<P;C+=2)r.x=w[C+0],r.y=w[C+1],n.x=r.x,n.y=r.y,path.lineTo(r.x,r.y),0===C&&!0===h&&o.copy(r);break;case"C":for(var A=0,R=(w=f(T)).length;A<R;A+=6)path.bezierCurveTo(w[A+0],w[A+1],w[A+2],w[A+3],w[A+4],w[A+5]),n.x=w[A+2],n.y=w[A+3],r.x=w[A+4],r.y=w[A+5],0===A&&!0===h&&o.copy(r);break;case"S":for(var B=0,j=(w=f(T)).length;B<j;B+=4)path.bezierCurveTo(c(r.x,n.x),c(r.y,n.y),w[B+0],w[B+1],w[B+2],w[B+3]),n.x=w[B+0],n.y=w[B+1],r.x=w[B+2],r.y=w[B+3],0===B&&!0===h&&o.copy(r);break;case"Q":for(var I=0,D=(w=f(T)).length;I<D;I+=4)path.quadraticCurveTo(w[I+0],w[I+1],w[I+2],w[I+3]),n.x=w[I+0],n.y=w[I+1],r.x=w[I+2],r.y=w[I+3],0===I&&!0===h&&o.copy(r);break;case"T":for(var L=0,N=(w=f(T)).length;L<N;L+=2){var z=c(r.x,n.x),U=c(r.y,n.y);path.quadraticCurveTo(z,U,w[L+0],w[L+1]),n.x=z,n.y=U,r.x=w[L+0],r.y=w[L+1],0===L&&!0===h&&o.copy(r)}break;case"A":for(var F=0,V=(w=f(T,[3,4],7)).length;F<V;F+=7)if(w[F+5]!=r.x||w[F+6]!=r.y){var H=r.clone();r.x=w[F+5],r.y=w[F+6],n.x=r.x,n.y=r.y,t(path,w[F],w[F+1],w[F+2],w[F+3],w[F+4],H,r),0===F&&!0===h&&o.copy(r)}break;case"m":for(var Y=0,G=(w=f(T)).length;Y<G;Y+=2)r.x+=w[Y+0],r.y+=w[Y+1],n.x=r.x,n.y=r.y,0===Y?path.moveTo(r.x,r.y):path.lineTo(r.x,r.y),0===Y&&o.copy(r);break;case"h":for(var X=0,W=(w=f(T)).length;X<W;X++)r.x+=w[X],n.x=r.x,n.y=r.y,path.lineTo(r.x,r.y),0===X&&!0===h&&o.copy(r);break;case"v":for(var Z=0,Q=(w=f(T)).length;Z<Q;Z++)r.y+=w[Z],n.x=r.x,n.y=r.y,path.lineTo(r.x,r.y),0===Z&&!0===h&&o.copy(r);break;case"l":for(var K=0,J=(w=f(T)).length;K<J;K+=2)r.x+=w[K+0],r.y+=w[K+1],n.x=r.x,n.y=r.y,path.lineTo(r.x,r.y),0===K&&!0===h&&o.copy(r);break;case"c":for(var $=0,ee=(w=f(T)).length;$<ee;$+=6)path.bezierCurveTo(r.x+w[$+0],r.y+w[$+1],r.x+w[$+2],r.y+w[$+3],r.x+w[$+4],r.y+w[$+5]),n.x=r.x+w[$+2],n.y=r.y+w[$+3],r.x+=w[$+4],r.y+=w[$+5],0===$&&!0===h&&o.copy(r);break;case"s":for(var te=0,re=(w=f(T)).length;te<re;te+=4)path.bezierCurveTo(c(r.x,n.x),c(r.y,n.y),r.x+w[te+0],r.y+w[te+1],r.x+w[te+2],r.y+w[te+3]),n.x=r.x+w[te+0],n.y=r.y+w[te+1],r.x+=w[te+2],r.y+=w[te+3],0===te&&!0===h&&o.copy(r);break;case"q":for(var ne=0,ie=(w=f(T)).length;ne<ie;ne+=4)path.quadraticCurveTo(r.x+w[ne+0],r.y+w[ne+1],r.x+w[ne+2],r.y+w[ne+3]),n.x=r.x+w[ne+0],n.y=r.y+w[ne+1],r.x+=w[ne+2],r.y+=w[ne+3],0===ne&&!0===h&&o.copy(r);break;case"t":for(var ae=0,oe=(w=f(T)).length;ae<oe;ae+=2){var se=c(r.x,n.x),ue=c(r.y,n.y);path.quadraticCurveTo(se,ue,r.x+w[ae+0],r.y+w[ae+1]),n.x=se,n.y=ue,r.x=r.x+w[ae+0],r.y=r.y+w[ae+1],0===ae&&!0===h&&o.copy(r)}break;case"a":for(var le=0,ce=(w=f(T,[3,4],7)).length;le<ce;le+=7)if(0!=w[le+5]||0!=w[le+6]){var fe=r.clone();r.x+=w[le+5],r.y+=w[le+6],n.x=r.x,n.y=r.y,t(path,w[le],w[le+1],w[le+2],w[le+3],w[le+4],fe,r),0===le&&!0===h&&o.copy(r)}break;case"Z":case"z":path.currentPath.autoClose=!0,path.currentPath.curves.length>0&&(r.copy(o),path.currentPath.currentPoint.copy(r),l=!0);break;default:console.warn(y)}h=!1}return path}(r));break;case"rect":style=l(r,style),path=function(e){var t=m(e.getAttribute("x")||0),r=m(e.getAttribute("y")||0),n=m(e.getAttribute("rx")||e.getAttribute("ry")||0),o=m(e.getAttribute("ry")||e.getAttribute("rx")||0),l=m(e.getAttribute("width")),c=m(e.getAttribute("height")),f=.448084975506,path=new v.V;path.moveTo(t+n,r),path.lineTo(t+l-n,r),(0!==n||0!==o)&&path.bezierCurveTo(t+l-n*f,r,t+l,r+o*f,t+l,r+o);path.lineTo(t+l,r+c-o),(0!==n||0!==o)&&path.bezierCurveTo(t+l,r+c-o*f,t+l-n*f,r+c,t+l-n,r+c);path.lineTo(t+n,r+c),(0!==n||0!==o)&&path.bezierCurveTo(t+n*f,r+c,t,r+c-o*f,t,r+c-o);path.lineTo(t,r+o),(0!==n||0!==o)&&path.bezierCurveTo(t,r+o*f,t+n*f,r,t+n,r);return path}(r);break;case"polygon":style=l(r,style),path=function(e){function t(e,a,b){var t=m(a),r=m(b);0===n?path.moveTo(t,r):path.lineTo(t,r),n++}var r=/(-?[\d\.?]+)[,|\s](-?[\d\.?]+)/g,path=new v.V,n=0;return e.getAttribute("points").replace(r,t),path.currentPath.autoClose=!0,path}(r);break;case"polyline":style=l(r,style),path=function(e){function t(e,a,b){var t=m(a),r=m(b);0===n?path.moveTo(t,r):path.lineTo(t,r),n++}var r=/(-?[\d\.?]+)[,|\s](-?[\d\.?]+)/g,path=new v.V,n=0;return e.getAttribute("points").replace(r,t),path.currentPath.autoClose=!1,path}(r);break;case"circle":style=l(r,style),path=function(e){var t=m(e.getAttribute("cx")||0),r=m(e.getAttribute("cy")||0),n=m(e.getAttribute("r")||0),o=new v.I;o.absarc(t,r,n,0,2*Math.PI);var path=new v.V;return path.subPaths.push(o),path}(r);break;case"ellipse":style=l(r,style),path=function(e){var t=m(e.getAttribute("cx")||0),r=m(e.getAttribute("cy")||0),n=m(e.getAttribute("rx")||0),o=m(e.getAttribute("ry")||0),l=new v.I;l.absellipse(t,r,n,o,0,2*Math.PI);var path=new v.V;return path.subPaths.push(l),path}(r);break;case"line":style=l(r,style),path=function(e){var t=m(e.getAttribute("x1")||0),r=m(e.getAttribute("y1")||0),n=m(e.getAttribute("x2")||0),o=m(e.getAttribute("y2")||0),path=new v.V;return path.moveTo(t,r),path.lineTo(n,o),path.currentPath.autoClose=!1,path}(r);break;case"defs":h=!0;break;case"use":style=l(r,style);var d=(r.getAttributeNS("http://www.w3.org/1999/xlink","href")||"").substring(1),A=r.viewportElement.getElementById(d);A?e(A,style):console.warn("SVGLoader: 'use node' references non-existent node id: "+d)}path&&(void 0!==style.fill&&"none"!==style.fill&&path.color.setStyle(style.fill),function(path,e){function t(t){C.set(t.x,t.y,1).applyMatrix3(e),t.set(C.x,C.y)}for(var r=function(e){return 0!==e.elements[1]||0!==e.elements[3]}(e),n=path.subPaths,i=0,o=n.length;i<o;i++)for(var l=n[i].curves,c=0;c<l.length;c++){var f=l[c];f.isLineCurve?(t(f.v1),t(f.v2)):f.isCubicBezierCurve?(t(f.v0),t(f.v1),t(f.v2),t(f.v3)):f.isQuadraticBezierCurve?(t(f.v0),t(f.v1),t(f.v2)):f.isEllipseCurve&&(r&&console.warn("SVGLoader: Elliptic arc or ellipse rotation or skewing is not implemented."),E.set(f.aX,f.aY),t(E),f.aX=E.x,f.aY=E.y,f.xRadius*=y(e),f.yRadius*=x(e))}}(path,P),T.push(path),path.userData={node:r,style:style});for(var R=r.childNodes,i=0;i<R.length;i++){var B=R[i];h&&"style"!==B.nodeName&&"defs"!==B.nodeName||e(B,style)}n&&(_.pop(),_.length>0?P.copy(_[_.length-1]):P.identity())}}(A.documentElement,{fill:"#000",fillOpacity:1,strokeOpacity:1,strokeWidth:1,strokeLineJoin:"miter",strokeLineCap:"butt",strokeMiterLimit:4}),{paths:T,xml:A.documentElement}}}],[{key:"createShapes",value:function(e){var t=999999999,r=0,n=1,o=2,l=3,c=4,f=5,h=6,d={loc:r,t:0};function m(e,t,n,l){var c=e.x,f=t.x,h=n.x,v=l.x,m=e.y,x=t.y,T=n.y,w=l.y,_=(v-h)*(m-T)-(w-T)*(c-h),M=(w-T)*(f-c)-(v-h)*(x-m),S=_/M,k=((f-c)*(m-T)-(x-m)*(c-h))/M;if(0===M&&0!==_||S<=0||S>=1||k<0||k>1)return null;if(0===_&&0===M){for(var i=0;i<2;i++){if(y(0===i?n:l,e,t),d.loc==r){var O=0===i?n:l;return{x:O.x,y:O.y,t:d.t}}if(d.loc==o)return{x:+(c+d.t*(f-c)).toPrecision(10),y:+(m+d.t*(x-m)).toPrecision(10),t:d.t}}return null}for(var E=0;E<2;E++)if(y(0===E?n:l,e,t),d.loc==r){var C=0===E?n:l;return{x:C.x,y:C.y,t:d.t}}return{x:+(c+S*(f-c)).toPrecision(10),y:+(m+S*(x-m)).toPrecision(10),t:S}}function y(p,e,t){var v,m=t.x-e.x,y=t.y-e.y,x=p.x-e.x,T=p.y-e.y,w=m*T-x*y;if(p.x===e.x&&p.y===e.y)return d.loc=r,void(d.t=0);if(p.x===t.x&&p.y===t.y)return d.loc=n,void(d.t=1);w<-Number.EPSILON?d.loc=l:w>Number.EPSILON?d.loc=c:m*x<0||y*T<0?d.loc=f:Math.sqrt(m*m+y*y)<Math.sqrt(x*x+T*T)?d.loc=h:(v=0!==m?x/m:T/y,d.loc=o,d.t=v)}function x(e,t,r){var n=new v.cb;t.getCenter(n);var o=[];return r.forEach((function(path){path.boundingBox.containsPoint(n)&&function(e,t){for(var r=[],n=[],o=1;o<e.length;o++)for(var l=e[o-1],c=e[o],f=function(e){var o=t[e-1],f=t[e],h=m(l,c,o,f);null!==h&&void 0===r.find((function(i){return i.t<=h.t+Number.EPSILON&&i.t>=h.t-Number.EPSILON}))&&(r.push(h),n.push(new v.cb(h.x,h.y)))},h=1;h<t.length;h++)f(h);return n}(e,path.points).forEach((function(p){o.push({identifier:path.identifier,isCW:path.isCW,point:p})}))})),o.sort((function(e,t){return e.point.x-t.point.x})),o}var T=0,w=t,_=-999999999,M=e.subPaths.map((function(p){for(var e=p.getPoints(),r=-999999999,n=t,o=-999999999,l=t,i=0;i<e.length;i++){var c=e[i];c.y>r&&(r=c.y),c.y<n&&(n=c.y),c.x>o&&(o=c.x),c.x<l&&(l=c.x)}return _<=o&&(_=o+1),w>=l&&(w=l-1),{curves:p.curves,points:e,isCW:v.W.isClockWise(e),identifier:T++,boundingBox:new v.d(new v.cb(l,n),new v.cb(o,r))}})),S=(M=M.filter((function(e){return e.points.length>1}))).map((function(p){var t;return function(e,t,r,n,o){null!=o&&""!==o||(o="nonzero");var l=new v.cb;e.boundingBox.getCenter(l);var c=x([new v.cb(r,l.y),new v.cb(n,l.y)],e.boundingBox,t);c.sort((function(e,t){return e.point.x-t.point.x}));var f=[],h=[];c.forEach((function(i){i.identifier===e.identifier?f.push(i):h.push(i)}));for(var d=f[0].point.x,m=[],i=0;i<h.length&&h[i].point.x<d;)m.length>0&&m[m.length-1]===h[i].identifier?m.pop():m.push(h[i].identifier),i++;if(m.push(e.identifier),"evenodd"===o){var y=m.length%2==0,T=m[m.length-2];return{identifier:e.identifier,isHole:y,for:T}}if("nonzero"===o){for(var w=!0,_=null,M=null,S=0;S<m.length;S++){var k=m[S];w?(M=t[k].isCW,w=!1,_=k):M!==t[k].isCW&&(M=t[k].isCW,w=!0)}return{identifier:e.identifier,isHole:w,for:_}}console.warn('fill-rule: "'+o+'" is currently not implemented.')}(p,M,w,_,null===(t=e.userData)||void 0===t?void 0:t.style.fillRule)})),k=[];return M.forEach((function(p){if(!S[p.identifier].isHole){var e=new v.U;e.curves=p.curves,S.filter((function(e){return e.isHole&&e.for===p.identifier})).forEach((function(t){var r=M[t.identifier],path=new v.I;path.curves=r.curves,e.holes.push(path)})),k.push(e)}})),k}},{key:"getStrokeStyle",value:function(e,t,r,n,o){return{strokeColor:t=void 0!==t?t:"#000",strokeWidth:e=void 0!==e?e:1,strokeLineJoin:r=void 0!==r?r:"miter",strokeLineCap:n=void 0!==n?n:"butt",strokeMiterLimit:o=void 0!==o?o:4}}},{key:"pointsToStroke",value:function(e,style,t,n){var o=[],l=[],c=[];if(0===r.pointsToStrokeWithBuffers(e,style,t,n,o,l,c))return null;var f=new v.g;return f.setAttribute("position",new v.t(o,3)),f.setAttribute("normal",new v.t(l,3)),f.setAttribute("uv",new v.t(c,2)),f}},{key:"pointsToStrokeWithBuffers",value:function(e,style,t,r,n,o,l,c){var f=new v.cb,h=new v.cb,d=new v.cb,m=new v.cb,y=new v.cb,x=new v.cb,T=new v.cb,w=new v.cb,_=new v.cb,M=new v.cb,S=new v.cb,k=new v.cb,O=new v.cb,E=new v.cb,C=new v.cb,P=new v.cb,A=new v.cb;t=void 0!==t?t:12,r=void 0!==r?r:.001,c=void 0!==c?c:0;var R=(e=function(e){for(var t=!1,i=1,n=e.length-1;i<n;i++)if(e[i].distanceTo(e[i+1])<r){t=!0;break}if(!t)return e;var o=[];o.push(e[0]);for(var l=1,c=e.length-1;l<c;l++)e[l].distanceTo(e[l+1])>=r&&o.push(e[l]);return o.push(e[e.length-1]),o}(e)).length;if(R<2)return 0;var B,j,I,D,L,N,z=e[0].equals(e[R-1]),U=e[0],F=style.strokeWidth/2,V=1/(R-1),H=0,Y=!1,G=0,X=3*c,W=2*c;ae(e[0],e[1],f).multiplyScalar(F),w.copy(e[0]).sub(f),_.copy(e[0]).add(f),M.copy(w),S.copy(_);for(var Z=1;Z<R;Z++){B=e[Z],j=Z===R-1?z?e[1]:void 0:e[Z+1];var Q=f;if(ae(U,B,Q),d.copy(Q).multiplyScalar(F),k.copy(B).sub(d),O.copy(B).add(d),I=H+V,D=!1,void 0!==j){ae(B,j,h),d.copy(h).multiplyScalar(F),E.copy(B).sub(d),C.copy(B).add(d),L=!0,d.subVectors(j,U),Q.dot(d)<0&&(L=!1),1===Z&&(Y=L),d.subVectors(j,B),d.normalize();var K=Math.abs(Q.dot(d));if(K>Number.EPSILON){var J=F/K;d.multiplyScalar(-J),m.subVectors(B,U),y.copy(m).setLength(J).add(d),P.copy(y).negate();var $=y.length(),ee=m.length();m.divideScalar(ee),x.subVectors(j,B);var te=x.length();switch(x.divideScalar(te),m.dot(P)<ee&&x.dot(P)<te&&(D=!0),A.copy(y).add(B),P.add(B),N=!1,D?L?(C.copy(P),O.copy(P)):(E.copy(P),k.copy(P)):ue(),style.strokeLineJoin){case"bevel":le(L,D,I);break;case"round":ce(L,D),L?se(B,k,E,I,0):se(B,C,O,I,1);break;case"miter":case"miter-clip":default:var re=F*style.strokeMiterLimit/$;if(re<1){if("miter-clip"!==style.strokeLineJoin){le(L,D,I);break}ce(L,D),L?(x.subVectors(A,k).multiplyScalar(re).add(k),T.subVectors(A,E).multiplyScalar(re).add(E),oe(k,I,0),oe(x,I,0),oe(B,I,.5),oe(B,I,.5),oe(x,I,0),oe(T,I,0),oe(B,I,.5),oe(T,I,0),oe(E,I,0)):(x.subVectors(A,O).multiplyScalar(re).add(O),T.subVectors(A,C).multiplyScalar(re).add(C),oe(O,I,1),oe(x,I,1),oe(B,I,.5),oe(B,I,.5),oe(x,I,1),oe(T,I,1),oe(B,I,.5),oe(T,I,1),oe(C,I,1))}else D?(L?(oe(_,H,1),oe(w,H,0),oe(A,I,0),oe(_,H,1),oe(A,I,0),oe(P,I,1)):(oe(_,H,1),oe(w,H,0),oe(A,I,1),oe(w,H,0),oe(P,I,0),oe(A,I,1)),L?E.copy(A):C.copy(A)):L?(oe(k,I,0),oe(A,I,0),oe(B,I,.5),oe(B,I,.5),oe(A,I,0),oe(E,I,0)):(oe(O,I,1),oe(A,I,1),oe(B,I,.5),oe(B,I,.5),oe(A,I,1),oe(C,I,1)),N=!0}}else ue()}else ue();z||Z!==R-1||fe(e[0],M,S,L,!0,H),H=I,U=B,w.copy(E),_.copy(C)}if(z){if(D&&n){var ne=A,ie=P;Y!==L&&(ne=P,ie=A),L?(N||Y)&&(ie.toArray(n,0),ie.toArray(n,9),N&&ne.toArray(n,3)):!N&&Y||(ie.toArray(n,3),ie.toArray(n,9),N&&ne.toArray(n,0))}}else fe(B,k,O,L,!1,I);return G;function ae(e,t,r){return r.subVectors(t,e),r.set(-r.y,r.x).normalize()}function oe(e,u,t){n&&(n[X]=e.x,n[X+1]=e.y,n[X+2]=0,o&&(o[X]=0,o[X+1]=0,o[X+2]=1),X+=3,l&&(l[W]=u,l[W+1]=t,W+=2)),G+=3}function se(e,r,n,u,o){f.copy(r).sub(e).normalize(),h.copy(n).sub(e).normalize();var l=Math.PI,c=f.dot(h);Math.abs(c)<1&&(l=Math.abs(Math.acos(c))),l/=t,d.copy(r);for(var i=0,v=t-1;i<v;i++)m.copy(d).rotateAround(e,l),oe(d,u,o),oe(m,u,o),oe(e,u,.5),d.copy(m);oe(m,u,o),oe(n,u,o),oe(e,u,.5)}function ue(){oe(_,H,1),oe(w,H,0),oe(k,I,0),oe(_,H,1),oe(k,I,1),oe(O,I,0)}function le(e,t,u){t?e?(oe(_,H,1),oe(w,H,0),oe(k,I,0),oe(_,H,1),oe(k,I,0),oe(P,I,1),oe(k,u,0),oe(E,u,0),oe(P,u,.5)):(oe(_,H,1),oe(w,H,0),oe(O,I,1),oe(w,H,0),oe(P,I,0),oe(O,I,1),oe(O,u,1),oe(C,u,0),oe(P,u,.5)):e?(oe(k,u,0),oe(E,u,0),oe(B,u,.5)):(oe(O,u,1),oe(C,u,0),oe(B,u,.5))}function ce(e,t){t&&(e?(oe(_,H,1),oe(w,H,0),oe(k,I,0),oe(_,H,1),oe(k,I,0),oe(P,I,1),oe(k,H,0),oe(B,I,.5),oe(P,I,1),oe(B,I,.5),oe(E,H,0),oe(P,I,1)):(oe(_,H,1),oe(w,H,0),oe(O,I,1),oe(w,H,0),oe(P,I,0),oe(O,I,1),oe(O,H,1),oe(P,I,0),oe(B,I,.5),oe(B,I,.5),oe(P,I,0),oe(C,H,1)))}function fe(e,t,r,o,l,u){switch(style.strokeLineCap){case"round":l?se(e,r,t,u,.5):se(e,t,r,u,.5);break;case"square":if(l)f.subVectors(t,e),h.set(f.y,-f.x),d.addVectors(f,h).add(e),m.subVectors(h,f).add(e),o?(d.toArray(n,3),m.toArray(n,0),m.toArray(n,9)):(d.toArray(n,3),d.toArray(n,9),m.toArray(n,0));else{f.subVectors(r,e),h.set(f.y,-f.x),d.addVectors(f,h).add(e),m.subVectors(h,f).add(e);var c=n.length;o?(d.toArray(n,c-3),m.toArray(n,c-6),m.toArray(n,c-12)):(d.toArray(n,c-6),m.toArray(n,c-3),m.toArray(n,c-12))}}}}}]),r}(v.y)},790:function(e,t,r){var n=r(2),o=r(167),l=r(54);n({target:"Object",stat:!0},{fromEntries:function(e){var t={};return o(e,(function(e,r){l(t,e,r)}),{AS_ENTRIES:!0}),t}})},791:function(e,t,r){"use strict";var n=r(2),o=r(49).findIndex,l=r(90),c="findIndex",f=!0;c in[]&&Array(1).findIndex((function(){f=!1})),n({target:"Array",proto:!0,forced:f},{findIndex:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),l(c)},829:function(e,t,r){(function(r){var n,o,l;o=[],void 0===(l="function"==typeof(n=function(){"use strict";function b(a,b){return void 0===b?b={autoBom:!1}:"object"!=typeof b&&(console.warn("Deprecated: Expected third argument to be a object"),b={autoBom:!b}),b.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\ufeff",a],{type:a.type}):a}function t(a,b,e){var t=new XMLHttpRequest;t.open("GET",a),t.responseType="blob",t.onload=function(){g(t.response,b,e)},t.onerror=function(){console.error("could not download file")},t.send()}function n(a){var b=new XMLHttpRequest;b.open("HEAD",a,!1);try{b.send()}catch(a){}return 200<=b.status&&299>=b.status}function o(a){try{a.dispatchEvent(new MouseEvent("click"))}catch(e){var b=document.createEvent("MouseEvents");b.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),a.dispatchEvent(b)}}var l="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof r&&r.global===r?r:void 0,a=l.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),g=l.saveAs||("object"!=typeof window||window!==l?function(){}:"download"in HTMLAnchorElement.prototype&&!a?function(b,g,e){var i=l.URL||l.webkitURL,r=document.createElement("a");g=g||b.name||"download",r.download=g,r.rel="noopener","string"==typeof b?(r.href=b,r.origin===location.origin?o(r):n(r.href)?t(b,g,e):o(r,r.target="_blank")):(r.href=i.createObjectURL(b),setTimeout((function(){i.revokeObjectURL(r.href)}),4e4),setTimeout((function(){o(r)}),0))}:"msSaveOrOpenBlob"in navigator?function(e,g,r){if(g=g||e.name||"download","string"!=typeof e)navigator.msSaveOrOpenBlob(b(e,r),g);else if(n(e))t(e,g,r);else{var i=document.createElement("a");i.href=e,i.target="_blank",setTimeout((function(){o(i)}))}}:function(b,e,r,g){if((g=g||open("","_blank"))&&(g.document.title=g.document.body.innerText="downloading..."),"string"==typeof b)return t(b,e,r);var n="application/octet-stream"===b.type,i=/constructor/i.test(l.HTMLElement)||l.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||n&&i||a)&&"undefined"!=typeof FileReader){var c=new FileReader;c.onloadend=function(){var a=c.result;a=o?a:a.replace(/^data:[^;]*;/,"data:attachment/file;"),g?g.location.href=a:location=a,g=null},c.readAsDataURL(b)}else{var f=l.URL||l.webkitURL,h=f.createObjectURL(b);g?g.location=h:location.href=h,g=null,setTimeout((function(){f.revokeObjectURL(h)}),4e4)}});l.saveAs=g.saveAs=g,e.exports=g})?n.apply(t,o):n)||(e.exports=l)}).call(this,r(31))}}]);