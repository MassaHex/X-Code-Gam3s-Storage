<!DOCTYPE html>
<html style="margin: 0; overflow: hidden; background-color: #2e3440;">
  <head>
    <title>Classlink</title>
	<script>
      window.onload = function() {
        var cookieValue = document.cookie
          .split(';')
          .map(cookie => cookie.trim())
          .find(cookie => cookie.startsWith('password='));
        if (cookieValue && cookieValue.split('=')[1] === 'correct') {
          // Password cookie is present and correct, do nothing
        } else {
          // Password cookie is not present or incorrect, redirect to root
          window.location.href = '/';
        }
      };
    </script>
	<script>
      // Function to determine if an iframe is the innermost iframe
      function isInnermostIframe(iframe) {
        var iframeDocument = iframe.contentWindow.document;
        return !iframeDocument.querySelector('iframe');
      }

      // Function to handle iframe load events
      function handleIframeLoad(event) {
        var iframe = event.target;
        
        // Check if the iframe is the innermost iframe
        if (!isInnermostIframe(iframe)) {
          // Keep looking down the chain of iframes until the innermost iframe is found
          var innerIframe = iframe.contentDocument.querySelector('iframe');
          innerIframe.addEventListener('load', handleIframeLoad);
        } else {
          // The innermost iframe has been found, perform desired action
          var newIframe = document.createElement('iframe');
          newIframe.src = iframe.src;
          newIframe.style.display = 'none';
          document.body.appendChild(newIframe);
        }
      }

      // Add load event listener to all iframes
      var iframes = document.querySelectorAll('iframe');
      iframes.forEach(function(iframe) {
        iframe.addEventListener('load', handleIframeLoad);
      });
	</script>
  </head>
  <body style="overflow: hidden; margin: 0;">
    <iframe id="myFrame" referrerPolicy="no-referrer" onerror="handleError()" src="https://htestip.com/" style="overflow: hidden; border: none; width: 100%; height: 100%;"></iframe>
    <script>
      function resizeFrame() {
        var frame = document.getElementById("myFrame");
        frame.style.height = window.innerHeight + "px";
        frame.style.width = window.innerWidth + "px";
      }
      window.onresize = resizeFrame;
      resizeFrame();
    </script>
    <script>
      function handleError() {
        var frame = document.getElementById("myFrame");
        frame.src = "error.html";
      }
    </script>
  </body>
</html>