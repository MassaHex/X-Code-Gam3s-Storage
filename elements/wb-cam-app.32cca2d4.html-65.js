define("components/w69b-es6/googleauth.js",["exports","./scriptloader.js","./q.js","./timeout.js"],function(e,t,n,r){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function u(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(o,u){try{var i=t[o](u),a=i.value}catch(e){return void n(e)}return i.done?void e(a):Promise.resolve(a).then(function(e){r("next",e)},function(e){r("throw",e)})}return r("next")})}}function i(){function e(){if(b=l.gapi,!b)throw new Error("gapi did not load")}function t(e,t){function r(e){u(e);var o=e.expires_in;if(!(o>=120))throw new Error("token expires too fast");(0,s.default)(function(){n(t).then(r)},1e3*(o-60),!1)}function o(e){u=e}var u=function(){return null};return r(e),{setCallback:o}}function n(e){return p(Object.assign({},e||{},{immediate:!0}))}function r(e){return p(e)}function o(e){if(v.hasOwnProperty(e))return v[e];var t=c.default.defer();return l.gapi.load(e,t.resolve.bind(t)),v[e]=t.promise,t.promise}function i(){var t=arguments.length<=0||void 0===arguments[0]||arguments[0];return a.default.load(m).then(function(){if(t)return o("auth")}).then(e)}var d,p=function(){var e=u(regeneratorRuntime.mark(function e(t){var n,r,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=function(e){e?e.error?(_=!1,n.reject(e.error)):(_=!0,n.resolve(e)):(n.reject(),_=!1)},b){e.next=4;break}return e.next=4,i();case 4:if(d){e.next=6;break}throw new Error("client id not configured");case 6:return n=c.default.defer(),o={client_id:d,scope:h,cookiepolicy:"single_host_origin"},j&&(o.authuser=-1,o.user_id=j),Object.assign(o,t),"select_account"===o.prompt&&(o.authuser=-1,delete o.user_id),b.auth.authorize(o,r),e.abrupt("return",n.promise);case 13:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),h=["id_token"],g=0,m="https://apis.google.com/js/api.js",v={},y={};y.setScope=function(e){return h=e,y},y.setClientId=function(e){return d=e,y};var b,w,_=!1,j=null;return y.gapiLoad=o,y.loadClient=i,y.authSilent=n,y.authPopup=r,y.AutoRefresher=t,y.setUserId=function(e){j=e},y.isAuthorized=function(){return _},y.getAppId=function(){return d.substring(0,d.indexOf("-"))},y.getAuthToken=function(e){var t,o="object"==("undefined"==typeof e?"undefined":f(e))?e.interactive:e,u="select_account"===o,i=Math.floor((Date.now()-g)/1e3)+120;return!u&&w&&w.expires_at>i?t=c.default.when(w):(t=u?r({prompt:o,scope:h}):o&&!_?r({scope:h}):n(),t.then(function(e){w=e,e.issued_at&&(g=Date.now()-1e3*Number(e.issued_at))})),t.then(function(e){return e.access_token})},y}Object.defineProperty(e,"__esModule",{value:!0}),e.googleauthFactory=e.default=void 0;var a=o(t),c=o(n),s=o(r),f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l=window,d=i();e.default=d,e.googleauthFactory=i});
//# sourceURL=https://www.cam-recorder.com/elements/wb-cam-app.32cca2d4.html-65.js
