define("components/w69b-es6/files-helper.js",["exports","./promise-tool.js"],function(e,t){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function n(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function n(i,o){try{var u=t[i](o),a=u.value}catch(e){return void r(e)}return u.done?void e(a):Promise.resolve(a).then(function(e){n("next",e)},function(e){n("throw",e)})}return n("next")})}}function i(e){var t=e.split("/"),r=t.slice(0,-1).join("/"),n=t.slice(-1)[0];return[r,n]}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=r(t);window.requestFileSystem=window.requestFileSystem||window.webkitRequestFileSystem;var u={DEFAULT_TYPE:window.PERSISTENT,DEFAULT_SIZE:104857600};u.isSupported=function(){return!!window.requestFileSystem};var a=["readEntries","remove","getFile","getMetadata","moveTo","file","getDirectory","createWriter"];a.forEach(function(e){u[e]=function(t){var r=[].slice.call(arguments,1);return o.default.wrapCallbacks(t[e],t).apply(null,r)}}),u.getFileSystem=function(e,t){return e||(e=u.DEFAULT_TYPE),t=t||u.DEFAULT_SIZE,o.default.wrapCallbacks(window.requestFileSystem,window)(e,t)},u.getPersistentQuota=function(){return new Promise(function(e,t){window.navigator.webkitPersistentStorage.queryUsageAndQuota(function(t,r){e({usage:t,quota:r})},function(e){t(e)})})};var s=window.chrome||{};s.system&&s.system.storage&&(u.getStorageInfo=o.default.wrapChromeError(s.system.storage.getInfo,s.system.storage)),u.getDirByPath=function(e,t){function r(e,n){return n.length?u.getDirectory(e,n[0],t||{}).then(function(e){return r(e,n.slice(1))}):Promise.resolve(e)}var n=e.split("/");return""===n[0]&&n.splice(0,1),u.getFileSystem().then(function(e){return r(e.root,n,t)})},u.moveFileByPath=function(){var e=n(regeneratorRuntime.mark(function e(t,r){var n,o,a,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=i(r),o=n[0],a=n[1],e.next=5,Promise.all([u.getFileEntryByPath(t),u.getDirByPath(o)]);case 5:return s=e.sent,e.abrupt("return",u.moveTo(obj.file,obj.targetDir,a));case 7:case"end":return e.stop()}},e,this)}));return function(t,r){return e.apply(this,arguments)}}(),u.getFileEntryByPath=function(e,t,r){var n=i(e),o=n[0],a=n[1];return u.getDirByPath(o,r).then(function(e){return u.getFile(e,a,t||{})})},u.getFileByPath=function(e){return u.getFileEntryByPath(e).then(function(e){return u.file(e)})},u.removeByPath=function(e){return u.getFileEntryByPath(e).then(function(e){return u.remove(e)})},u.listByPath=function(e){return u.getDirByPath(e).then(function(e){var t=e.createReader();return u.readEntries(t)})},u.requestPersistentQuota=function(e){return o.default.wrapCallbacks(navigator.webkitPersistentStorage.requestQuota,navigator.webkitPersistentStorage)(e||u.DEFAULT_SIZE)},u.requestTemporaryQuota=function(e){return o.default.wrapCallbacks(navigator.webkitTemporaryStorage.requestQuota,navigator.webkitTemporaryStorage)(e||u.DEFAULT_SIZE)},u.writeFile=function(e,t){return new Promise(function(r,n){e.onwriteend=r,e.onerror=n,e.write(t)})},e.default=u});
//# sourceURL=https://www.cam-recorder.com/elements/wb-cam-app.32cca2d4.html-66.js
